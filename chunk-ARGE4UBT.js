import{a as w4,b as Q6,c as Z6,d as P,e as u3,f as d3,m as e8,n as c8,o as y4,p as h3}from"./chunk-PPDSFE5Z.js";import{$ as o,$a as Q2,A as v2,Aa as m4,Ab as G6,B as F,Ba as T6,Bb as K6,C as k,Ca as S1,Da as Y2,E as a4,Ea as J2,F as l2,Fa as E6,G as v6,Ga as D6,H as S2,Ha as P6,I as w2,Ia as F6,J as o4,Ja as O6,K as S6,Ka as U6,L as q2,La as j6,M as l3,Ma as D2,N as w6,Na as _6,Nb as v4,O as y6,P as A,Q as b6,R as D,Ra as w1,Rb as X6,S as I,Sb as S4,Ta as a3,Ua as g4,Ub as Y6,V as m,Va as p2,Vb as J6,W as G2,X as x6,Xa as B6,Y as j,Ya as H6,Z as f4,Za as W6,_ as R,_a as y1,a as z,aa as E2,ab as o3,b as H,ba as N6,ca as K2,d as h6,da as r2,e as p6,ea as k6,eb as z4,f as T2,fa as X2,fb as $6,g as n4,h as l4,hb as L4,i as n2,ia as r3,ib as M4,j as q,ja as M1,jb as f3,k as m6,ka as C1,kb as C4,l as d2,m as $,ma as i3,n as h,na as v1,o as S,oa as h2,p as g6,pa as u4,q as z6,r as L6,ra as A6,rb as V6,s as M6,sa as d4,t as L,u as r4,ua as h4,v as W,va as R6,vb as q6,w as C6,wa as p4,x as i4,xa as I6,y as V2,ya as y2,z as n3}from"./chunk-C3APRFVB.js";var x1=class{},m3=class{},J=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let c=e.indexOf(":");if(c>0){let s=e.slice(0,c),l=e.slice(c+1).trim();this.addHeaderEntry(s,l)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,c)=>{this.addHeaderEntry(c,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,c])=>{this.setHeaderEntries(e,c)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let c=n.value;if(typeof c=="string"&&(c=[c]),c.length===0)return;this.maybeSetNormalizedName(n.name,e);let s=(n.op==="a"?this.headers.get(e):void 0)||[];s.push(...c),this.headers.set(e,s);break;case"d":let l=n.value;if(!l)this.headers.delete(e),this.normalizedNames.delete(e);else{let r=this.headers.get(e);if(!r)return;r=r.filter(i=>l.indexOf(i)===-1),r.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,r)}break}}addHeaderEntry(n,e){let c=n.toLowerCase();this.maybeSetNormalizedName(n,c),this.headers.has(c)?this.headers.get(c).push(e):this.headers.set(c,[e])}setHeaderEntries(n,e){let c=(Array.isArray(e)?e:[e]).map(l=>l.toString()),s=n.toLowerCase();this.headers.set(s,c),this.maybeSetNormalizedName(n,s)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var x4=class{encodeKey(n){return t8(n)}encodeValue(n){return t8(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function Hc(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(s=>{let l=s.indexOf("="),[r,i]=l==-1?[n.decodeKey(s),""]:[n.decodeKey(s.slice(0,l)),n.decodeValue(s.slice(l+1))],a=e.get(r)||[];a.push(i),e.set(r,a)}),e}var Wc=/%(\d[a-f0-9])/gi,$c={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function t8(t){return encodeURIComponent(t).replace(Wc,(n,e)=>$c[e]??n)}function p3(t){return`${t}`}var c2=class t{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new x4,n.fromString){if(n.fromObject)throw new I(2805,!1);this.map=Hc(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let c=n.fromObject[e],s=Array.isArray(c)?c.map(p3):[p3(c)];this.map.set(e,s)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(c=>{let s=n[c];Array.isArray(s)?s.forEach(l=>{e.push({param:c,value:l,op:"a"})}):e.push({param:c,value:s,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(c=>e+"="+this.encoder.encodeValue(c)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(p3(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let c=this.map.get(n.param)||[],s=c.indexOf(p3(n.value));s!==-1&&c.splice(s,1),c.length>0?this.map.set(n.param,c):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var N4=class{map=new Map;set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function Vc(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function s8(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function n8(t){return typeof Blob<"u"&&t instanceof Blob}function l8(t){return typeof FormData<"u"&&t instanceof FormData}function qc(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var r8="Content-Type",i8="Accept",f8="X-Request-URL",u8="text/plain",d8="application/json",Gc=`${d8}, ${u8}, */*`,b1=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,e,c,s){this.url=e,this.method=n.toUpperCase();let l;if(Vc(this.method)||s?(this.body=c!==void 0?c:null,l=s):l=c,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params),this.transferCache=l.transferCache),this.headers??=new J,this.context??=new N4,!this.params)this.params=new c2,this.urlWithParams=e;else{let r=this.params.toString();if(r.length===0)this.urlWithParams=e;else{let i=e.indexOf("?"),a=i===-1?"?":i<e.length-1?"&":"";this.urlWithParams=e+a+r}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||s8(this.body)||n8(this.body)||l8(this.body)||qc(this.body)?this.body:this.body instanceof c2?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||l8(this.body)?null:n8(this.body)?this.body.type||null:s8(this.body)?null:typeof this.body=="string"?u8:this.body instanceof c2?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?d8:null}clone(n={}){let e=n.method||this.method,c=n.url||this.url,s=n.responseType||this.responseType,l=n.transferCache??this.transferCache,r=n.body!==void 0?n.body:this.body,i=n.withCredentials??this.withCredentials,a=n.reportProgress??this.reportProgress,f=n.headers||this.headers,u=n.params||this.params,d=n.context??this.context;return n.setHeaders!==void 0&&(f=Object.keys(n.setHeaders).reduce((p,C)=>p.set(C,n.setHeaders[C]),f)),n.setParams&&(u=Object.keys(n.setParams).reduce((p,C)=>p.set(C,n.setParams[C]),u)),new t(e,c,r,{params:u,headers:f,context:d,reportProgress:a,responseType:s,withCredentials:i,transferCache:l})}},Z2=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Z2||{}),N1=class{headers;status;statusText;url;ok;type;constructor(n,e=200,c="OK"){this.headers=n.headers||new J,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||c,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},k4=class t extends N1{constructor(n={}){super(n)}type=Z2.ResponseHeader;clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},e1=class t extends N1{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=Z2.Response;clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},c1=class extends N1{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},Kc=200,Xc=204;function b4(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var A4=(()=>{class t{handler;constructor(e){this.handler=e}request(e,c,s={}){let l;if(e instanceof b1)l=e;else{let a;s.headers instanceof J?a=s.headers:a=new J(s.headers);let f;s.params&&(s.params instanceof c2?f=s.params:f=new c2({fromObject:s.params})),l=new b1(e,c,s.body!==void 0?s.body:null,{headers:a,context:s.context,params:f,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let r=h(l).pipe(k(a=>this.handler.handle(a)));if(e instanceof b1||s.observe==="events")return r;let i=r.pipe(v2(a=>a instanceof e1));switch(s.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return i.pipe(L(a=>{if(a.body!==null&&!(a.body instanceof ArrayBuffer))throw new I(2806,!1);return a.body}));case"blob":return i.pipe(L(a=>{if(a.body!==null&&!(a.body instanceof Blob))throw new I(2807,!1);return a.body}));case"text":return i.pipe(L(a=>{if(a.body!==null&&typeof a.body!="string")throw new I(2808,!1);return a.body}));case"json":default:return i.pipe(L(a=>a.body))}case"response":return i;default:throw new I(2809,!1)}}delete(e,c={}){return this.request("DELETE",e,c)}get(e,c={}){return this.request("GET",e,c)}head(e,c={}){return this.request("HEAD",e,c)}jsonp(e,c){return this.request("JSONP",e,{params:new c2().append(c,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,c={}){return this.request("OPTIONS",e,c)}patch(e,c,s={}){return this.request("PATCH",e,b4(s,c))}post(e,c,s={}){return this.request("POST",e,b4(s,c))}put(e,c,s={}){return this.request("PUT",e,b4(s,c))}static \u0275fac=function(c){return new(c||t)(R(x1))};static \u0275prov=m({token:t,factory:t.\u0275fac})}return t})();var Yc=new j("");function Jc(t,n){return n(t)}function Qc(t,n,e){return(c,s)=>r2(e,()=>n(c,l=>t(l,s)))}var R4=new j(""),Zc=new j(""),e5=new j("",{providedIn:"root",factory:()=>!0});var a8=(()=>{class t extends x1{backend;injector;chain=null;pendingTasks=o(i3);contributeToStability=o(e5);constructor(e,c){super(),this.backend=e,this.injector=c}handle(e){if(this.chain===null){let c=Array.from(new Set([...this.injector.get(R4),...this.injector.get(Zc,[])]));this.chain=c.reduceRight((s,l)=>Qc(s,l,this.injector),Jc)}if(this.contributeToStability){let c=this.pendingTasks.add();return this.chain(e,s=>this.backend.handle(s)).pipe(S2(()=>this.pendingTasks.remove(c)))}else return this.chain(e,c=>this.backend.handle(c))}static \u0275fac=function(c){return new(c||t)(R(m3),R(K2))};static \u0275prov=m({token:t,factory:t.\u0275fac})}return t})();var c5=/^\)\]\}',?\n/,t5=RegExp(`^${f8}:`,"m");function s5(t){return"responseURL"in t&&t.responseURL?t.responseURL:t5.test(t.getAllResponseHeaders())?t.getResponseHeader(f8):null}var o8=(()=>{class t{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new I(-2800,!1);let c=this.xhrFactory;return(c.\u0275loadImpl?$(c.\u0275loadImpl()):h(null)).pipe(A(()=>new T2(l=>{let r=c.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((b,y)=>r.setRequestHeader(b,y.join(","))),e.headers.has(i8)||r.setRequestHeader(i8,Gc),!e.headers.has(r8)){let b=e.detectContentTypeHeader();b!==null&&r.setRequestHeader(r8,b)}if(e.responseType){let b=e.responseType.toLowerCase();r.responseType=b!=="json"?b:"text"}let i=e.serializeBody(),a=null,f=()=>{if(a!==null)return a;let b=r.statusText||"OK",y=new J(r.getAllResponseHeaders()),T=s5(r)||e.url;return a=new k4({headers:y,status:r.status,statusText:b,url:T}),a},u=()=>{let{headers:b,status:y,statusText:T,url:U}=f(),v=null;y!==Xc&&(v=typeof r.response>"u"?r.responseText:r.response),y===0&&(y=v?Kc:0);let Y=y>=200&&y<300;if(e.responseType==="json"&&typeof v=="string"){let C2=v;v=v.replace(c5,"");try{v=v!==""?JSON.parse(v):null}catch(t4){v=C2,Y&&(Y=!1,v={error:t4,text:v})}}Y?(l.next(new e1({body:v,headers:b,status:y,statusText:T,url:U||void 0})),l.complete()):l.error(new c1({error:v,headers:b,status:y,statusText:T,url:U||void 0}))},d=b=>{let{url:y}=f(),T=new c1({error:b,status:r.status||0,statusText:r.statusText||"Unknown Error",url:y||void 0});l.error(T)},p=!1,C=b=>{p||(l.next(f()),p=!0);let y={type:Z2.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(y.total=b.total),e.responseType==="text"&&r.responseText&&(y.partialText=r.responseText),l.next(y)},M=b=>{let y={type:Z2.UploadProgress,loaded:b.loaded};b.lengthComputable&&(y.total=b.total),l.next(y)};return r.addEventListener("load",u),r.addEventListener("error",d),r.addEventListener("timeout",d),r.addEventListener("abort",d),e.reportProgress&&(r.addEventListener("progress",C),i!==null&&r.upload&&r.upload.addEventListener("progress",M)),r.send(i),l.next({type:Z2.Sent}),()=>{r.removeEventListener("error",d),r.removeEventListener("abort",d),r.removeEventListener("load",u),r.removeEventListener("timeout",d),e.reportProgress&&(r.removeEventListener("progress",C),i!==null&&r.upload&&r.upload.removeEventListener("progress",M)),r.readyState!==r.DONE&&r.abort()}})))}static \u0275fac=function(c){return new(c||t)(R(h3))};static \u0275prov=m({token:t,factory:t.\u0275fac})}return t})(),h8=new j(""),n5="XSRF-TOKEN",l5=new j("",{providedIn:"root",factory:()=>n5}),r5="X-XSRF-TOKEN",i5=new j("",{providedIn:"root",factory:()=>r5}),g3=class{},a5=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,c,s){this.doc=e,this.platform=c,this.cookieName=s}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=d3(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(c){return new(c||t)(R(P),R(y2),R(l5))};static \u0275prov=m({token:t,factory:t.\u0275fac})}return t})();function o5(t,n){let e=t.url.toLowerCase();if(!o(h8)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return n(t);let c=o(g3).getToken(),s=o(i5);return c!=null&&!t.headers.has(s)&&(t=t.clone({headers:t.headers.set(s,c)})),n(t)}var p8=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(p8||{});function f5(t,n){return{\u0275kind:t,\u0275providers:n}}function u5(...t){let n=[A4,o8,a8,{provide:x1,useExisting:a8},{provide:m3,useFactory:()=>o(Yc,{optional:!0})??o(o8)},{provide:R4,useValue:o5,multi:!0},{provide:h8,useValue:!0},{provide:g3,useClass:a5}];for(let e of t)n.push(...e.\u0275providers);return E2(n)}function fl(t){return f5(p8.Interceptors,t.map(n=>({provide:R4,useValue:n,multi:!0})))}var T4=class extends Z6{supportsDOMEvents=!0},E4=class t extends T4{static makeCurrent(){Q6(new t)}onAndCancel(n,e,c,s){return n.addEventListener(e,c,s),()=>{n.removeEventListener(e,c,s)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=m5();return e==null?null:g5(e)}resetBaseElement(){k1=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return d3(document.cookie,n)}},k1=null;function m5(){return k1=k1||document.querySelector("base"),k1?k1.getAttribute("href"):null}function g5(t){return new URL(t,document.baseURI).pathname}var z5=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(c){return new(c||t)};static \u0275prov=m({token:t,factory:t.\u0275fac})}return t})(),D4=new j(""),C8=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,c){this._zone=c,e.forEach(s=>{s.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,c,s,l){return this._findPluginFor(c).addEventListener(e,c,s,l)}getZone(){return this._zone}_findPluginFor(e){let c=this._eventNameToPlugin.get(e);if(c)return c;if(c=this._plugins.find(l=>l.supports(e)),!c)throw new I(5101,!1);return this._eventNameToPlugin.set(e,c),c}static \u0275fac=function(c){return new(c||t)(R(D4),R(h2))};static \u0275prov=m({token:t,factory:t.\u0275fac})}return t})(),M3=class{_doc;constructor(n){this._doc=n}manager},L3="ng-app-id";function m8(t){for(let n of t)n.remove()}function g8(t,n){let e=n.createElement("style");return e.textContent=t,e}function L5(t,n,e,c){let s=t.head?.querySelectorAll(`style[${L3}="${n}"],link[${L3}="${n}"]`);if(s)for(let l of s)l.removeAttribute(L3),l instanceof HTMLLinkElement?c.set(l.href.slice(l.href.lastIndexOf("/")+1),{usage:0,elements:[l]}):l.textContent&&e.set(l.textContent,{usage:0,elements:[l]})}function P4(t,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var v8=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,c,s,l={}){this.doc=e,this.appId=c,this.nonce=s,this.isServer=y4(l),L5(e,c,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,c){for(let s of e)this.addUsage(s,this.inline,g8);c?.forEach(s=>this.addUsage(s,this.external,P4))}removeStyles(e,c){for(let s of e)this.removeUsage(s,this.inline);c?.forEach(s=>this.removeUsage(s,this.external))}addUsage(e,c,s){let l=c.get(e);l?l.usage++:c.set(e,{usage:1,elements:[...this.hosts].map(r=>this.addElement(r,s(e,this.doc)))})}removeUsage(e,c){let s=c.get(e);s&&(s.usage--,s.usage<=0&&(m8(s.elements),c.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])m8(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[c,{elements:s}]of this.inline)s.push(this.addElement(e,g8(c,this.doc)));for(let[c,{elements:s}]of this.external)s.push(this.addElement(e,P4(c,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,c){return this.nonce&&c.setAttribute("nonce",this.nonce),this.isServer&&c.setAttribute(L3,this.appId),e.appendChild(c)}static \u0275fac=function(c){return new(c||t)(R(P),R(p4),R(m4,8),R(y2))};static \u0275prov=m({token:t,factory:t.\u0275fac})}return t})(),I4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},O4=/%COMP%/g;var S8="%COMP%",M5=`_nghost-${S8}`,C5=`_ngcontent-${S8}`,v5=!0,S5=new j("",{providedIn:"root",factory:()=>v5});function w5(t){return C5.replace(O4,t)}function y5(t){return M5.replace(O4,t)}function w8(t,n){return n.map(e=>e.replace(O4,t))}var z8=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,c,s,l,r,i,a,f=null,u=null){this.eventManager=e,this.sharedStylesHost=c,this.appId=s,this.removeStylesOnCompDestroy=l,this.doc=r,this.platformId=i,this.ngZone=a,this.nonce=f,this.tracingService=u,this.platformIsServer=y4(i),this.defaultRenderer=new A1(e,r,a,this.platformIsServer,this.tracingService)}createRenderer(e,c){if(!e||!c)return this.defaultRenderer;this.platformIsServer&&c.encapsulation===S1.ShadowDom&&(c=H(z({},c),{encapsulation:S1.Emulated}));let s=this.getOrCreateRenderer(e,c);return s instanceof C3?s.applyToHost(e):s instanceof R1&&s.applyStyles(),s}getOrCreateRenderer(e,c){let s=this.rendererByCompId,l=s.get(c.id);if(!l){let r=this.doc,i=this.ngZone,a=this.eventManager,f=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(c.encapsulation){case S1.Emulated:l=new C3(a,f,c,this.appId,u,r,i,d,p);break;case S1.ShadowDom:return new F4(a,f,e,c,r,i,this.nonce,d,p);default:l=new R1(a,f,c,u,r,i,d,p);break}s.set(c.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(c){return new(c||t)(R(C8),R(v8),R(p4),R(S5),R(P),R(y2),R(h2),R(m4),R(T6,8))};static \u0275prov=m({token:t,factory:t.\u0275fac})}return t})(),A1=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,c,s,l){this.eventManager=n,this.doc=e,this.ngZone=c,this.platformIsServer=s,this.tracingService=l}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(I4[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(L8(n)?n.content:n).appendChild(e)}insertBefore(n,e,c){n&&(L8(n)?n.content:n).insertBefore(e,c)}removeChild(n,e){e.remove()}selectRootElement(n,e){let c=typeof n=="string"?this.doc.querySelector(n):n;if(!c)throw new I(-5104,!1);return e||(c.textContent=""),c}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,c,s){if(s){e=s+":"+e;let l=I4[s];l?n.setAttributeNS(l,e,c):n.setAttribute(e,c)}else n.setAttribute(e,c)}removeAttribute(n,e,c){if(c){let s=I4[c];s?n.removeAttributeNS(s,e):n.removeAttribute(`${c}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,c,s){s&(w1.DashCase|w1.Important)?n.style.setProperty(e,c,s&w1.Important?"important":""):n.style[e]=c}removeStyle(n,e,c){c&w1.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,c){n!=null&&(n[e]=c)}setValue(n,e){n.nodeValue=e}listen(n,e,c,s){if(typeof n=="string"&&(n=w4().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);let l=this.decoratePreventDefault(c);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(l=this.tracingService.wrapEventListener(n,e,l)),this.eventManager.addEventListener(n,e,l,s)}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function L8(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var F4=class extends A1{sharedStylesHost;hostEl;shadowRoot;constructor(n,e,c,s,l,r,i,a,f){super(n,l,r,a,f),this.sharedStylesHost=e,this.hostEl=c,this.shadowRoot=c.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=s.styles;u=w8(s.id,u);for(let p of u){let C=document.createElement("style");i&&C.setAttribute("nonce",i),C.textContent=p,this.shadowRoot.appendChild(C)}let d=s.getExternalStyles?.();if(d)for(let p of d){let C=P4(p,l);i&&C.setAttribute("nonce",i),this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,c){return super.insertBefore(this.nodeOrShadowRoot(n),e,c)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},R1=class extends A1{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,c,s,l,r,i,a,f){super(n,l,r,i,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=s;let u=c.styles;this.styles=f?w8(f,u):u,this.styleUrls=c.getExternalStyles?.(f)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},C3=class extends R1{contentAttr;hostAttr;constructor(n,e,c,s,l,r,i,a,f){let u=s+"-"+c.id;super(n,e,c,l,r,i,a,f,u),this.contentAttr=w5(u),this.hostAttr=y5(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let c=super.createElement(n,e);return super.setAttribute(c,this.contentAttr,""),c}},b5=(()=>{class t extends M3{constructor(e){super(e)}supports(e){return!0}addEventListener(e,c,s,l){return e.addEventListener(c,s,l),()=>this.removeEventListener(e,c,s,l)}removeEventListener(e,c,s,l){return e.removeEventListener(c,s,l)}static \u0275fac=function(c){return new(c||t)(R(P))};static \u0275prov=m({token:t,factory:t.\u0275fac})}return t})(),M8=["alt","control","meta","shift"],x5={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},N5={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},k5=(()=>{class t extends M3{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,c,s,l){let r=t.parseEventName(c),i=t.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>w4().onAndCancel(e,r.domEventName,i,l))}static parseEventName(e){let c=e.toLowerCase().split("."),s=c.shift();if(c.length===0||!(s==="keydown"||s==="keyup"))return null;let l=t._normalizeKey(c.pop()),r="",i=c.indexOf("code");if(i>-1&&(c.splice(i,1),r="code."),M8.forEach(f=>{let u=c.indexOf(f);u>-1&&(c.splice(u,1),r+=f+".")}),r+=l,c.length!=0||l.length===0)return null;let a={};return a.domEventName=s,a.fullKey=r,a}static matchEventFullKeyCode(e,c){let s=x5[e.key]||e.key,l="";return c.indexOf("code.")>-1&&(s=e.code,l="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),M8.forEach(r=>{if(r!==s){let i=N5[r];i(e)&&(l+=r+".")}}),l+=s,l===c)}static eventCallback(e,c,s){return l=>{t.matchEventFullKeyCode(l,e)&&s.runGuarded(()=>c(l))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(c){return new(c||t)(R(P))};static \u0275prov=m({token:t,factory:t.\u0275fac})}return t})();function Dl(t,n){return Y6(z({rootComponent:t},A5(n)))}function A5(t){return{appProviders:[...D5,...t?.providers??[]],platformProviders:E5}}function R5(){E4.makeCurrent()}function I5(){return new u4}function T5(){return R6(document),document}var E5=[{provide:y2,useValue:e8},{provide:I6,useValue:R5,multi:!0},{provide:P,useFactory:T5,deps:[]}];var D5=[{provide:N6,useValue:"root"},{provide:u4,useFactory:I5,deps:[]},{provide:D4,useClass:b5,multi:!0,deps:[P]},{provide:D4,useClass:k5,multi:!0,deps:[P]},z8,v8,C8,{provide:a3,useExisting:z8},{provide:h3,useClass:z5,deps:[]},[]];var y8=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(c){return new(c||t)(R(P))};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var U4=(()=>{class t{static \u0275fac=function(c){return new(c||t)};static \u0275prov=m({token:t,factory:function(c){let s=null;return c?s=new(c||t):s=R(P5),s},providedIn:"root"})}return t})(),P5=(()=>{class t extends U4{_doc;constructor(e){super(),this._doc=e}sanitize(e,c){if(c==null)return null;switch(e){case D2.NONE:return c;case D2.HTML:return J2(c,"HTML")?Y2(c):j6(this._doc,String(c)).toString();case D2.STYLE:return J2(c,"Style")?Y2(c):c;case D2.SCRIPT:if(J2(c,"Script"))return Y2(c);throw new I(5200,!1);case D2.URL:return J2(c,"URL")?Y2(c):U6(String(c));case D2.RESOURCE_URL:if(J2(c,"ResourceURL"))return Y2(c);throw new I(5201,!1);default:throw new I(5202,!1)}}bypassSecurityTrustHtml(e){return E6(e)}bypassSecurityTrustStyle(e){return D6(e)}bypassSecurityTrustScript(e){return P6(e)}bypassSecurityTrustUrl(e){return F6(e)}bypassSecurityTrustResourceUrl(e){return O6(e)}static \u0275fac=function(c){return new(c||t)(R(P))};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var x="primary",q1=Symbol("RouteTitle"),W4=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function i1(t){return new W4(t)}function F5(t,n,e){let c=e.path.split("/");if(c.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||c.length<t.length))return null;let s={};for(let l=0;l<c.length;l++){let r=c[l],i=t[l];if(r[0]===":")s[r.substring(1)]=i;else if(r!==i.path)return null}return{consumed:t.slice(0,c.length),posParams:s}}function O5(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!a2(t[e],n[e]))return!1;return!0}function a2(t,n){let e=t?$4(t):void 0,c=n?$4(n):void 0;if(!e||!c||e.length!=c.length)return!1;let s;for(let l=0;l<e.length;l++)if(s=e[l],!E8(t[s],n[s]))return!1;return!0}function $4(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function E8(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),c=[...n].sort();return e.every((s,l)=>c[l]===s)}else return t===n}function D8(t){return t.length>0?t[t.length-1]:null}function b2(t){return g6(t)?t:$6(t)?$(Promise.resolve(t)):h(t)}var U5={exact:F8,subset:O8},P8={exact:j5,subset:_5,ignored:()=>!0};function x8(t,n,e){return U5[e.paths](t.root,n.root,e.matrixParams)&&P8[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function j5(t,n){return a2(t,n)}function F8(t,n,e){if(!F2(t.segments,n.segments)||!w3(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let c in n.children)if(!t.children[c]||!F8(t.children[c],n.children[c],e))return!1;return!0}function _5(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>E8(t[e],n[e]))}function O8(t,n,e){return U8(t,n,n.segments,e)}function U8(t,n,e,c){if(t.segments.length>e.length){let s=t.segments.slice(0,e.length);return!(!F2(s,e)||n.hasChildren()||!w3(s,e,c))}else if(t.segments.length===e.length){if(!F2(t.segments,e)||!w3(t.segments,e,c))return!1;for(let s in n.children)if(!t.children[s]||!O8(t.children[s],n.children[s],c))return!1;return!0}else{let s=e.slice(0,t.segments.length),l=e.slice(t.segments.length);return!F2(t.segments,s)||!w3(t.segments,s,c)||!t.children[x]?!1:U8(t.children[x],n,l,c)}}function w3(t,n,e){return n.every((c,s)=>P8[e](t[s].parameters,c.parameters))}var g2=class{root;queryParams;fragment;_queryParamMap;constructor(n=new E([],{}),e={},c=null){this.root=n,this.queryParams=e,this.fragment=c}get queryParamMap(){return this._queryParamMap??=i1(this.queryParams),this._queryParamMap}toString(){return W5.serialize(this)}},E=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(c=>c.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return y3(this)}},P2=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=i1(this.parameters),this._parameterMap}toString(){return _8(this)}};function B5(t,n){return F2(t,n)&&t.every((e,c)=>a2(e.parameters,n[c].parameters))}function F2(t,n){return t.length!==n.length?!1:t.every((e,c)=>e.path===n[c].path)}function H5(t,n){let e=[];return Object.entries(t.children).forEach(([c,s])=>{c===x&&(e=e.concat(n(s,c)))}),Object.entries(t.children).forEach(([c,s])=>{c!==x&&(e=e.concat(n(s,c)))}),e}var g0=(()=>{class t{static \u0275fac=function(c){return new(c||t)};static \u0275prov=m({token:t,factory:()=>new F1,providedIn:"root"})}return t})(),F1=class{parse(n){let e=new q4(n);return new g2(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${I1(n.root,!0)}`,c=q5(n.queryParams),s=typeof n.fragment=="string"?`#${$5(n.fragment)}`:"";return`${e}${c}${s}`}},W5=new F1;function y3(t){return t.segments.map(n=>_8(n)).join("/")}function I1(t,n){if(!t.hasChildren())return y3(t);if(n){let e=t.children[x]?I1(t.children[x],!1):"",c=[];return Object.entries(t.children).forEach(([s,l])=>{s!==x&&c.push(`${s}:${I1(l,!1)}`)}),c.length>0?`${e}(${c.join("//")})`:e}else{let e=H5(t,(c,s)=>s===x?[I1(t.children[x],!1)]:[`${s}:${I1(c,!1)}`]);return Object.keys(t.children).length===1&&t.children[x]!=null?`${y3(t)}/${e[0]}`:`${y3(t)}/(${e.join("//")})`}}function j8(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function v3(t){return j8(t).replace(/%3B/gi,";")}function $5(t){return encodeURI(t)}function V4(t){return j8(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function b3(t){return decodeURIComponent(t)}function N8(t){return b3(t.replace(/\+/g,"%20"))}function _8(t){return`${V4(t.path)}${V5(t.parameters)}`}function V5(t){return Object.entries(t).map(([n,e])=>`;${V4(n)}=${V4(e)}`).join("")}function q5(t){let n=Object.entries(t).map(([e,c])=>Array.isArray(c)?c.map(s=>`${v3(e)}=${v3(s)}`).join("&"):`${v3(e)}=${v3(c)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var G5=/^[^\/()?;#]+/;function j4(t){let n=t.match(G5);return n?n[0]:""}var K5=/^[^\/()?;=#]+/;function X5(t){let n=t.match(K5);return n?n[0]:""}var Y5=/^[^=?&#]+/;function J5(t){let n=t.match(Y5);return n?n[0]:""}var Q5=/^[^&#]+/;function Z5(t){let n=t.match(Q5);return n?n[0]:""}var q4=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new E([],{}):new E([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let c={};return this.peekStartsWith("(")&&(c=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(c[x]=new E(n,e)),c}parseSegment(){let n=j4(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(n),new P2(b3(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=X5(this.remaining);if(!e)return;this.capture(e);let c="";if(this.consumeOptional("=")){let s=j4(this.remaining);s&&(c=s,this.capture(c))}n[b3(e)]=b3(c)}parseQueryParam(n){let e=J5(this.remaining);if(!e)return;this.capture(e);let c="";if(this.consumeOptional("=")){let r=Z5(this.remaining);r&&(c=r,this.capture(c))}let s=N8(e),l=N8(c);if(n.hasOwnProperty(s)){let r=n[s];Array.isArray(r)||(r=[r],n[s]=r),r.push(l)}else n[s]=l}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let c=j4(this.remaining),s=this.remaining[c.length];if(s!=="/"&&s!==")"&&s!==";")throw new I(4010,!1);let l;c.indexOf(":")>-1?(l=c.slice(0,c.indexOf(":")),this.capture(l),this.capture(":")):n&&(l=x);let r=this.parseChildren();e[l]=Object.keys(r).length===1?r[x]:new E([],r),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new I(4011,!1)}};function B8(t){return t.segments.length>0?new E([],{[x]:t}):t}function H8(t){let n={};for(let[c,s]of Object.entries(t.children)){let l=H8(s);if(c===x&&l.segments.length===0&&l.hasChildren())for(let[r,i]of Object.entries(l.children))n[r]=i;else(l.segments.length>0||l.hasChildren())&&(n[c]=l)}let e=new E(t.segments,n);return e7(e)}function e7(t){if(t.numberOfChildren===1&&t.children[x]){let n=t.children[x];return new E(t.segments.concat(n.segments),n.children)}return t}function O1(t){return t instanceof g2}function c7(t,n,e=null,c=null){let s=W8(t);return $8(s,n,e,c)}function W8(t){let n;function e(l){let r={};for(let a of l.children){let f=e(a);r[a.outlet]=f}let i=new E(l.url,r);return l===t&&(n=i),i}let c=e(t.root),s=B8(c);return n??s}function $8(t,n,e,c){let s=t;for(;s.parent;)s=s.parent;if(n.length===0)return _4(s,s,s,e,c);let l=t7(n);if(l.toRoot())return _4(s,s,new E([],{}),e,c);let r=s7(l,s,t),i=r.processChildren?E1(r.segmentGroup,r.index,l.commands):q8(r.segmentGroup,r.index,l.commands);return _4(s,r.segmentGroup,i,e,c)}function x3(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function U1(t){return typeof t=="object"&&t!=null&&t.outlets}function _4(t,n,e,c,s){let l={};c&&Object.entries(c).forEach(([a,f])=>{l[a]=Array.isArray(f)?f.map(u=>`${u}`):`${f}`});let r;t===n?r=e:r=V8(t,n,e);let i=B8(H8(r));return new g2(i,l,s)}function V8(t,n,e){let c={};return Object.entries(t.children).forEach(([s,l])=>{l===n?c[s]=e:c[s]=V8(l,n,e)}),new E(t.segments,c)}var N3=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,c){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=c,n&&c.length>0&&x3(c[0]))throw new I(4003,!1);let s=c.find(U1);if(s&&s!==D8(c))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function t7(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new N3(!0,0,t);let n=0,e=!1,c=t.reduce((s,l,r)=>{if(typeof l=="object"&&l!=null){if(l.outlets){let i={};return Object.entries(l.outlets).forEach(([a,f])=>{i[a]=typeof f=="string"?f.split("/"):f}),[...s,{outlets:i}]}if(l.segmentPath)return[...s,l.segmentPath]}return typeof l!="string"?[...s,l]:r===0?(l.split("/").forEach((i,a)=>{a==0&&i==="."||(a==0&&i===""?e=!0:i===".."?n++:i!=""&&s.push(i))}),s):[...s,l]},[]);return new N3(e,n,c)}var n1=class{segmentGroup;processChildren;index;constructor(n,e,c){this.segmentGroup=n,this.processChildren=e,this.index=c}};function s7(t,n,e){if(t.isAbsolute)return new n1(n,!0,0);if(!e)return new n1(n,!1,NaN);if(e.parent===null)return new n1(e,!0,0);let c=x3(t.commands[0])?0:1,s=e.segments.length-1+c;return n7(e,s,t.numberOfDoubleDots)}function n7(t,n,e){let c=t,s=n,l=e;for(;l>s;){if(l-=s,c=c.parent,!c)throw new I(4005,!1);s=c.segments.length}return new n1(c,!1,s-l)}function l7(t){return U1(t[0])?t[0].outlets:{[x]:t}}function q8(t,n,e){if(t??=new E([],{}),t.segments.length===0&&t.hasChildren())return E1(t,n,e);let c=r7(t,n,e),s=e.slice(c.commandIndex);if(c.match&&c.pathIndex<t.segments.length){let l=new E(t.segments.slice(0,c.pathIndex),{});return l.children[x]=new E(t.segments.slice(c.pathIndex),t.children),E1(l,0,s)}else return c.match&&s.length===0?new E(t.segments,{}):c.match&&!t.hasChildren()?G4(t,n,e):c.match?E1(t,0,s):G4(t,n,e)}function E1(t,n,e){if(e.length===0)return new E(t.segments,{});{let c=l7(e),s={};if(Object.keys(c).some(l=>l!==x)&&t.children[x]&&t.numberOfChildren===1&&t.children[x].segments.length===0){let l=E1(t.children[x],n,e);return new E(t.segments,l.children)}return Object.entries(c).forEach(([l,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(s[l]=q8(t.children[l],n,r))}),Object.entries(t.children).forEach(([l,r])=>{c[l]===void 0&&(s[l]=r)}),new E(t.segments,s)}}function r7(t,n,e){let c=0,s=n,l={match:!1,pathIndex:0,commandIndex:0};for(;s<t.segments.length;){if(c>=e.length)return l;let r=t.segments[s],i=e[c];if(U1(i))break;let a=`${i}`,f=c<e.length-1?e[c+1]:null;if(s>0&&a===void 0)break;if(a&&f&&typeof f=="object"&&f.outlets===void 0){if(!A8(a,f,r))return l;c+=2}else{if(!A8(a,{},r))return l;c++}s++}return{match:!0,pathIndex:s,commandIndex:c}}function G4(t,n,e){let c=t.segments.slice(0,n),s=0;for(;s<e.length;){let l=e[s];if(U1(l)){let a=i7(l.outlets);return new E(c,a)}if(s===0&&x3(e[0])){let a=t.segments[n];c.push(new P2(a.path,k8(e[0]))),s++;continue}let r=U1(l)?l.outlets[x]:`${l}`,i=s<e.length-1?e[s+1]:null;r&&i&&x3(i)?(c.push(new P2(r,k8(i))),s+=2):(c.push(new P2(r,{})),s++)}return new E(c,{})}function i7(t){let n={};return Object.entries(t).forEach(([e,c])=>{typeof c=="string"&&(c=[c]),c!==null&&(n[e]=G4(new E([],{}),0,c))}),n}function k8(t){let n={};return Object.entries(t).forEach(([e,c])=>n[e]=`${c}`),n}function A8(t,n,e){return t==e.path&&a2(n,e.parameters)}var D1="imperative",V=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(V||{}),t2=class{id;url;constructor(n,e){this.id=n,this.url=e}},j1=class extends t2{type=V.NavigationStart;navigationTrigger;restoredState;constructor(n,e,c="imperative",s=null){super(n,e),this.navigationTrigger=c,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},O2=class extends t2{urlAfterRedirects;type=V.NavigationEnd;constructor(n,e,c){super(n,e),this.urlAfterRedirects=c}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Z=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Z||{}),K4=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(K4||{}),m2=class extends t2{reason;code;type=V.NavigationCancel;constructor(n,e,c,s){super(n,e),this.reason=c,this.code=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},U2=class extends t2{reason;code;type=V.NavigationSkipped;constructor(n,e,c,s){super(n,e),this.reason=c,this.code=s}},_1=class extends t2{error;target;type=V.NavigationError;constructor(n,e,c,s){super(n,e),this.error=c,this.target=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},k3=class extends t2{urlAfterRedirects;state;type=V.RoutesRecognized;constructor(n,e,c,s){super(n,e),this.urlAfterRedirects=c,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},X4=class extends t2{urlAfterRedirects;state;type=V.GuardsCheckStart;constructor(n,e,c,s){super(n,e),this.urlAfterRedirects=c,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Y4=class extends t2{urlAfterRedirects;state;shouldActivate;type=V.GuardsCheckEnd;constructor(n,e,c,s,l){super(n,e),this.urlAfterRedirects=c,this.state=s,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},J4=class extends t2{urlAfterRedirects;state;type=V.ResolveStart;constructor(n,e,c,s){super(n,e),this.urlAfterRedirects=c,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Q4=class extends t2{urlAfterRedirects;state;type=V.ResolveEnd;constructor(n,e,c,s){super(n,e),this.urlAfterRedirects=c,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Z4=class{route;type=V.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},e0=class{route;type=V.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},c0=class{snapshot;type=V.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},t0=class{snapshot;type=V.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},s0=class{snapshot;type=V.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},n0=class{snapshot;type=V.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var B1=class{},a1=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function a7(t,n){return t.providers&&!t._injector&&(t._injector=W6(t.providers,n,`Route: ${t.path}`)),t._injector??n}function i2(t){return t.outlet||x}function o7(t,n){let e=t.filter(c=>i2(c)===n);return e.push(...t.filter(c=>i2(c)!==n)),e}function G1(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var l0=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return G1(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new P3(this.rootInjector)}},P3=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,c){let s=this.getOrCreateContext(e);s.outlet=c,this.contexts.set(e,s)}onChildOutletDestroyed(e){let c=this.getContext(e);c&&(c.outlet=null,c.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let c=this.getContext(e);return c||(c=new l0(this.rootInjector),this.contexts.set(e,c)),c}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(c){return new(c||t)(R(K2))};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),A3=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=r0(n,this._root);return e?e.children.map(c=>c.value):[]}firstChild(n){let e=r0(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=i0(n,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==n)}pathFromRoot(n){return i0(n,this._root).map(e=>e.value)}};function r0(t,n){if(t===n.value)return n;for(let e of n.children){let c=r0(t,e);if(c)return c}return null}function i0(t,n){if(t===n.value)return[n];for(let e of n.children){let c=i0(t,e);if(c.length)return c.unshift(n),c}return[]}var Q=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function s1(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var R3=class extends A3{snapshot;constructor(n,e){super(n),this.snapshot=e,z0(this,n)}toString(){return this.snapshot.toString()}};function G8(t){let n=f7(t),e=new q([new P2("",{})]),c=new q({}),s=new q({}),l=new q({}),r=new q(""),i=new o1(e,c,l,r,s,x,t,n.root);return i.snapshot=n.root,new R3(new Q(i,[]),n)}function f7(t){let n={},e={},c={},s="",l=new l1([],n,c,s,e,x,t,null,{});return new T3("",new Q(l,[]))}var o1=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,c,s,l,r,i,a){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=c,this.fragmentSubject=s,this.dataSubject=l,this.outlet=r,this.component=i,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(L(f=>f[q1]))??h(void 0),this.url=n,this.params=e,this.queryParams=c,this.fragment=s,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(L(n=>i1(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(L(n=>i1(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function I3(t,n,e="emptyOnly"){let c,{routeConfig:s}=t;return n!==null&&(e==="always"||s?.path===""||!n.component&&!n.routeConfig?.loadComponent)?c={params:z(z({},n.params),t.params),data:z(z({},n.data),t.data),resolve:z(z(z(z({},t.data),n.data),s?.data),t._resolvedData)}:c={params:z({},t.params),data:z({},t.data),resolve:z(z({},t.data),t._resolvedData??{})},s&&X8(s)&&(c.resolve[q1]=s.title),c}var l1=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[q1]}constructor(n,e,c,s,l,r,i,a,f){this.url=n,this.params=e,this.queryParams=c,this.fragment=s,this.data=l,this.outlet=r,this.component=i,this.routeConfig=a,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=i1(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=i1(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(c=>c.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},T3=class extends A3{url;constructor(n,e){super(e),this.url=n,z0(this,e)}toString(){return K8(this._root)}};function z0(t,n){n.value._routerState=t,n.children.forEach(e=>z0(t,e))}function K8(t){let n=t.children.length>0?` { ${t.children.map(K8).join(", ")} } `:"";return`${t.value}${n}`}function B4(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,a2(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),a2(n.params,e.params)||t.paramsSubject.next(e.params),O5(n.url,e.url)||t.urlSubject.next(e.url),a2(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function a0(t,n){let e=a2(t.params,n.params)&&B5(t.url,n.url),c=!t.parent!=!n.parent;return e&&!c&&(!t.parent||a0(t.parent,n.parent))}function X8(t){return typeof t.title=="string"||t.title===null}var u7=new j(""),d7=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=x;activateEvents=new v1;deactivateEvents=new v1;attachEvents=new v1;detachEvents=new v1;routerOutletData=A6(void 0);parentContexts=o(P3);location=o(B6);changeDetector=o(S4);inputBinder=o(L0,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:c,previousValue:s}=e.name;if(c)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,c){this.activated=e,this._activatedRoute=c,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,c){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=e;let s=this.location,r=e.snapshot.component,i=this.parentContexts.getOrCreateContext(this.name).children,a=new o0(e,i,s.injector,this.routerOutletData);this.activated=s.createComponent(r,{index:s.length,injector:a,environmentInjector:c}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(c){return new(c||t)};static \u0275dir=o3({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[X2]})}return t})(),o0=class t{route;childContexts;parent;outletData;__ngOutletInjector(n){return new t(this.route,this.childContexts,n,this.outletData)}constructor(n,e,c,s){this.route=n,this.childContexts=e,this.parent=c,this.outletData=s}get(n,e){return n===o1?this.route:n===P3?this.childContexts:n===u7?this.outletData:this.parent.get(n,e)}},L0=new j("");function h7(t,n,e){let c=H1(t,n._root,e?e._root:void 0);return new R3(c,n)}function H1(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let c=e.value;c._futureSnapshot=n.value;let s=p7(t,n,e);return new Q(c,s)}else{if(t.shouldAttach(n.value)){let l=t.retrieve(n.value);if(l!==null){let r=l.route;return r.value._futureSnapshot=n.value,r.children=n.children.map(i=>H1(t,i)),r}}let c=m7(n.value),s=n.children.map(l=>H1(t,l));return new Q(c,s)}}function p7(t,n,e){return n.children.map(c=>{for(let s of e.children)if(t.shouldReuseRoute(c.value,s.value.snapshot))return H1(t,c,s);return H1(t,c)})}function m7(t){return new o1(new q(t.url),new q(t.params),new q(t.queryParams),new q(t.fragment),new q(t.data),t.outlet,t.component,t)}var W1=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},Y8="ngNavigationCancelingError";function E3(t,n){let{redirectTo:e,navigationBehaviorOptions:c}=O1(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,s=J8(!1,Z.Redirect);return s.url=e,s.navigationBehaviorOptions=c,s}function J8(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[Y8]=!0,e.cancellationCode=n,e}function g7(t){return Q8(t)&&O1(t.url)}function Q8(t){return!!t&&t[Y8]}var z7=(t,n,e,c)=>L(s=>(new f0(n,s.targetRouterState,s.currentRouterState,e,c).activate(t),s)),f0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,c,s,l){this.routeReuseStrategy=n,this.futureState=e,this.currState=c,this.forwardEvent=s,this.inputBindingEnabled=l}activate(n){let e=this.futureState._root,c=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,c,n),B4(this.futureState.root),this.activateChildRoutes(e,c,n)}deactivateChildRoutes(n,e,c){let s=s1(e);n.children.forEach(l=>{let r=l.value.outlet;this.deactivateRoutes(l,s[r],c),delete s[r]}),Object.values(s).forEach(l=>{this.deactivateRouteAndItsChildren(l,c)})}deactivateRoutes(n,e,c){let s=n.value,l=e?e.value:null;if(s===l)if(s.component){let r=c.getContext(s.outlet);r&&this.deactivateChildRoutes(n,e,r.children)}else this.deactivateChildRoutes(n,e,c);else l&&this.deactivateRouteAndItsChildren(e,c)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let c=e.getContext(n.value.outlet),s=c&&n.value.component?c.children:e,l=s1(n);for(let r of Object.values(l))this.deactivateRouteAndItsChildren(r,s);if(c&&c.outlet){let r=c.outlet.detach(),i=c.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:r,route:n,contexts:i})}}deactivateRouteAndOutlet(n,e){let c=e.getContext(n.value.outlet),s=c&&n.value.component?c.children:e,l=s1(n);for(let r of Object.values(l))this.deactivateRouteAndItsChildren(r,s);c&&(c.outlet&&(c.outlet.deactivate(),c.children.onOutletDeactivated()),c.attachRef=null,c.route=null)}activateChildRoutes(n,e,c){let s=s1(e);n.children.forEach(l=>{this.activateRoutes(l,s[l.value.outlet],c),this.forwardEvent(new n0(l.value.snapshot))}),n.children.length&&this.forwardEvent(new t0(n.value.snapshot))}activateRoutes(n,e,c){let s=n.value,l=e?e.value:null;if(B4(s),s===l)if(s.component){let r=c.getOrCreateContext(s.outlet);this.activateChildRoutes(n,e,r.children)}else this.activateChildRoutes(n,e,c);else if(s.component){let r=c.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){let i=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),r.children.onOutletReAttached(i.contexts),r.attachRef=i.componentRef,r.route=i.route.value,r.outlet&&r.outlet.attach(i.componentRef,i.route.value),B4(i.route.value),this.activateChildRoutes(n,null,r.children)}else r.attachRef=null,r.route=s,r.outlet&&r.outlet.activateWith(s,r.injector),this.activateChildRoutes(n,null,r.children)}else this.activateChildRoutes(n,null,c)}},D3=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},r1=class{component;route;constructor(n,e){this.component=n,this.route=e}};function L7(t,n,e){let c=t._root,s=n?n._root:null;return T1(c,s,e,[c.value])}function M7(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function u1(t,n){let e=Symbol(),c=n.get(t,e);return c===e?typeof t=="function"&&!x6(t)?t:n.get(t):c}function T1(t,n,e,c,s={canDeactivateChecks:[],canActivateChecks:[]}){let l=s1(n);return t.children.forEach(r=>{C7(r,l[r.value.outlet],e,c.concat([r.value]),s),delete l[r.value.outlet]}),Object.entries(l).forEach(([r,i])=>P1(i,e.getContext(r),s)),s}function C7(t,n,e,c,s={canDeactivateChecks:[],canActivateChecks:[]}){let l=t.value,r=n?n.value:null,i=e?e.getContext(t.value.outlet):null;if(r&&l.routeConfig===r.routeConfig){let a=v7(r,l,l.routeConfig.runGuardsAndResolvers);a?s.canActivateChecks.push(new D3(c)):(l.data=r.data,l._resolvedData=r._resolvedData),l.component?T1(t,n,i?i.children:null,c,s):T1(t,n,e,c,s),a&&i&&i.outlet&&i.outlet.isActivated&&s.canDeactivateChecks.push(new r1(i.outlet.component,r))}else r&&P1(n,i,s),s.canActivateChecks.push(new D3(c)),l.component?T1(t,null,i?i.children:null,c,s):T1(t,null,e,c,s);return s}function v7(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!F2(t.url,n.url);case"pathParamsOrQueryParamsChange":return!F2(t.url,n.url)||!a2(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!a0(t,n)||!a2(t.queryParams,n.queryParams);case"paramsChange":default:return!a0(t,n)}}function P1(t,n,e){let c=s1(t),s=t.value;Object.entries(c).forEach(([l,r])=>{s.component?n?P1(r,n.children.getContext(l),e):P1(r,null,e):P1(r,n,e)}),s.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new r1(n.outlet.component,s)):e.canDeactivateChecks.push(new r1(null,s)):e.canDeactivateChecks.push(new r1(null,s))}function K1(t){return typeof t=="function"}function S7(t){return typeof t=="boolean"}function w7(t){return t&&K1(t.canLoad)}function y7(t){return t&&K1(t.canActivate)}function b7(t){return t&&K1(t.canActivateChild)}function x7(t){return t&&K1(t.canDeactivate)}function N7(t){return t&&K1(t.canMatch)}function Z8(t){return t instanceof z6||t?.name==="EmptyError"}var S3=Symbol("INITIAL_VALUE");function f1(){return A(t=>r4(t.map(n=>n.pipe(l2(1),y6(S3)))).pipe(L(n=>{for(let e of n)if(e!==!0){if(e===S3)return S3;if(e===!1||k7(e))return e}return!0}),v2(n=>n!==S3),l2(1)))}function k7(t){return O1(t)||t instanceof W1}function A7(t,n){return W(e=>{let{targetSnapshot:c,currentSnapshot:s,guards:{canActivateChecks:l,canDeactivateChecks:r}}=e;return r.length===0&&l.length===0?h(H(z({},e),{guardsResult:!0})):R7(r,c,s,t).pipe(W(i=>i&&S7(i)?I7(c,l,t,n):h(i)),L(i=>H(z({},e),{guardsResult:i})))})}function R7(t,n,e,c){return $(t).pipe(W(s=>F7(s.component,s.route,e,n,c)),w2(s=>s!==!0,!0))}function I7(t,n,e,c){return $(n).pipe(k(s=>C6(E7(s.route.parent,c),T7(s.route,c),P7(t,s.path,e),D7(t,s.route,e))),w2(s=>s!==!0,!0))}function T7(t,n){return t!==null&&n&&n(new s0(t)),h(!0)}function E7(t,n){return t!==null&&n&&n(new c0(t)),h(!0)}function D7(t,n,e){let c=n.routeConfig?n.routeConfig.canActivate:null;if(!c||c.length===0)return h(!0);let s=c.map(l=>i4(()=>{let r=G1(n)??e,i=u1(l,r),a=y7(i)?i.canActivate(n,t):r2(r,()=>i(n,t));return b2(a).pipe(w2())}));return h(s).pipe(f1())}function P7(t,n,e){let c=n[n.length-1],l=n.slice(0,n.length-1).reverse().map(r=>M7(r)).filter(r=>r!==null).map(r=>i4(()=>{let i=r.guards.map(a=>{let f=G1(r.node)??e,u=u1(a,f),d=b7(u)?u.canActivateChild(c,t):r2(f,()=>u(c,t));return b2(d).pipe(w2())});return h(i).pipe(f1())}));return h(l).pipe(f1())}function F7(t,n,e,c,s){let l=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!l||l.length===0)return h(!0);let r=l.map(i=>{let a=G1(n)??s,f=u1(i,a),u=x7(f)?f.canDeactivate(t,n,e,c):r2(a,()=>f(t,n,e,c));return b2(u).pipe(w2())});return h(r).pipe(f1())}function O7(t,n,e,c){let s=n.canLoad;if(s===void 0||s.length===0)return h(!0);let l=s.map(r=>{let i=u1(r,t),a=w7(i)?i.canLoad(n,e):r2(t,()=>i(n,e));return b2(a)});return h(l).pipe(f1(),ee(c))}function ee(t){return p6(D(n=>{if(typeof n!="boolean")throw E3(t,n)}),L(n=>n===!0))}function U7(t,n,e,c){let s=n.canMatch;if(!s||s.length===0)return h(!0);let l=s.map(r=>{let i=u1(r,t),a=N7(i)?i.canMatch(n,e):r2(t,()=>i(n,e));return b2(a)});return h(l).pipe(f1(),ee(c))}var $1=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},V1=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function t1(t){return S(new $1(t))}function j7(t){return S(new I(4e3,!1))}function _7(t){return S(J8(!1,Z.GuardRejected))}var u0=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let c=[],s=e.root;for(;;){if(c=c.concat(s.segments),s.numberOfChildren===0)return h(c);if(s.numberOfChildren>1||!s.children[x])return j7(`${n.redirectTo}`);s=s.children[x]}}applyRedirectCommands(n,e,c,s,l){if(typeof e!="string"){let i=e,{queryParams:a,fragment:f,routeConfig:u,url:d,outlet:p,params:C,data:M,title:b}=s,y=r2(l,()=>i({params:C,data:M,queryParams:a,fragment:f,routeConfig:u,url:d,outlet:p,title:b}));if(y instanceof g2)throw new V1(y);e=y}let r=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,c);if(e[0]==="/")throw new V1(r);return r}applyRedirectCreateUrlTree(n,e,c,s){let l=this.createSegmentGroup(n,e.root,c,s);return new g2(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let c={};return Object.entries(n).forEach(([s,l])=>{if(typeof l=="string"&&l[0]===":"){let i=l.substring(1);c[s]=e[i]}else c[s]=l}),c}createSegmentGroup(n,e,c,s){let l=this.createSegments(n,e.segments,c,s),r={};return Object.entries(e.children).forEach(([i,a])=>{r[i]=this.createSegmentGroup(n,a,c,s)}),new E(l,r)}createSegments(n,e,c,s){return e.map(l=>l.path[0]===":"?this.findPosParam(n,l,s):this.findOrReturn(l,c))}findPosParam(n,e,c){let s=c[e.path.substring(1)];if(!s)throw new I(4001,!1);return s}findOrReturn(n,e){let c=0;for(let s of e){if(s.path===n.path)return e.splice(c),s;c++}return n}},d0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function B7(t,n,e,c,s){let l=ce(t,n,e);return l.matched?(c=a7(n,c),U7(c,n,e,s).pipe(L(r=>r===!0?l:z({},d0)))):h(l)}function ce(t,n,e){if(n.path==="**")return H7(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?z({},d0):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let s=(n.matcher||F5)(e,t,n);if(!s)return z({},d0);let l={};Object.entries(s.posParams??{}).forEach(([i,a])=>{l[i]=a.path});let r=s.consumed.length>0?z(z({},l),s.consumed[s.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:r,positionalParamSegments:s.posParams??{}}}function H7(t){return{matched:!0,parameters:t.length>0?D8(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function R8(t,n,e,c){return e.length>0&&V7(t,e,c)?{segmentGroup:new E(n,$7(c,new E(e,t.children))),slicedSegments:[]}:e.length===0&&q7(t,e,c)?{segmentGroup:new E(t.segments,W7(t,e,c,t.children)),slicedSegments:e}:{segmentGroup:new E(t.segments,t.children),slicedSegments:e}}function W7(t,n,e,c){let s={};for(let l of e)if(F3(t,n,l)&&!c[i2(l)]){let r=new E([],{});s[i2(l)]=r}return z(z({},c),s)}function $7(t,n){let e={};e[x]=n;for(let c of t)if(c.path===""&&i2(c)!==x){let s=new E([],{});e[i2(c)]=s}return e}function V7(t,n,e){return e.some(c=>F3(t,n,c)&&i2(c)!==x)}function q7(t,n,e){return e.some(c=>F3(t,n,c))}function F3(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function G7(t,n,e){return n.length===0&&!t.children[e]}var h0=class{};function K7(t,n,e,c,s,l,r="emptyOnly"){return new p0(t,n,e,c,s,r,l).recognize()}var X7=31,p0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,c,s,l,r,i){this.injector=n,this.configLoader=e,this.rootComponentType=c,this.config=s,this.urlTree=l,this.paramsInheritanceStrategy=r,this.urlSerializer=i,this.applyRedirects=new u0(this.urlSerializer,this.urlTree)}noMatchError(n){return new I(4002,`'${n.segmentGroup}'`)}recognize(){let n=R8(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(L(({children:e,rootSnapshot:c})=>{let s=new Q(c,e),l=new T3("",s),r=c7(c,[],this.urlTree.queryParams,this.urlTree.fragment);return r.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(r),{state:l,tree:r}}))}match(n){let e=new l1([],Object.freeze({}),Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),x,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,x,e).pipe(L(c=>({children:c,rootSnapshot:e})),F(c=>{if(c instanceof V1)return this.urlTree=c.urlTree,this.match(c.urlTree.root);throw c instanceof $1?this.noMatchError(c):c}))}processSegmentGroup(n,e,c,s,l){return c.segments.length===0&&c.hasChildren()?this.processChildren(n,e,c,l):this.processSegment(n,e,c,c.segments,s,!0,l).pipe(L(r=>r instanceof Q?[r]:[]))}processChildren(n,e,c,s){let l=[];for(let r of Object.keys(c.children))r==="primary"?l.unshift(r):l.push(r);return $(l).pipe(k(r=>{let i=c.children[r],a=o7(e,r);return this.processSegmentGroup(n,a,i,r,s)}),w6((r,i)=>(r.push(...i),r)),a4(null),S6(),W(r=>{if(r===null)return t1(c);let i=te(r);return Y7(i),h(i)}))}processSegment(n,e,c,s,l,r,i){return $(e).pipe(k(a=>this.processSegmentAgainstRoute(a._injector??n,e,a,c,s,l,r,i).pipe(F(f=>{if(f instanceof $1)return h(null);throw f}))),w2(a=>!!a),F(a=>{if(Z8(a))return G7(c,s,l)?h(new h0):t1(c);throw a}))}processSegmentAgainstRoute(n,e,c,s,l,r,i,a){return i2(c)!==r&&(r===x||!F3(s,l,c))?t1(s):c.redirectTo===void 0?this.matchSegmentAgainstRoute(n,s,c,l,r,a):this.allowRedirects&&i?this.expandSegmentAgainstRouteUsingRedirect(n,s,e,c,l,r,a):t1(s)}expandSegmentAgainstRouteUsingRedirect(n,e,c,s,l,r,i){let{matched:a,parameters:f,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=ce(e,s,l);if(!a)return t1(e);typeof s.redirectTo=="string"&&s.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>X7&&(this.allowRedirects=!1));let C=new l1(l,f,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,I8(s),i2(s),s.component??s._loadedComponent??null,s,T8(s)),M=I3(C,i,this.paramsInheritanceStrategy);C.params=Object.freeze(M.params),C.data=Object.freeze(M.data);let b=this.applyRedirects.applyRedirectCommands(u,s.redirectTo,d,C,n);return this.applyRedirects.lineralizeSegments(s,b).pipe(W(y=>this.processSegment(n,c,e,y.concat(p),r,!1,i)))}matchSegmentAgainstRoute(n,e,c,s,l,r){let i=B7(e,c,s,n,this.urlSerializer);return c.path==="**"&&(e.children={}),i.pipe(A(a=>a.matched?(n=c._injector??n,this.getChildConfig(n,c,s).pipe(A(({routes:f})=>{let u=c._loadedInjector??n,{parameters:d,consumedSegments:p,remainingSegments:C}=a,M=new l1(p,d,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,I8(c),i2(c),c.component??c._loadedComponent??null,c,T8(c)),b=I3(M,r,this.paramsInheritanceStrategy);M.params=Object.freeze(b.params),M.data=Object.freeze(b.data);let{segmentGroup:y,slicedSegments:T}=R8(e,p,C,f);if(T.length===0&&y.hasChildren())return this.processChildren(u,f,y,M).pipe(L(v=>new Q(M,v)));if(f.length===0&&T.length===0)return h(new Q(M,[]));let U=i2(c)===l;return this.processSegment(u,f,y,T,U?x:l,!0,M).pipe(L(v=>new Q(M,v instanceof Q?[v]:[])))}))):t1(e)))}getChildConfig(n,e,c){return e.children?h({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?h({routes:e._loadedRoutes,injector:e._loadedInjector}):O7(n,e,c,this.urlSerializer).pipe(W(s=>s?this.configLoader.loadChildren(n,e).pipe(D(l=>{e._loadedRoutes=l.routes,e._loadedInjector=l.injector})):_7(e))):h({routes:[],injector:n})}};function Y7(t){t.sort((n,e)=>n.value.outlet===x?-1:e.value.outlet===x?1:n.value.outlet.localeCompare(e.value.outlet))}function J7(t){let n=t.value.routeConfig;return n&&n.path===""}function te(t){let n=[],e=new Set;for(let c of t){if(!J7(c)){n.push(c);continue}let s=n.find(l=>c.value.routeConfig===l.value.routeConfig);s!==void 0?(s.children.push(...c.children),e.add(s)):n.push(c)}for(let c of e){let s=te(c.children);n.push(new Q(c.value,s))}return n.filter(c=>!e.has(c))}function I8(t){return t.data||{}}function T8(t){return t.resolve||{}}function Q7(t,n,e,c,s,l){return W(r=>K7(t,n,e,c,r.extractedUrl,s,l).pipe(L(({state:i,tree:a})=>H(z({},r),{targetSnapshot:i,urlAfterRedirects:a}))))}function Z7(t,n){return W(e=>{let{targetSnapshot:c,guards:{canActivateChecks:s}}=e;if(!s.length)return h(e);let l=new Set(s.map(a=>a.route)),r=new Set;for(let a of l)if(!r.has(a))for(let f of se(a))r.add(f);let i=0;return $(r).pipe(k(a=>l.has(a)?et(a,c,t,n):(a.data=I3(a,a.parent,t).resolve,h(void 0))),D(()=>i++),o4(1),W(a=>i===r.size?h(e):d2))})}function se(t){let n=t.children.map(e=>se(e)).flat();return[t,...n]}function et(t,n,e,c){let s=t.routeConfig,l=t._resolve;return s?.title!==void 0&&!X8(s)&&(l[q1]=s.title),ct(l,t,n,c).pipe(L(r=>(t._resolvedData=r,t.data=I3(t,t.parent,e).resolve,null)))}function ct(t,n,e,c){let s=$4(t);if(s.length===0)return h({});let l={};return $(s).pipe(W(r=>tt(t[r],n,e,c).pipe(w2(),D(i=>{if(i instanceof W1)throw E3(new F1,i);l[r]=i}))),o4(1),L(()=>l),F(r=>Z8(r)?d2:S(r)))}function tt(t,n,e,c){let s=G1(n)??c,l=u1(t,s),r=l.resolve?l.resolve(n,e):r2(s,()=>l(n,e));return b2(r)}function H4(t){return A(n=>{let e=t(n);return e?$(e).pipe(L(()=>n)):h(n)})}var ne=(()=>{class t{buildTitle(e){let c,s=e.root;for(;s!==void 0;)c=this.getResolvedTitleForRoute(s)??c,s=s.children.find(l=>l.outlet===x);return c}getResolvedTitleForRoute(e){return e.data[q1]}static \u0275fac=function(c){return new(c||t)};static \u0275prov=m({token:t,factory:()=>o(st),providedIn:"root"})}return t})(),st=(()=>{class t extends ne{title;constructor(e){super(),this.title=e}updateTitle(e){let c=this.buildTitle(e);c!==void 0&&this.title.setTitle(c)}static \u0275fac=function(c){return new(c||t)(R(y8))};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),M0=new j("",{providedIn:"root",factory:()=>({})}),nt=(()=>{class t{static \u0275fac=function(c){return new(c||t)};static \u0275cmp=y1({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(c,s){c&1&&V6(0,"router-outlet")},dependencies:[d7],encapsulation:2})}return t})();function C0(t){let n=t.children&&t.children.map(C0),e=n?H(z({},t),{children:n}):z({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==x&&(e.component=nt),e}var v0=new j(""),lt=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=o(v4);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return h(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let c=b2(e.loadComponent()).pipe(L(le),D(l=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=l}),S2(()=>{this.componentLoaders.delete(e)})),s=new l4(c,()=>new n2).pipe(n4());return this.componentLoaders.set(e,s),s}loadChildren(e,c){if(this.childrenLoaders.get(c))return this.childrenLoaders.get(c);if(c._loadedRoutes)return h({routes:c._loadedRoutes,injector:c._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(c);let l=rt(c,this.compiler,e,this.onLoadEndListener).pipe(S2(()=>{this.childrenLoaders.delete(c)})),r=new l4(l,()=>new n2).pipe(n4());return this.childrenLoaders.set(c,r),r}static \u0275fac=function(c){return new(c||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rt(t,n,e,c){return b2(t.loadChildren()).pipe(L(le),W(s=>s instanceof H6||Array.isArray(s)?h(s):$(n.compileModuleAsync(s))),L(s=>{c&&c(t);let l,r,i=!1;return Array.isArray(s)?(r=s,i=!0):(l=s.create(e).injector,r=l.get(v0,[],{optional:!0,self:!0}).flat()),{routes:r.map(C0),injector:l}}))}function it(t){return t&&typeof t=="object"&&"default"in t}function le(t){return it(t)?t.default:t}var S0=(()=>{class t{static \u0275fac=function(c){return new(c||t)};static \u0275prov=m({token:t,factory:()=>o(at),providedIn:"root"})}return t})(),at=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,c){return e}static \u0275fac=function(c){return new(c||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ot=new j("");var ft=new j(""),ut=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new n2;transitionAbortSubject=new n2;configLoader=o(lt);environmentInjector=o(K2);destroyRef=o(C1);urlSerializer=o(g0);rootContexts=o(P3);location=o(u3);inputBindingEnabled=o(L0,{optional:!0})!==null;titleStrategy=o(ne);options=o(M0,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=o(S0);createViewTransition=o(ot,{optional:!0});navigationErrorHandler=o(ft,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>h(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=s=>this.events.next(new Z4(s)),c=s=>this.events.next(new e0(s));this.configLoader.onLoadEndListener=c,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let c=++this.navigationId;this.transitions?.next(H(z(z({},this.transitions.value),e),{id:c}))}setupNavigations(e,c,s){return this.transitions=new q({id:0,currentUrlTree:c,currentRawUrl:c,extractedUrl:this.urlHandlingStrategy.extract(c),urlAfterRedirects:this.urlHandlingStrategy.extract(c),rawUrl:c,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:D1,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(v2(l=>l.id!==0),L(l=>H(z({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),A(l=>{let r=!1,i=!1;return h(l).pipe(A(a=>{if(this.navigationId>l.id)return this.cancelNavigationTransition(l,"",Z.SupersededByNewNavigation),d2;this.currentTransition=l,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?H(z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=a.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!f&&u!=="reload"){let d="";return this.events.next(new U2(a.id,this.urlSerializer.serialize(a.rawUrl),d,K4.IgnoredSameUrlNavigation)),a.resolve(!1),d2}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return h(a).pipe(A(d=>{let p=this.transitions?.getValue();return this.events.next(new j1(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),p!==this.transitions?.getValue()?d2:Promise.resolve(d)}),Q7(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),D(d=>{l.targetSnapshot=d.targetSnapshot,l.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=H(z({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let p=new k3(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:d,extractedUrl:p,source:C,restoredState:M,extras:b}=a,y=new j1(d,this.urlSerializer.serialize(p),C,M);this.events.next(y);let T=G8(this.rootComponentType).snapshot;return this.currentTransition=l=H(z({},a),{targetSnapshot:T,urlAfterRedirects:p,extras:H(z({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,h(l)}else{let d="";return this.events.next(new U2(a.id,this.urlSerializer.serialize(a.extractedUrl),d,K4.IgnoredByUrlHandlingStrategy)),a.resolve(!1),d2}}),D(a=>{let f=new X4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(f)}),L(a=>(this.currentTransition=l=H(z({},a),{guards:L7(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),l)),A7(this.environmentInjector,a=>this.events.next(a)),D(a=>{if(l.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw E3(this.urlSerializer,a.guardsResult);let f=new Y4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(f)}),v2(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",Z.GuardRejected),!1)),H4(a=>{if(a.guards.canActivateChecks.length)return h(a).pipe(D(f=>{let u=new J4(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(u)}),A(f=>{let u=!1;return h(f).pipe(Z7(this.paramsInheritanceStrategy,this.environmentInjector),D({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(f,"",Z.NoDataFromResolver)}}))}),D(f=>{let u=new Q4(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(u)}))}),H4(a=>{let f=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(D(p=>{u.component=p}),L(()=>{})));for(let p of u.children)d.push(...f(p));return d};return r4(f(a.targetSnapshot.root)).pipe(a4(null),l2(1))}),H4(()=>this.afterPreactivation()),A(()=>{let{currentSnapshot:a,targetSnapshot:f}=l,u=this.createViewTransition?.(this.environmentInjector,a.root,f.root);return u?$(u).pipe(L(()=>l)):h(l)}),L(a=>{let f=h7(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=l=H(z({},a),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,l}),D(()=>{this.events.next(new B1)}),z7(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),l2(1),D({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new O2(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),b6(this.transitionAbortSubject.pipe(D(a=>{throw a}))),S2(()=>{!r&&!i&&this.cancelNavigationTransition(l,"",Z.SupersededByNewNavigation),this.currentTransition?.id===l.id&&(this.currentNavigation=null,this.currentTransition=null)}),F(a=>{if(this.destroyed)return l.resolve(!1),d2;if(i=!0,Q8(a))this.events.next(new m2(l.id,this.urlSerializer.serialize(l.extractedUrl),a.message,a.cancellationCode)),g7(a)?this.events.next(new a1(a.url,a.navigationBehaviorOptions)):l.resolve(!1);else{let f=new _1(l.id,this.urlSerializer.serialize(l.extractedUrl),a,l.targetSnapshot??void 0);try{let u=r2(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(u instanceof W1){let{message:d,cancellationCode:p}=E3(this.urlSerializer,u);this.events.next(new m2(l.id,this.urlSerializer.serialize(l.extractedUrl),d,p)),this.events.next(new a1(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(f),a}catch(u){this.options.resolveNavigationPromiseOnError?l.resolve(!1):l.reject(u)}}return d2}))}))}cancelNavigationTransition(e,c,s){let l=new m2(e.id,this.urlSerializer.serialize(e.extractedUrl),c,s);this.events.next(l),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),c=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==c?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(c){return new(c||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dt(t){return t!==D1}var ht=(()=>{class t{static \u0275fac=function(c){return new(c||t)};static \u0275prov=m({token:t,factory:()=>o(pt),providedIn:"root"})}return t})(),m0=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},pt=(()=>{class t extends m0{static \u0275fac=(()=>{let e;return function(s){return(e||(e=r3(t)))(s||t)}})();static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),re=(()=>{class t{static \u0275fac=function(c){return new(c||t)};static \u0275prov=m({token:t,factory:()=>o(mt),providedIn:"root"})}return t})(),mt=(()=>{class t extends re{location=o(u3);urlSerializer=o(g0);options=o(M0,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=o(S0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new g2;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=G8(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(c=>{c.type==="popstate"&&e(c.url,c.state)})}handleRouterEvent(e,c){if(e instanceof j1)this.stateMemento=this.createStateMemento();else if(e instanceof U2)this.rawUrlTree=c.initialUrl;else if(e instanceof k3){if(this.urlUpdateStrategy==="eager"&&!c.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(c.finalUrl,c.initialUrl);this.setBrowserUrl(c.targetBrowserUrl??s,c)}}else e instanceof B1?(this.currentUrlTree=c.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(c.finalUrl,c.initialUrl),this.routerState=c.targetRouterState,this.urlUpdateStrategy==="deferred"&&!c.extras.skipLocationChange&&this.setBrowserUrl(c.targetBrowserUrl??this.rawUrlTree,c)):e instanceof m2&&(e.code===Z.GuardRejected||e.code===Z.NoDataFromResolver)?this.restoreHistory(c):e instanceof _1?this.restoreHistory(c,!0):e instanceof O2&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,c){let s=e instanceof g2?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(s)||c.extras.replaceUrl){let l=this.browserPageId,r=z(z({},c.extras.state),this.generateNgRouterState(c.id,l));this.location.replaceState(s,"",r)}else{let l=z(z({},c.extras.state),this.generateNgRouterState(c.id,this.browserPageId+1));this.location.go(s,"",l)}}restoreHistory(e,c=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,l=this.currentPageId-s;l!==0?this.location.historyGo(l):this.currentUrlTree===e.finalUrl&&l===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(c&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,c){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:c}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(s){return(e||(e=r3(t)))(s||t)}})();static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gt(t,n){t.events.pipe(v2(e=>e instanceof O2||e instanceof m2||e instanceof _1||e instanceof U2),L(e=>e instanceof O2||e instanceof U2?0:(e instanceof m2?e.code===Z.Redirect||e.code===Z.SupersededByNewNavigation:!1)?2:1),v2(e=>e!==2),l2(1)).subscribe(()=>{n()})}var zt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},j2=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=o(z4);stateManager=o(re);options=o(M0,{optional:!0})||{};pendingTasks=o(i3);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=o(ut);urlSerializer=o(g0);location=o(u3);urlHandlingStrategy=o(S0);_events=new n2;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=o(ht);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=o(v0,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!o(L0,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new h6;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(c=>{try{let s=this.navigationTransitions.currentTransition,l=this.navigationTransitions.currentNavigation;if(s!==null&&l!==null){if(this.stateManager.handleRouterEvent(c,l),c instanceof m2&&c.code!==Z.Redirect&&c.code!==Z.SupersededByNewNavigation)this.navigated=!0;else if(c instanceof O2)this.navigated=!0;else if(c instanceof a1){let r=c.navigationBehaviorOptions,i=this.urlHandlingStrategy.merge(c.url,s.currentRawUrl),a=z({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||dt(s.source)},r);this.scheduleNavigation(i,D1,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Ct(c)&&this._events.next(c)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),D1,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,c)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",c)},0)})}navigateToSyncWithBrowser(e,c,s){let l={replaceUrl:!0},r=s?.navigationId?s:null;if(s){let a=z({},s);delete a.navigationId,delete a.\u0275routerPageId,Object.keys(a).length!==0&&(l.state=a)}let i=this.parseUrl(e);this.scheduleNavigation(i,c,r,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(C0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,c={}){let{relativeTo:s,queryParams:l,fragment:r,queryParamsHandling:i,preserveFragment:a}=c,f=a?this.currentUrlTree.fragment:r,u=null;switch(i??this.options.defaultQueryParamsHandling){case"merge":u=z(z({},this.currentUrlTree.queryParams),l);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=l||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=s?s.snapshot:this.routerState.snapshot.root;d=W8(p)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return $8(d,e,u,f??null)}navigateByUrl(e,c={skipLocationChange:!1}){let s=O1(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(l,D1,null,c)}navigate(e,c={skipLocationChange:!1}){return Mt(e),this.navigateByUrl(this.createUrlTree(e,c),c)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,c){let s;if(c===!0?s=z({},zt):c===!1?s=z({},Lt):s=c,O1(e))return x8(this.currentUrlTree,e,s);let l=this.parseUrl(e);return x8(this.currentUrlTree,l,s)}removeEmptyProps(e){return Object.entries(e).reduce((c,[s,l])=>(l!=null&&(c[s]=l),c),{})}scheduleNavigation(e,c,s,l,r){if(this.disposed)return Promise.resolve(!1);let i,a,f;r?(i=r.resolve,a=r.reject,f=r.promise):f=new Promise((d,p)=>{i=d,a=p});let u=this.pendingTasks.add();return gt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:c,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:l,resolve:i,reject:a,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(d=>Promise.reject(d))}static \u0275fac=function(c){return new(c||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Mt(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new I(4008,!1)}function Ct(t){return!(t instanceof B1)&&!(t instanceof a1)}var vt=new j("");function Lr(t,...n){return E2([{provide:v0,multi:!0,useValue:t},[],{provide:o1,useFactory:St,deps:[j2]},{provide:M4,multi:!0,useFactory:wt},n.map(e=>e.\u0275providers)])}function St(t){return t.routerState.root}function wt(){let t=o(M1);return n=>{let e=t.get(f3);if(n!==e.components[0])return;let c=t.get(j2),s=t.get(yt);t.get(bt)===1&&c.initialNavigation(),t.get(xt,null,f4.Optional)?.setUpPreloading(),t.get(vt,null,f4.Optional)?.init(),c.resetRootComponentType(e.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}var yt=new j("",{factory:()=>new n2}),bt=new j("",{providedIn:"root",factory:()=>1});var xt=new j("");var ie={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6};var ae={parse:function(n,e){return Nt(n,ie,e)},stringify:function(n,e){return kt(n,ie,e)}};function Nt(t,n,e){var c;if(e===void 0&&(e={}),!n.codes){n.codes={};for(var s=0;s<n.chars.length;++s)n.codes[n.chars[s]]=s}if(!e.loose&&t.length*n.bits&7)throw new SyntaxError("Invalid padding");for(var l=t.length;t[l-1]==="=";)if(--l,!e.loose&&!((t.length-l)*n.bits&7))throw new SyntaxError("Invalid padding");for(var r=new((c=e.out)!=null?c:Uint8Array)(l*n.bits/8|0),i=0,a=0,f=0,u=0;u<l;++u){var d=n.codes[t[u]];if(d===void 0)throw new SyntaxError("Invalid character "+t[u]);a=a<<n.bits|d,i+=n.bits,i>=8&&(i-=8,r[f++]=255&a>>i)}if(i>=n.bits||255&a<<8-i)throw new SyntaxError("Unexpected end of data");return r}function kt(t,n,e){e===void 0&&(e={});for(var c=e,s=c.pad,l=s===void 0?!0:s,r=(1<<n.bits)-1,i="",a=0,f=0,u=0;u<t.length;++u)for(f=f<<8|255&t[u],a+=8;a>n.bits;)a-=n.bits,i+=n.chars[r&f>>a];if(a&&(i+=n.chars[r&f<<n.bits-a]),l)for(;i.length*n.bits&7;)i+="=";return i}function O3(t,n){let e=!n?.manualCleanup;e&&!n?.injector&&k6(O3);let c=e?n?.injector?.get(C1)??o(C1):null,s=At(n?.equal),l;n?.requireSync?l=h4({kind:0},{equal:s}):l=h4({kind:1,value:n?.initialValue},{equal:s});let r=t.subscribe({next:i=>l.set({kind:1,value:i}),error:i=>{if(n?.rejectErrors)throw i;l.set({kind:2,error:i})}});if(n?.requireSync&&l().kind===0)throw new I(601,!1);return c?.onDestroy(r.unsubscribe.bind(r)),J6(()=>{let i=l();switch(i.kind){case 1:return i.value;case 2:throw i.error;case 0:throw new I(601,!1)}},{equal:n?.equal})}function At(t=Object.is){return(n,e)=>n.kind===1&&e.kind===1&&t(n.value,e.value)}var U3=class{},y0=class{constructor(n){this.passedConfigs=n}loadConfigs(){return Array.isArray(this.passedConfigs)?h(this.passedConfigs):h([this.passedConfigs])}};function Rt(t){if(!t?.config)throw new Error("No config provided!");return new y0(t.config)}var oe=new j("PASSED_CONFIG"),pe=(()=>{class t{static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),It=(()=>{class t{logError(e,...c){console.error(e,...c)}logWarning(e,...c){console.warn(e,...c)}logDebug(e,...c){console.debug(e,...c)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),X1=function(t){return t[t.None=0]="None",t[t.Debug=1]="Debug",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t}(X1||{}),N=(()=>{class t{constructor(){this.abstractLoggerService=o(pe)}logError(e,c,...s){if(this.loggingIsTurnedOff(e))return;let{configId:l}=e,r=this.isObject(c)?JSON.stringify(c):c;s&&s.length?this.abstractLoggerService.logError(`[ERROR] ${l} - ${r}`,...s):this.abstractLoggerService.logError(`[ERROR] ${l} - ${r}`)}logWarning(e,c,...s){if(!this.logLevelIsSet(e)||this.loggingIsTurnedOff(e)||!this.currentLogLevelIsEqualOrSmallerThan(e,X1.Warn))return;let{configId:l}=e,r=this.isObject(c)?JSON.stringify(c):c;s&&s.length?this.abstractLoggerService.logWarning(`[WARN] ${l} - ${r}`,...s):this.abstractLoggerService.logWarning(`[WARN] ${l} - ${r}`)}logDebug(e,c,...s){if(!e||!this.logLevelIsSet(e)||this.loggingIsTurnedOff(e)||!this.currentLogLevelIsEqualOrSmallerThan(e,X1.Debug))return;let{configId:l}=e,r=this.isObject(c)?JSON.stringify(c):c;s&&s.length?this.abstractLoggerService.logDebug(`[DEBUG] ${l} - ${r}`,...s):this.abstractLoggerService.logDebug(`[DEBUG] ${l} - ${r}`)}currentLogLevelIsEqualOrSmallerThan(e,c){let{logLevel:s}=e||{};return s?s<=c:!1}logLevelIsSet(e){let{logLevel:c}=e||{};return c===null?!1:c!==void 0}loggingIsTurnedOff(e){let{logLevel:c}=e||{};return c===X1.None}isObject(e){return Object.prototype.toString.call(e)==="[object Object]"}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),K=function(t){return t[t.ConfigLoaded=0]="ConfigLoaded",t[t.CheckingAuth=1]="CheckingAuth",t[t.CheckingAuthFinished=2]="CheckingAuthFinished",t[t.CheckingAuthFinishedWithError=3]="CheckingAuthFinishedWithError",t[t.ConfigLoadingFailed=4]="ConfigLoadingFailed",t[t.CheckSessionReceived=5]="CheckSessionReceived",t[t.UserDataChanged=6]="UserDataChanged",t[t.NewAuthenticationResult=7]="NewAuthenticationResult",t[t.TokenExpired=8]="TokenExpired",t[t.IdTokenExpired=9]="IdTokenExpired",t[t.SilentRenewStarted=10]="SilentRenewStarted",t[t.SilentRenewFailed=11]="SilentRenewFailed",t}(K||{}),_2=(()=>{class t{constructor(){this.notify=new m6(1)}fireEvent(e,c){this.notify.next({type:e,value:c})}registerForEvents(){return this.notify.asObservable()}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),me=(()=>{class t{static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Tt=(()=>{class t{constructor(){this.loggerService=o(N),this.abstractSecurityStorage=o(me)}read(e,c){let{configId:s}=c;if(!s)return this.loggerService.logDebug(c,`Wanted to read '${e}' but configId was '${s}'`),null;if(!this.hasStorage())return this.loggerService.logDebug(c,`Wanted to read '${e}' but Storage was undefined`),null;let l=this.abstractSecurityStorage.read(s);return l?JSON.parse(l):null}write(e,c){let{configId:s}=c;return s?this.hasStorage()?(e=e||null,this.abstractSecurityStorage.write(s,JSON.stringify(e)),!0):(this.loggerService.logDebug(c,"Wanted to write but Storage was falsy"),!1):(this.loggerService.logDebug(c,`Wanted to write but configId was '${s}'`),!1)}remove(e,c){return this.hasStorage()?(this.abstractSecurityStorage.remove(e),!0):(this.loggerService.logDebug(c,`Wanted to remove '${e}' but Storage was falsy`),!1)}clear(e){return this.hasStorage()?(this.abstractSecurityStorage.clear(),!0):(this.loggerService.logDebug(e,"Wanted to clear storage but Storage was falsy"),!1)}hasStorage(){return typeof Storage<"u"}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),B=(()=>{class t{constructor(){this.browserStorageService=o(Tt)}read(e,c){return(this.browserStorageService.read(e,c)||{})[e]}write(e,c,s){let l=this.browserStorageService.read(e,s)||{};return l[e]=c,this.browserStorageService.write(l,s)}remove(e,c){let s=this.browserStorageService.read(e,c)||{};delete s[e],this.browserStorageService.write(s,c)}clear(e){this.browserStorageService.clear(e)}resetStorageFlowData(e){this.remove("session_state",e),this.remove("storageSilentRenewRunning",e),this.remove("storageCodeFlowInProgress",e),this.remove("codeVerifier",e),this.remove("userData",e),this.remove("storageCustomParamsAuthRequest",e),this.remove("access_token_expires_at",e),this.remove("storageCustomParamsRefresh",e),this.remove("storageCustomParamsEndSession",e),this.remove("reusable_refresh_token",e)}resetAuthStateInStorage(e){this.remove("authzData",e),this.remove("reusable_refresh_token",e),this.remove("authnResult",e)}getAccessToken(e){return this.read("authzData",e)}getIdToken(e){return this.read("authnResult",e)?.id_token}getRefreshToken(e){let c=this.read("authnResult",e)?.refresh_token;return!c&&e.allowUnsafeReuseRefreshToken?this.read("reusable_refresh_token",e):c}getAuthenticationResult(e){return this.read("authnResult",e)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ge=(()=>{class t{extractJwk(e,c,s=!0){if(e.length===0)throw Et;let l=e.filter(r=>c?.kid?r.kid===c.kid:!0).filter(r=>c?.use?r.use===c.use:!0).filter(r=>c?.kty?r.kty===c.kty:!0);if(l.length===0&&s)throw Dt;if(l.length>1&&c==null)throw Pt;return l}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function x0(t){return ge.name+": "+t}var Et={name:x0("InvalidArgumentError"),message:"Array of keys was empty. Unable to extract"},Dt={name:x0("NoMatchingKeysError"),message:"No key found matching the spec"},Pt={name:x0("SeveralMatchingKeysError"),message:"More than one key found. Please use spec to filter"},fe=3,_3=(()=>{class t{constructor(){this.loggerService=o(N),this.document=o(P)}getTokenExpirationDate(e){if(!Object.prototype.hasOwnProperty.call(e,"exp"))return new Date(new Date().toUTCString());let c=new Date(0);return c.setUTCSeconds(e.exp),c}getSigningInputFromToken(e,c,s){if(!this.tokenIsValid(e,s))return"";let l=this.getHeaderFromToken(e,c,s),r=this.getPayloadFromToken(e,c,s);return[l,r].join(".")}getHeaderFromToken(e,c,s){return this.tokenIsValid(e,s)?this.getPartOfToken(e,0,c):{}}getPayloadFromToken(e,c,s){return s?this.tokenIsValid(e,s)?this.getPartOfToken(e,1,c):{}:{}}getSignatureFromToken(e,c,s){return this.tokenIsValid(e,s)?this.getPartOfToken(e,2,c):{}}getPartOfToken(e,c,s){let l=this.extractPartOfToken(e,c);if(s)return l;let r=this.urlBase64Decode(l);return JSON.parse(r)}urlBase64Decode(e){let c=e.replace(/-/g,"+").replace(/_/g,"/");switch(c.length%4){case 0:break;case 2:c+="==";break;case 3:c+="=";break;default:throw Error("Illegal base64url string!")}let s=typeof this.document.defaultView<"u"?this.document.defaultView?.atob(c):Buffer.from(c,"base64").toString("binary");if(!s)return"";try{return decodeURIComponent(s.split("").map(l=>"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)).join(""))}catch{return s}}tokenIsValid(e,c){return e?e.includes(".")?e.split(".").length!==fe?(this.loggerService.logError(c,`token '${e}' is not valid --> token has to have exactly ${fe-1} dots`),!1):!0:(this.loggerService.logError(c,`token '${e}' is not valid --> no dots included`),!1):(this.loggerService.logError(c,`token '${e}' is not valid --> token falsy`),!1)}extractPartOfToken(e,c){return e.split(".")[c]}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),N0=(()=>{class t{constructor(){this.document=o(P)}getCrypto(){return this.document.defaultView?.crypto||this.document.defaultView?.msCrypto}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ft=(()=>{class t{constructor(){this.cryptoService=o(N0)}importVerificationKey(e,c){return this.cryptoService.getCrypto().subtle.importKey("jwk",e,c,!1,["verify"])}verifyKey(e,c,s,l){return this.cryptoService.getCrypto().subtle.verify(e,c,s,new TextEncoder().encode(l))}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ze=(()=>{class t{constructor(){this.cryptoService=o(N0)}generateCodeChallenge(e){return this.calcHash(e).pipe(L(c=>this.base64UrlEncode(c)))}generateAtHash(e,c){return this.calcHash(e,c).pipe(L(s=>{let l=s.substr(0,s.length/2);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}))}calcHash(e,c="SHA-256"){let s=new TextEncoder().encode(e);return $(this.cryptoService.getCrypto().subtle.digest(c,s)).pipe(L(l=>{let r=l,i=Array.from(new Uint8Array(r));return this.toHashString(i)}))}toHashString(e){let c="";for(let s of e)c+=String.fromCharCode(s);return c}base64UrlEncode(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ot(t){switch(t.charAt(0)){case"R":return{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"};case"E":return t.includes("256")?{name:"ECDSA",hash:"SHA-256"}:t.includes("384")?{name:"ECDSA",hash:"SHA-384"}:null;default:return null}}function Ut(t){switch(t.charAt(0)){case"R":return"RSA";case"E":return"EC";default:throw new Error("Cannot infer kty from alg: "+t)}}function jt(t){switch(t.charAt(0)){case"R":return t.includes("256")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"}:t.includes("384")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-384"}:t.includes("512")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-512"}:null;case"E":return t.includes("256")?{name:"ECDSA",namedCurve:"P-256"}:t.includes("384")?{name:"ECDSA",namedCurve:"P-384"}:null;default:return null}}var B3=(()=>{class t{constructor(){this.keyAlgorithms=["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","PS256","PS384","PS512"],this.tokenHelperService=o(_3),this.loggerService=o(N),this.jwkExtractor=o(ge),this.jwkWindowCryptoService=o(Ft),this.jwtWindowCryptoService=o(ze)}static{this.refreshTokenNoncePlaceholder="--RefreshToken--"}hasIdTokenExpired(e,c,s){let l=this.tokenHelperService.getPayloadFromToken(e,!1,c);return!this.validateIdTokenExpNotExpired(l,c,s)}validateIdTokenExpNotExpired(e,c,s){let l=this.tokenHelperService.getTokenExpirationDate(e);if(s=s||0,!l)return!1;let r=l.valueOf(),i=this.calculateNowWithOffset(s),a=r>i;return this.loggerService.logDebug(c,`Has idToken expired: ${!a} --> expires in ${this.millisToMinutesAndSeconds(r-i)} , ${new Date(r).toLocaleTimeString()} > ${new Date(i).toLocaleTimeString()}`),a}validateAccessTokenNotExpired(e,c,s){if(!e)return!0;s=s||0;let l=e.valueOf(),r=this.calculateNowWithOffset(s),i=l>r;return this.loggerService.logDebug(c,`Has accessToken expired: ${!i} --> expires in ${this.millisToMinutesAndSeconds(l-r)} , ${new Date(l).toLocaleTimeString()} > ${new Date(r).toLocaleTimeString()}`),i}validateRequiredIdToken(e,c){let s=!0;return Object.prototype.hasOwnProperty.call(e,"iss")||(s=!1,this.loggerService.logWarning(c,"iss is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"sub")||(s=!1,this.loggerService.logWarning(c,"sub is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"aud")||(s=!1,this.loggerService.logWarning(c,"aud is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"exp")||(s=!1,this.loggerService.logWarning(c,"exp is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"iat")||(s=!1,this.loggerService.logWarning(c,"iat is missing, this is required in the id_token")),s}validateIdTokenIatMaxOffset(e,c,s,l){if(s)return!0;if(!Object.prototype.hasOwnProperty.call(e,"iat"))return!1;let r=new Date(0);r.setUTCSeconds(e.iat),c=c||0;let a=new Date(new Date().toUTCString()).valueOf()-r.valueOf(),f=c*1e3;return this.loggerService.logDebug(l,`validate id token iat max offset ${a} < ${f}`),a>0?a<f:-a<f}validateIdTokenNonce(e,c,s,l){return!((e.nonce===void 0||s)&&c===t.refreshTokenNoncePlaceholder)&&e.nonce!==c?(this.loggerService.logDebug(l,"Validate_id_token_nonce failed, dataIdToken.nonce: "+e.nonce+" local_nonce:"+c),!1):!0}validateIdTokenIss(e,c,s){return e.iss!==c?(this.loggerService.logDebug(s,"Validate_id_token_iss failed, dataIdToken.iss: "+e.iss+" authWellKnownEndpoints issuer:"+c),!1):!0}validateIdTokenAud(e,c,s){return Array.isArray(e.aud)?e.aud.includes(c)?!0:(this.loggerService.logDebug(s,"Validate_id_token_aud array failed, dataIdToken.aud: "+e.aud+" client_id:"+c),!1):e.aud!==c?(this.loggerService.logDebug(s,"Validate_id_token_aud failed, dataIdToken.aud: "+e.aud+" client_id:"+c),!1):!0}validateIdTokenAzpExistsIfMoreThanOneAud(e){return e?!(Array.isArray(e.aud)&&e.aud.length>1&&!e.azp):!1}validateIdTokenAzpValid(e,c){return e?.azp?e.azp===c:!0}validateStateFromHashCallback(e,c,s){return e!==c?(this.loggerService.logDebug(s,"ValidateStateFromHashCallback failed, state: "+e+" local_state:"+c),!1):!0}validateSignatureIdToken(e,c,s){if(!e)return h(!0);if(!c||!c.keys)return h(!1);let l=this.tokenHelperService.getHeaderFromToken(e,!1,s);if(Object.keys(l).length===0&&l.constructor===Object)return this.loggerService.logWarning(s,"id token has no header data"),h(!1);let r=l.kid,i=l.alg,a=c.keys,f,u;if(!this.keyAlgorithms.includes(i))return this.loggerService.logWarning(s,"alg not supported",i),h(!1);let d=Ut(i),p="sig";try{f=r?this.jwkExtractor.extractJwk(a,{kid:r,kty:d,use:p},!1):this.jwkExtractor.extractJwk(a,{kty:d,use:p},!1),f.length===0&&(f=r?this.jwkExtractor.extractJwk(a,{kid:r,kty:d}):this.jwkExtractor.extractJwk(a,{kty:d})),u=f[0]}catch(y){return this.loggerService.logError(s,y),h(!1)}let C=jt(i),M=this.tokenHelperService.getSigningInputFromToken(e,!0,s),b=this.tokenHelperService.getSignatureFromToken(e,!0,s);return $(this.jwkWindowCryptoService.importVerificationKey(u,C)).pipe(W(y=>{let T=ae.parse(b,{loose:!0}),U=Ot(i);return $(this.jwkWindowCryptoService.verifyKey(U,y,T,M))}),D(y=>{y||this.loggerService.logWarning(s,"incorrect Signature, validation failed for id_token")}))}validateIdTokenAtHash(e,c,s,l){this.loggerService.logDebug(l,"at_hash from the server:"+c);let r="SHA-256";return s.includes("384")?r="SHA-384":s.includes("512")&&(r="SHA-512"),this.jwtWindowCryptoService.generateAtHash(""+e,r).pipe(W(i=>(this.loggerService.logDebug(l,"at_hash client validation not decoded:"+i),i===c?h(!0):this.jwtWindowCryptoService.generateAtHash(""+decodeURIComponent(e),r).pipe(L(a=>(this.loggerService.logDebug(l,"-gen access--"+i),a===c))))))}millisToMinutesAndSeconds(e){let c=Math.floor(e/6e4),s=(e%6e4/1e3).toFixed(0);return c+":"+(+s<10?"0":"")+s}calculateNowWithOffset(e){return new Date(new Date().toUTCString()).valueOf()+e*1e3}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_t={isAuthenticated:!1,allConfigsAuthenticated:[]},s2=(()=>{class t{constructor(){this.storagePersistenceService=o(B),this.loggerService=o(N),this.publicEventsService=o(_2),this.tokenValidationService=o(B3),this.authenticatedInternal$=new q(_t)}get authenticated$(){return this.authenticatedInternal$.asObservable().pipe(v6())}setAuthenticatedAndFireEvent(e){let c=this.composeAuthenticatedResult(e);this.authenticatedInternal$.next(c)}setUnauthenticatedAndFireEvent(e,c){this.storagePersistenceService.resetAuthStateInStorage(e);let s=this.composeUnAuthenticatedResult(c);this.authenticatedInternal$.next(s)}updateAndPublishAuthState(e){this.publicEventsService.fireEvent(K.NewAuthenticationResult,e)}setAuthorizationData(e,c,s,l){this.loggerService.logDebug(s,`storing the accessToken '${e}'`),this.storagePersistenceService.write("authzData",e,s),this.persistAccessTokenExpirationTime(c,s),this.setAuthenticatedAndFireEvent(l)}getAccessToken(e){if(!e||!this.isAuthenticated(e))return"";let c=this.storagePersistenceService.getAccessToken(e);return this.decodeURIComponentSafely(c)}getIdToken(e){if(!e||!this.isAuthenticated(e))return"";let c=this.storagePersistenceService.getIdToken(e);return this.decodeURIComponentSafely(c)}getRefreshToken(e){if(!e||!this.isAuthenticated(e))return"";let c=this.storagePersistenceService.getRefreshToken(e);return this.decodeURIComponentSafely(c)}getAuthenticationResult(e){return!e||!this.isAuthenticated(e)?null:this.storagePersistenceService.getAuthenticationResult(e)}areAuthStorageTokensValid(e){return!e||!this.isAuthenticated(e)?!1:this.hasIdTokenExpiredAndRenewCheckIsEnabled(e)?(this.loggerService.logDebug(e,"persisted idToken is expired"),!1):this.hasAccessTokenExpiredIfExpiryExists(e)?(this.loggerService.logDebug(e,"persisted accessToken is expired"),!1):(this.loggerService.logDebug(e,"persisted idToken and accessToken are valid"),!0)}hasIdTokenExpiredAndRenewCheckIsEnabled(e){let{renewTimeBeforeTokenExpiresInSeconds:c,triggerRefreshWhenIdTokenExpired:s,disableIdTokenValidation:l}=e;if(!s||l)return!1;let r=this.storagePersistenceService.getIdToken(e),i=this.tokenValidationService.hasIdTokenExpired(r,e,c);return i&&this.publicEventsService.fireEvent(K.IdTokenExpired,i),i}hasAccessTokenExpiredIfExpiryExists(e){let{renewTimeBeforeTokenExpiresInSeconds:c}=e,s=this.storagePersistenceService.read("access_token_expires_at",e),r=!this.tokenValidationService.validateAccessTokenNotExpired(s,e,c);return r&&this.publicEventsService.fireEvent(K.TokenExpired,r),r}isAuthenticated(e){if(!e)return S(()=>new Error("Please provide a configuration before setting up the module")),!1;let c=!!this.storagePersistenceService.getAccessToken(e),s=!!this.storagePersistenceService.getIdToken(e);return c&&s}decodeURIComponentSafely(e){return e?decodeURIComponent(e):""}persistAccessTokenExpirationTime(e,c){if(e?.expires_in){let s=new Date(new Date().toUTCString()).valueOf()+e.expires_in*1e3;this.storagePersistenceService.write("access_token_expires_at",s,c)}}composeAuthenticatedResult(e){if(e.length===1){let{configId:c}=e[0];return{isAuthenticated:!0,allConfigsAuthenticated:[{configId:c??"",isAuthenticated:!0}]}}return this.checkAllConfigsIfTheyAreAuthenticated(e)}composeUnAuthenticatedResult(e){if(e.length===1){let{configId:c}=e[0];return{isAuthenticated:!1,allConfigsAuthenticated:[{configId:c??"",isAuthenticated:!1}]}}return this.checkAllConfigsIfTheyAreAuthenticated(e)}checkAllConfigsIfTheyAreAuthenticated(e){let c=e.map(l=>({configId:l.configId??"",isAuthenticated:this.isAuthenticated(l)})),s=c.every(l=>!!l.isAuthenticated);return{allConfigsAuthenticated:c,isAuthenticated:s}}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),w0="redirect",Le=(()=>{class t{constructor(){this.storageService=o(B),this.router=o(j2)}checkSavedRedirectRouteAndNavigate(e){if(!e)return;let c=this.getStoredRedirectRoute(e);c!=null&&(this.deleteStoredRedirectRoute(e),this.router.navigateByUrl(c))}saveRedirectRoute(e,c){e&&this.storageService.write(w0,c,e)}getStoredRedirectRoute(e){return this.storageService.read(w0,e)}deleteStoredRedirectRoute(e){this.storageService.remove(w0,e)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),x2=(()=>{class t{isCurrentFlowCodeFlow(e){return this.currentFlowIs("code",e)}isCurrentFlowAnyImplicitFlow(e){return this.isCurrentFlowImplicitFlowWithAccessToken(e)||this.isCurrentFlowImplicitFlowWithoutAccessToken(e)}isCurrentFlowCodeFlowWithRefreshTokens(e){if(!e)return!1;let{useRefreshToken:c}=e;return this.isCurrentFlowCodeFlow(e)&&!!c}isCurrentFlowImplicitFlowWithAccessToken(e){return this.currentFlowIs("id_token token",e)}currentFlowIs(e,c){let{responseType:s}=c;return Array.isArray(e)?e.some(l=>s===l):s===e}isCurrentFlowImplicitFlowWithoutAccessToken(e){return this.currentFlowIs("id_token",e)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Bt=(()=>{class t{constructor(){this.loggerService=o(N),this.cryptoService=o(N0)}createRandom(e,c){if(e<=0)return"";e>0&&e<7&&(this.loggerService.logWarning(c,`RandomService called with ${e} but 7 chars is the minimum, returning 10 chars`),e=10);let s=e-6,l=new Uint8Array(Math.floor(s/2)),r=this.cryptoService.getCrypto();return r&&r.getRandomValues(l),Array.from(l,this.toHex).join("")+this.randomString(7)}toHex(e){return("0"+e.toString(16)).substr(-2)}randomString(e){let c="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=new Uint32Array(e),r=this.cryptoService.getCrypto();if(r){r.getRandomValues(l);for(let i=0;i<e;i++)c+=s[l[i]%s.length]}return c}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),X=(()=>{class t{constructor(){this.loggerService=o(N),this.storagePersistenceService=o(B),this.randomService=o(Bt)}createNonce(e){let c=this.randomService.createRandom(40,e);return this.loggerService.logDebug(e,"Nonce created. nonce:"+c),this.setNonce(c,e),c}setNonce(e,c){this.storagePersistenceService.write("authNonce",e,c)}getAuthStateControl(e){return e?this.storagePersistenceService.read("authStateControl",e):""}setAuthStateControl(e,c){return c?this.storagePersistenceService.write("authStateControl",e,c):!1}getExistingOrCreateAuthStateControl(e){let c=this.storagePersistenceService.read("authStateControl",e);return c||(c=this.randomService.createRandom(40,e),this.storagePersistenceService.write("authStateControl",c,e)),c}setSessionState(e,c){this.storagePersistenceService.write("session_state",e,c)}resetStorageFlowData(e){this.storagePersistenceService.resetStorageFlowData(e)}getCodeVerifier(e){return this.storagePersistenceService.read("codeVerifier",e)}createCodeVerifier(e){let c=this.randomService.createRandom(67,e);return this.storagePersistenceService.write("codeVerifier",c,e),c}isCodeFlowInProgress(e){return!!this.storagePersistenceService.read("storageCodeFlowInProgress",e)}setCodeFlowInProgress(e){this.storagePersistenceService.write("storageCodeFlowInProgress",!0,e)}resetCodeFlowInProgress(e){this.storagePersistenceService.write("storageCodeFlowInProgress",!1,e)}isSilentRenewRunning(e){let{configId:c,silentRenewTimeoutInSeconds:s}=e,l=this.getSilentRenewRunningStorageEntry(e);if(!l||l.state==="not-running")return!1;let r=(s??0)*1e3,i=Date.parse(l.dateOfLaunchedProcessUtc),a=Date.parse(new Date().toISOString());return Math.abs(a-i)>r?(this.loggerService.logDebug(e,"silent renew process is probably stuck, state will be reset.",c),this.resetSilentRenewRunning(e),!1):l.state==="running"}setSilentRenewRunning(e){let c={state:"running",dateOfLaunchedProcessUtc:new Date().toISOString()};this.storagePersistenceService.write("storageSilentRenewRunning",JSON.stringify(c),e)}resetSilentRenewRunning(e){e&&this.storagePersistenceService.write("storageSilentRenewRunning","",e)}getSilentRenewRunningStorageEntry(e){let c=this.storagePersistenceService.read("storageSilentRenewRunning",e);return c?JSON.parse(c):{dateOfLaunchedProcessUtc:"",state:"not-running"}}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),b0=class{encodeKey(n){return encodeURIComponent(n)}encodeValue(n){return encodeURIComponent(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}},Ht=["code","state","token","id_token"],Wt="auth0.com",o2=(()=>{class t{constructor(){this.loggerService=o(N),this.flowsDataService=o(X),this.flowHelper=o(x2),this.storagePersistenceService=o(B),this.jwtWindowCryptoService=o(ze)}getUrlParameter(e,c){if(!e||!c)return"";c=c.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");let l=new RegExp("[\\?&#]"+c+"=([^&#]*)").exec(e);return l===null?"":decodeURIComponent(l[1])}getUrlWithoutQueryParameters(e){let c=new URL(e.toString()),s=[];for(let l of c.searchParams.keys())s.push(l);return s.forEach(l=>{c.searchParams.delete(l)}),c}queryParametersExist(e,c){let s=!0;return e.forEach((l,r)=>{c.has(r)||(s=!1)}),s}isCallbackFromSts(e,c){if(c&&c.checkRedirectUrlWhenCheckingIfIsCallback){let s=new URL(e),l=this.getRedirectUrl(c);if(!l)return this.loggerService.logError(c,"UrlService.isCallbackFromSts: could not get redirectUrl from config, was: ",l),!1;let r=new URL(l),i=this.getUrlWithoutQueryParameters(r).toString(),a=this.getUrlWithoutQueryParameters(s).toString(),f=this.queryParametersExist(r.searchParams,s.searchParams);if(i!==a||!f)return!1}return Ht.some(s=>!!this.getUrlParameter(e,s))}getRefreshSessionSilentRenewUrl(e,c){return this.flowHelper.isCurrentFlowCodeFlow(e)?this.createUrlCodeFlowWithSilentRenew(e,c):h(this.createUrlImplicitFlowWithSilentRenew(e,c))}getAuthorizeParUrl(e,c){let s=this.storagePersistenceService.read("authWellKnownEndPoints",c);if(!s)return this.loggerService.logError(c,"authWellKnownEndpoints is undefined"),null;let l=s.authorizationEndpoint;if(!l)return this.loggerService.logError(c,`Can not create an authorize URL when authorizationEndpoint is '${l}'`),null;let{clientId:r}=c;if(!r)return this.loggerService.logError(c,"getAuthorizeParUrl could not add clientId because it was: ",r),null;let i=l.split("?"),a=i[0],f=i[1],u=this.createHttpParams(f);return u=u.set("request_uri",e),u=u.append("client_id",r),`${a}?${u}`}getAuthorizeUrl(e,c){return e?this.flowHelper.isCurrentFlowCodeFlow(e)?this.createUrlCodeFlowAuthorize(e,c):h(this.createUrlImplicitFlowAuthorize(e,c)||""):h(null)}getEndSessionEndpoint(e){let s=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.endSessionEndpoint;if(!s)return{url:"",existingParams:""};let l=s.split("?"),r=l[0],i=l[1]??"";return{url:r,existingParams:i}}getEndSessionUrl(e,c){if(!e)return null;let s=this.storagePersistenceService.getIdToken(e),{customParamsEndSessionRequest:l}=e,r=z(z({},l),c);return this.createEndSessionUrl(s,e,r)}createRevocationEndpointBodyAccessToken(e,c){let s=this.getClientId(c);if(!s)return null;let l=this.createHttpParams();return l=l.set("client_id",s),l=l.set("token",e),l=l.set("token_type_hint","access_token"),l.toString()}createRevocationEndpointBodyRefreshToken(e,c){let s=this.getClientId(c);if(!s)return null;let l=this.createHttpParams();return l=l.set("client_id",s),l=l.set("token",e),l=l.set("token_type_hint","refresh_token"),l.toString()}getRevocationEndpointUrl(e){let s=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.revocationEndpoint;return s?s.split("?")[0]:null}createBodyForCodeFlowCodeRequest(e,c,s){let l=this.getClientId(c);if(!l)return null;let r=this.createHttpParams();if(r=r.set("grant_type","authorization_code"),r=r.set("client_id",l),!c.disablePkce){let f=this.flowsDataService.getCodeVerifier(c);if(!f)return this.loggerService.logError(c,"CodeVerifier is not set ",f),null;r=r.set("code_verifier",f)}r=r.set("code",e),s&&(r=this.appendCustomParams(z({},s),r));let i=this.getSilentRenewUrl(c);if(this.flowsDataService.isSilentRenewRunning(c)&&i)return r=r.set("redirect_uri",i),r.toString();let a=this.getRedirectUrl(c);return a?(r=r.set("redirect_uri",a),r.toString()):null}createBodyForCodeFlowRefreshTokensRequest(e,c,s){let l=this.getClientId(c);if(!l)return null;let r=this.createHttpParams();return r=r.set("grant_type","refresh_token"),r=r.set("client_id",l),r=r.set("refresh_token",e),s&&(r=this.appendCustomParams(z({},s),r)),r.toString()}createBodyForParCodeFlowRequest(e,c){let s=this.getRedirectUrl(e,c);if(!s)return h(null);let l=this.flowsDataService.getExistingOrCreateAuthStateControl(e),r=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+l);let i=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(i).pipe(L(a=>{let{clientId:f,responseType:u,scope:d,hdParam:p,customParamsAuthRequest:C}=e,M=this.createHttpParams("");return M=M.set("client_id",f??""),M=M.append("redirect_uri",s),M=M.append("response_type",u??""),M=M.append("scope",d??""),M=M.append("nonce",r),M=M.append("state",l),M=M.append("code_challenge",a),M=M.append("code_challenge_method","S256"),p&&(M=M.append("hd",p)),C&&(M=this.appendCustomParams(z({},C),M)),c?.customParams&&(M=this.appendCustomParams(z({},c.customParams),M)),M.toString()}))}getPostLogoutRedirectUrl(e){let{postLogoutRedirectUri:c}=e;return c||(this.loggerService.logError(e,"could not get postLogoutRedirectUri, was: ",c),null)}createEndSessionUrl(e,c,s){if(this.isAuth0Endpoint(c))return this.composeAuth0Endpoint(c);let{url:l,existingParams:r}=this.getEndSessionEndpoint(c);if(!l)return null;let i=this.createHttpParams(r);e&&(i=i.set("id_token_hint",e));let a=this.getPostLogoutRedirectUrl(c);return a&&(i=i.append("post_logout_redirect_uri",a)),s&&(i=this.appendCustomParams(z({},s),i)),`${l}?${i}`}createAuthorizeUrl(e,c,s,l,r,i,a){let u=this.storagePersistenceService.read("authWellKnownEndPoints",r)?.authorizationEndpoint;if(!u)return this.loggerService.logError(r,`Can not create an authorize URL when authorizationEndpoint is '${u}'`),"";let{clientId:d,responseType:p,scope:C,hdParam:M,customParamsAuthRequest:b}=r;if(!d)return this.loggerService.logError(r,"createAuthorizeUrl could not add clientId because it was: ",d),"";if(!p)return this.loggerService.logError(r,"createAuthorizeUrl could not add responseType because it was: ",p),"";if(!C)return this.loggerService.logError(r,"createAuthorizeUrl could not add scope because it was: ",C),"";let y=u.split("?"),T=y[0],U=y[1],v=this.createHttpParams(U);v=v.set("client_id",d),v=v.append("redirect_uri",c),v=v.append("response_type",p),v=v.append("scope",C),v=v.append("nonce",s),v=v.append("state",l),this.flowHelper.isCurrentFlowCodeFlow(r)&&(v=v.append("code_challenge",e),v=v.append("code_challenge_method","S256"));let Y=z(z({},b),a);return Object.keys(Y).length>0&&(v=this.appendCustomParams(z({},Y),v)),i&&(v=this.overWriteParam(v,"prompt",i)),M&&(v=v.append("hd",M)),`${T}?${v}`}createUrlImplicitFlowWithSilentRenew(e,c){let s=this.flowsDataService.getExistingOrCreateAuthStateControl(e),l=this.flowsDataService.createNonce(e),r=this.getSilentRenewUrl(e);return r?(this.loggerService.logDebug(e,"RefreshSession created. adding myautostate: ",s),this.storagePersistenceService.read("authWellKnownEndPoints",e)?this.createAuthorizeUrl("",r,l,s,e,"none",c):(this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),null)):null}createUrlCodeFlowWithSilentRenew(e,c){let s=this.flowsDataService.getExistingOrCreateAuthStateControl(e),l=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"RefreshSession created. adding myautostate: "+s);let r=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(r).pipe(L(i=>{let a=this.getSilentRenewUrl(e);return a?this.storagePersistenceService.read("authWellKnownEndPoints",e)?this.createAuthorizeUrl(i,a,l,s,e,"none",c):(this.loggerService.logWarning(e,"authWellKnownEndpoints is undefined"),""):""}))}createUrlImplicitFlowAuthorize(e,c){let s=this.flowsDataService.getExistingOrCreateAuthStateControl(e),l=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+s);let r=this.getRedirectUrl(e,c);if(!r)return null;if(this.storagePersistenceService.read("authWellKnownEndPoints",e)){let{customParams:a}=c||{};return this.createAuthorizeUrl("",r,l,s,e,"",a)}return this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),null}createUrlCodeFlowAuthorize(e,c){let s=this.flowsDataService.getExistingOrCreateAuthStateControl(e),l=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+s);let r=this.getRedirectUrl(e,c);return r?this.getCodeChallenge(e).pipe(L(i=>{if(this.storagePersistenceService.read("authWellKnownEndPoints",e)){let{customParams:f}=c||{};return this.createAuthorizeUrl(i,r,l,s,e,"",f)}return this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),""})):h(null)}getCodeChallenge(e){if(e.disablePkce)return h("");let c=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(c)}getRedirectUrl(e,c){let{redirectUrl:s}=e;return c?.redirectUrl&&(s=c.redirectUrl),s||(this.loggerService.logError(e,"could not get redirectUrl, was: ",s),null)}getSilentRenewUrl(e){let{silentRenewUrl:c}=e;return c||(this.loggerService.logError(e,"could not get silentRenewUrl, was: ",c),null)}getClientId(e){let{clientId:c}=e;return c||(this.loggerService.logError(e,"could not get clientId, was: ",c),null)}appendCustomParams(e,c){for(let[s,l]of Object.entries(z({},e)))c=c.append(s,l.toString());return c}overWriteParam(e,c,s){return e.set(c,s)}createHttpParams(e){return e=e??"",new c2({fromString:e,encoder:new b0})}isAuth0Endpoint(e){let{authority:c,useCustomAuth0Domain:s}=e;return c?c.endsWith(Wt)||!!s:!1}composeAuth0Endpoint(e){let{authority:c,clientId:s}=e,l=this.getPostLogoutRedirectUrl(e);return`${c}/v2/logout?client_id=${s}&returnTo=${l}`}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$t=(()=>{class t{constructor(){this.http=o(A4)}get(e,c){return this.http.get(e,c)}post(e,c,s){return this.http.post(e,c,s)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Vt="ngsw-bypass",B2=(()=>{class t{constructor(){this.httpClient=o($t)}get(e,c,s){let l=this.prepareHeaders(s),r=this.prepareParams(c);return this.httpClient.get(e,{headers:l,params:r})}post(e,c,s,l){let r=l||this.prepareHeaders(),i=this.prepareParams(s);return this.httpClient.post(e??"",c,{headers:r,params:i})}prepareHeaders(e){let c=new J;return c=c.set("Accept","application/json"),e&&(c=c.set("Authorization","Bearer "+decodeURIComponent(e))),c}prepareParams(e){let c=new c2,{ngswBypass:s}=e;return s&&(c=c.set(Vt,"")),c}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Me=t=>!!t&&t instanceof c1&&(t.error instanceof ProgressEvent&&t.error.type==="error"||t.status===0&&!!t.error),qt=(()=>{class t{constructor(){this.urlService=o(o2),this.loggerService=o(N),this.tokenValidationService=o(B3),this.flowsDataService=o(X),this.storagePersistenceService=o(B),this.dataService=o(B2)}codeFlowCallback(e,c){let s=this.urlService.getUrlParameter(e,"code"),l=this.urlService.getUrlParameter(e,"state"),r=this.urlService.getUrlParameter(e,"session_state");return l?s?(this.loggerService.logDebug(c,"running validation for callback",e),h({code:s,refreshToken:"",state:l,sessionState:r,authResult:null,isRenewProcess:!1,jwtKeys:null,validationResult:null,existingIdToken:null})):(this.loggerService.logDebug(c,"no code in url"),S(()=>new Error("no code in url"))):(this.loggerService.logDebug(c,"no state in url"),S(()=>new Error("no state in url")))}codeFlowCodeRequest(e,c){let s=this.flowsDataService.getAuthStateControl(c);if(!this.tokenValidationService.validateStateFromHashCallback(e.state,s,c))return S(()=>new Error("codeFlowCodeRequest incorrect state"));let i=this.storagePersistenceService.read("authWellKnownEndPoints",c)?.tokenEndpoint;if(!i)return S(()=>new Error("Token Endpoint not defined"));let a=new J;a=a.set("Content-Type","application/x-www-form-urlencoded");let f=this.urlService.createBodyForCodeFlowCodeRequest(e.code,c,c?.customParamsCodeRequest);return this.dataService.post(i,f,c,a).pipe(A(u=>{if(u){let d=H(z({},u),{state:e.state,session_state:e.sessionState});e.authResult=d}return h(e)}),l3(u=>this.handleRefreshRetry(u,c)),F(u=>{let{authority:d}=c,p=`OidcService code request ${d}`;return this.loggerService.logError(c,p,u),S(()=>new Error(p))}))}handleRefreshRetry(e,c){return e.pipe(W(s=>{if(Me(s)){let{authority:l,refreshTokenRetryInSeconds:r}=c,i=`OidcService code request ${l} - no internet connection`;return this.loggerService.logWarning(c,i,s),n3((r??0)*1e3)}return S(()=>s)}))}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_=function(t){return t.NotSet="NotSet",t.StatesDoNotMatch="StatesDoNotMatch",t.SignatureFailed="SignatureFailed",t.IncorrectNonce="IncorrectNonce",t.RequiredPropertyMissing="RequiredPropertyMissing",t.MaxOffsetExpired="MaxOffsetExpired",t.IssDoesNotMatchIssuer="IssDoesNotMatchIssuer",t.NoAuthWellKnownEndPoints="NoAuthWellKnownEndPoints",t.IncorrectAud="IncorrectAud",t.IncorrectIdTokenClaimsAfterRefresh="IncorrectIdTokenClaimsAfterRefresh",t.IncorrectAzp="IncorrectAzp",t.TokenExpired="TokenExpired",t.IncorrectAtHash="IncorrectAtHash",t.Ok="Ok",t.LoginRequired="LoginRequired",t.SecureTokenServerError="SecureTokenServerError",t}(_||{}),Gt={userData:null,allUserData:[]},d1=(()=>{class t{constructor(){this.userDataInternal$=new q(Gt),this.loggerService=o(N),this.tokenHelperService=o(_3),this.flowHelper=o(x2),this.oidcDataService=o(B2),this.storagePersistenceService=o(B),this.eventService=o(_2)}get userData$(){return this.userDataInternal$.asObservable()}getAndPersistUserDataInStore(e,c,s=!1,l,r){l=l||this.storagePersistenceService.getIdToken(e),r=r||this.tokenHelperService.getPayloadFromToken(l,!1,e);let i=this.getUserDataFromStore(e),a=!!i,f=this.flowHelper.isCurrentFlowImplicitFlowWithAccessToken(e),u=this.flowHelper.isCurrentFlowCodeFlow(e),d=this.storagePersistenceService.getAccessToken(e);if(!(f||u))return this.loggerService.logDebug(e,`authCallback idToken flow with accessToken ${d}`),this.setUserDataToStore(r,e,c),h(r);let{renewUserInfoAfterTokenRenew:p}=e;return!s||p||!a?this.getUserDataOidcFlowAndSave(r.sub,e,c).pipe(A(C=>(this.loggerService.logDebug(e,"Received user data: ",C),C?(this.loggerService.logDebug(e,"accessToken: ",d),h(C)):S(()=>new Error("Received no user data, request failed"))))):h(i)}getUserDataFromStore(e){return e?this.storagePersistenceService.read("userData",e)||null:S(()=>new Error("Please provide a configuration before setting up the module"))}publishUserDataIfExists(e,c){let s=this.getUserDataFromStore(e);s&&this.fireUserDataEvent(e,c,s)}setUserDataToStore(e,c,s){this.storagePersistenceService.write("userData",e,c),this.fireUserDataEvent(c,s,e)}resetUserDataInStore(e,c){this.storagePersistenceService.remove("userData",e),this.fireUserDataEvent(e,c,null)}getUserDataOidcFlowAndSave(e,c,s){return this.getIdentityUserData(c).pipe(L(l=>this.validateUserDataSubIdToken(c,e,l?.sub)?(this.setUserDataToStore(l,c,s),l):(this.loggerService.logWarning(c,"User data sub does not match sub in id_token, resetting"),this.resetUserDataInStore(c,s),null)))}getIdentityUserData(e){let c=this.storagePersistenceService.getAccessToken(e),s=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!s)return this.loggerService.logWarning(e,"init check session: authWellKnownEndpoints is undefined"),S(()=>new Error("authWellKnownEndpoints is undefined"));let l=s.userInfoEndpoint;return l?this.oidcDataService.get(l,e,c).pipe(q2(2)):(this.loggerService.logError(e,"init check session: authWellKnownEndpoints.userinfo_endpoint is undefined; set auto_userinfo = false in config"),S(()=>new Error("authWellKnownEndpoints.userinfo_endpoint is undefined")))}validateUserDataSubIdToken(e,c,s){return!c||!s?!1:c.toString()!==s.toString()?(this.loggerService.logDebug(e,"validateUserDataSubIdToken failed",c,s),!1):!0}fireUserDataEvent(e,c,s){let l=this.composeSingleOrMultipleUserDataObject(e,c,s);this.userDataInternal$.next(l);let{configId:r}=e;this.eventService.fireEvent(K.UserDataChanged,{configId:r,userData:s})}composeSingleOrMultipleUserDataObject(e,c,s){if(!(c.length>1)){let{configId:i}=e;return this.composeSingleUserDataResult(i??"",s)}return{userData:null,allUserData:c.map(i=>{let a=e.configId??"",f=i.configId??"";if(this.currentConfigIsToUpdate(a,i))return{configId:f,userData:s};let u=this.storagePersistenceService.read("userData",i)||null;return{configId:f,userData:u}})}}composeSingleUserDataResult(e,c){return{userData:c,allUserData:[{configId:e,userData:c}]}}currentConfigIsToUpdate(e,c){return c.configId===e}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),N2=(()=>{class t{constructor(){this.loggerService=o(N),this.userService=o(d1),this.flowsDataService=o(X),this.authStateService=o(s2)}resetAuthorizationData(e,c){e&&(this.userService.resetUserDataInStore(e,c),this.flowsDataService.resetStorageFlowData(e),this.authStateService.setUnauthenticatedAndFireEvent(e,c),this.loggerService.logDebug(e,"Local Login information cleaned up and event fired"))}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Kt=(()=>{class t{constructor(){this.loggerService=o(N),this.storagePersistenceService=o(B),this.dataService=o(B2)}getSigningKeys(e){let s=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.jwksUri;if(!s){let l=`getSigningKeys: authWellKnownEndpoints.jwksUri is: '${s}'`;return this.loggerService.logWarning(e,l),S(()=>new Error(l))}return this.loggerService.logDebug(e,"Getting signinkeys from ",s),this.dataService.get(s,e).pipe(q2(2),F(l=>this.handleErrorGetSigningKeys(l,e)))}handleErrorGetSigningKeys(e,c){let s="";if(e instanceof e1){let l=e.body||{},r=JSON.stringify(l),{status:i,statusText:a}=e;s=`${i||""} - ${a||""} ${r||""}`}else{let{message:l}=e;s=l||`${e}`}return this.loggerService.logError(c,s),S(()=>new Error(s))}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ue="jwtKeys",Xt=(()=>{class t{constructor(){this.loggerService=o(N),this.authStateService=o(s2),this.flowsDataService=o(X),this.signInKeyDataService=o(Kt),this.storagePersistenceService=o(B),this.resetAuthDataService=o(N2),this.document=o(P)}callbackHistoryAndResetJwtKeys(e,c,s){let l=z({},e.authResult);if(!this.responseHasIdToken(e)){let r=this.storagePersistenceService.getIdToken(c);l=H(z({},l),{id_token:r})}if(this.storagePersistenceService.write("authnResult",l,c),c.allowUnsafeReuseRefreshToken&&e.authResult?.refresh_token&&this.storagePersistenceService.write("reusable_refresh_token",e.authResult.refresh_token,c),this.historyCleanUpTurnedOn(c)&&!e.isRenewProcess?this.resetBrowserHistory():this.loggerService.logDebug(c,"history clean up inactive"),e.authResult?.error){let r=`AuthCallback AuthResult came with error: ${e.authResult.error}`;return this.loggerService.logDebug(c,r),this.resetAuthDataService.resetAuthorizationData(c,s),this.flowsDataService.setNonce("",c),this.handleResultErrorFromCallback(e.authResult,e.isRenewProcess),S(()=>new Error(r))}return this.loggerService.logDebug(c,`AuthResult '${JSON.stringify(e.authResult,null,2)}'.
      AuthCallback created, begin token validation`),this.signInKeyDataService.getSigningKeys(c).pipe(D(r=>this.storeSigningKeys(r,c)),F(r=>{let i=this.readSigningKeys(c);return i?(this.loggerService.logWarning(c,"Failed to retrieve signing keys, fallback to stored keys"),h(i)):S(()=>new Error(r))}),A(r=>{if(r)return e.jwtKeys=r,h(e);let i="Failed to retrieve signing key";return this.loggerService.logWarning(c,i),S(()=>new Error(i))}),F(r=>{let i=`Failed to retrieve signing key with error: ${r}`;return this.loggerService.logWarning(c,i),S(()=>new Error(i))}))}responseHasIdToken(e){return!!e?.authResult?.id_token}handleResultErrorFromCallback(e,c){let s=_.SecureTokenServerError;e&&typeof e=="object"&&"error"in e&&e.error==="login_required"&&(s=_.LoginRequired),this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:s,isRenewProcess:c})}historyCleanUpTurnedOn(e){let{historyCleanupOff:c}=e;return!c}resetBrowserHistory(){this.document.defaultView?.history.replaceState({},this.document.title,this.document.defaultView.location.origin+this.document.defaultView.location.pathname)}storeSigningKeys(e,c){this.storagePersistenceService.write(ue,e,c)}readSigningKeys(e){return this.storagePersistenceService.read(ue,e)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Yt=(()=>{class t{constructor(){this.loggerService=o(N),this.resetAuthDataService=o(N2),this.flowsDataService=o(X),this.document=o(P)}implicitFlowCallback(e,c,s){let l=this.flowsDataService.isSilentRenewRunning(e);this.loggerService.logDebug(e,"BEGIN callback, no auth data"),l||this.resetAuthDataService.resetAuthorizationData(e,c),s=s||this.document.location.hash.substring(1);let i={code:"",refreshToken:"",state:"",sessionState:null,authResult:s.split("&").reduce((a,f)=>{let u=f.split("=");return a[u.shift()]=u.join("="),a},{}),isRenewProcess:l,jwtKeys:null,validationResult:null,existingIdToken:null};return h(i)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Jt=(()=>{class t{constructor(){this.loggerService=o(N),this.authStateService=o(s2),this.flowsDataService=o(X)}refreshSessionWithRefreshTokens(e){let c=this.flowsDataService.getExistingOrCreateAuthStateControl(e);this.loggerService.logDebug(e,"RefreshSession created. Adding myautostate: "+c);let s=this.authStateService.getRefreshToken(e),l=this.authStateService.getIdToken(e);if(s){let r={code:"",refreshToken:s,state:c,sessionState:null,authResult:null,isRenewProcess:!0,jwtKeys:null,validationResult:null,existingIdToken:l};return this.loggerService.logDebug(e,"found refresh code, obtaining new credentials with refresh code"),this.flowsDataService.setNonce(B3.refreshTokenNoncePlaceholder,e),h(r)}else{let r="no refresh token found, please login";return this.loggerService.logError(e,r),S(()=>new Error(r))}}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Qt=(()=>{class t{constructor(){this.urlService=o(o2),this.loggerService=o(N),this.dataService=o(B2),this.storagePersistenceService=o(B)}refreshTokensRequestTokens(e,c,s){let l=new J;l=l.set("Content-Type","application/x-www-form-urlencoded");let i=this.storagePersistenceService.read("authWellKnownEndPoints",c)?.tokenEndpoint;if(!i)return S(()=>new Error("Token Endpoint not defined"));let a=this.urlService.createBodyForCodeFlowRefreshTokensRequest(e.refreshToken,c,s);return this.dataService.post(i,a,c,l).pipe(A(f=>(this.loggerService.logDebug(c,`token refresh response: ${f}`),f&&(f.state=e.state),e.authResult=f,h(e))),l3(f=>this.handleRefreshRetry(f,c)),F(f=>{let{authority:u}=c,d=`OidcService code request ${u}`;return this.loggerService.logError(c,d,f),S(()=>new Error(d))}))}handleRefreshRetry(e,c){return e.pipe(W(s=>{if(Me(s)){let{authority:l,refreshTokenRetryInSeconds:r}=c,i=`OidcService code request ${l} - no internet connection`;return this.loggerService.logWarning(c,i,s),n3((r??0)*1e3)}return S(()=>s)}))}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Zt=(()=>{class t{isStringEqualOrNonOrderedArrayEqual(e,c){return this.isNullOrUndefined(e)||this.isNullOrUndefined(c)||this.oneValueIsStringAndTheOtherIsArray(e,c)?!1:this.bothValuesAreStrings(e,c)?e===c:this.arraysHaveEqualContent(e,c)}areEqual(e,c){if(!e||!c)return!1;if(this.bothValuesAreArrays(e,c))return this.arraysStrictEqual(e,c);if(this.bothValuesAreStrings(e,c))return e===c;if(this.bothValuesAreObjects(e,c))return JSON.stringify(e).toLowerCase()===JSON.stringify(c).toLowerCase();if(this.oneValueIsStringAndTheOtherIsArray(e,c)){if(Array.isArray(e)&&this.valueIsString(c))return e[0]===c;if(Array.isArray(c)&&this.valueIsString(e))return c[0]===e}return e===c}oneValueIsStringAndTheOtherIsArray(e,c){return Array.isArray(e)&&this.valueIsString(c)||Array.isArray(c)&&this.valueIsString(e)}bothValuesAreObjects(e,c){return this.valueIsObject(e)&&this.valueIsObject(c)}bothValuesAreStrings(e,c){return this.valueIsString(e)&&this.valueIsString(c)}bothValuesAreArrays(e,c){return Array.isArray(e)&&Array.isArray(c)}valueIsString(e){return typeof e=="string"||e instanceof String}valueIsObject(e){return typeof e=="object"}arraysStrictEqual(e,c){if(e.length!==c.length)return!1;for(let s=e.length;s--;)if(e[s]!==c[s])return!1;return!0}arraysHaveEqualContent(e,c){return e.length!==c.length?!1:e.some(s=>c.includes(s))}isNullOrUndefined(e){return e==null}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),j3=class{constructor(n="",e="",c=!1,s={at_hash:""},l=_.NotSet){this.accessToken=n,this.idToken=e,this.authResponseIsValid=c,this.decodedIdToken=s,this.state=l}},es=(()=>{class t{constructor(){this.storagePersistenceService=o(B),this.tokenValidationService=o(B3),this.tokenHelperService=o(_3),this.loggerService=o(N),this.equalityService=o(Zt),this.flowHelper=o(x2)}getValidatedStateResult(e,c){let s=!!e.authResult?.error;return!!!e||s?h(new j3("","",!1,{})):this.validateState(e,c)}validateState(e,c){let s=new j3,l=this.storagePersistenceService.read("authStateControl",c);if(!this.tokenValidationService.validateStateFromHashCallback(e.authResult?.state,l,c))return this.loggerService.logWarning(c,"authCallback incorrect state"),s.state=_.StatesDoNotMatch,this.handleUnsuccessfulValidation(c),h(s);let r=this.flowHelper.isCurrentFlowImplicitFlowWithAccessToken(c),i=this.flowHelper.isCurrentFlowCodeFlow(c);if((r||i)&&(s.accessToken=e.authResult?.access_token??""),c.disableIdTokenValidation)return s.state=_.Ok,s.authResponseIsValid=!0,h(s);let f=e.isRenewProcess&&!!e.refreshToken,u=!!e.authResult?.id_token;if(f&&!u)return s.state=_.Ok,s.authResponseIsValid=!0,h(s);if(u){let{clientId:d,issValidationOff:p,maxIdTokenIatOffsetAllowedInSeconds:C,disableIatOffsetValidation:M,ignoreNonceAfterRefresh:b,renewTimeBeforeTokenExpiresInSeconds:y}=c;return s.idToken=e.authResult?.id_token??"",s.decodedIdToken=this.tokenHelperService.getPayloadFromToken(s.idToken,!1,c),this.tokenValidationService.validateSignatureIdToken(s.idToken,e.jwtKeys,c).pipe(W(T=>{if(!T)return this.loggerService.logDebug(c,"authCallback Signature validation failed id_token"),s.state=_.SignatureFailed,this.handleUnsuccessfulValidation(c),h(s);let U=this.storagePersistenceService.read("authNonce",c);if(!this.tokenValidationService.validateIdTokenNonce(s.decodedIdToken,U,!!b,c))return this.loggerService.logWarning(c,"authCallback incorrect nonce, did you call the checkAuth() method multiple times?"),s.state=_.IncorrectNonce,this.handleUnsuccessfulValidation(c),h(s);if(!this.tokenValidationService.validateRequiredIdToken(s.decodedIdToken,c))return this.loggerService.logDebug(c,"authCallback Validation, one of the REQUIRED properties missing from id_token"),s.state=_.RequiredPropertyMissing,this.handleUnsuccessfulValidation(c),h(s);if(!f&&!this.tokenValidationService.validateIdTokenIatMaxOffset(s.decodedIdToken,C??120,!!M,c))return this.loggerService.logWarning(c,"authCallback Validation, iat rejected id_token was issued too far away from the current time"),s.state=_.MaxOffsetExpired,this.handleUnsuccessfulValidation(c),h(s);let v=this.storagePersistenceService.read("authWellKnownEndPoints",c);if(v){if(p)this.loggerService.logDebug(c,"iss validation is turned off, this is not recommended!");else if(!p&&!this.tokenValidationService.validateIdTokenIss(s.decodedIdToken,v.issuer,c))return this.loggerService.logWarning(c,"authCallback incorrect iss does not match authWellKnownEndpoints issuer"),s.state=_.IssDoesNotMatchIssuer,this.handleUnsuccessfulValidation(c),h(s)}else return this.loggerService.logWarning(c,"authWellKnownEndpoints is undefined"),s.state=_.NoAuthWellKnownEndPoints,this.handleUnsuccessfulValidation(c),h(s);return this.tokenValidationService.validateIdTokenAud(s.decodedIdToken,d,c)?this.tokenValidationService.validateIdTokenAzpExistsIfMoreThanOneAud(s.decodedIdToken)?this.tokenValidationService.validateIdTokenAzpValid(s.decodedIdToken,d)?this.isIdTokenAfterRefreshTokenRequestValid(e,s.decodedIdToken,c)?!f&&!this.tokenValidationService.validateIdTokenExpNotExpired(s.decodedIdToken,c,y)?(this.loggerService.logWarning(c,"authCallback id token expired"),s.state=_.TokenExpired,this.handleUnsuccessfulValidation(c),h(s)):this.validateDefault(r,i,s,c,e):(this.loggerService.logWarning(c,"authCallback pre, post id_token claims do not match in refresh"),s.state=_.IncorrectIdTokenClaimsAfterRefresh,this.handleUnsuccessfulValidation(c),h(s)):(this.loggerService.logWarning(c,"authCallback incorrect azp"),s.state=_.IncorrectAzp,this.handleUnsuccessfulValidation(c),h(s)):(this.loggerService.logWarning(c,"authCallback missing azp"),s.state=_.IncorrectAzp,this.handleUnsuccessfulValidation(c),h(s)):(this.loggerService.logWarning(c,"authCallback incorrect aud"),s.state=_.IncorrectAud,this.handleUnsuccessfulValidation(c),h(s))}))}else this.loggerService.logDebug(c,"No id_token found, skipping id_token validation");return this.validateDefault(r,i,s,c,e)}validateDefault(e,c,s,l,r){if(!e&&!c)return s.authResponseIsValid=!0,s.state=_.Ok,this.handleSuccessfulValidation(l),this.handleUnsuccessfulValidation(l),h(s);if(r.authResult?.id_token){let i=this.tokenHelperService.getHeaderFromToken(s.idToken,!1,l);if(c&&!s.decodedIdToken.at_hash)this.loggerService.logDebug(l,"Code Flow active, and no at_hash in the id_token, skipping check!");else return this.tokenValidationService.validateIdTokenAtHash(s.accessToken,s.decodedIdToken.at_hash,i.alg,l).pipe(L(a=>!a||!s.accessToken?(this.loggerService.logWarning(l,"authCallback incorrect at_hash"),s.state=_.IncorrectAtHash,this.handleUnsuccessfulValidation(l),s):(s.authResponseIsValid=!0,s.state=_.Ok,this.handleSuccessfulValidation(l),s)))}return s.authResponseIsValid=!0,s.state=_.Ok,this.handleSuccessfulValidation(l),h(s)}isIdTokenAfterRefreshTokenRequestValid(e,c,s){let{useRefreshToken:l,disableRefreshIdTokenAuthTimeValidation:r}=s;if(!l||!e.existingIdToken)return!0;let i=this.tokenHelperService.getPayloadFromToken(e.existingIdToken,!1,s);return i.iss!==c.iss?(this.loggerService.logDebug(s,`iss do not match: ${i.iss} ${c.iss}`),!1):i.azp!==c.azp?(this.loggerService.logDebug(s,`azp do not match: ${i.azp} ${c.azp}`),!1):i.sub!==c.sub?(this.loggerService.logDebug(s,`sub do not match: ${i.sub} ${c.sub}`),!1):this.equalityService.isStringEqualOrNonOrderedArrayEqual(i?.aud,c?.aud)?r?!0:i.auth_time!==c.auth_time?(this.loggerService.logDebug(s,`auth_time do not match: ${i.auth_time} ${c.auth_time}`),!1):!0:(this.loggerService.logDebug(s,`aud in new id_token is not valid: '${i?.aud}' '${c.aud}'`),!1)}handleSuccessfulValidation(e){let{autoCleanStateAfterAuthentication:c}=e;this.storagePersistenceService.write("authNonce",null,e),c&&this.storagePersistenceService.write("authStateControl","",e),this.loggerService.logDebug(e,"authCallback token(s) validated, continue")}handleUnsuccessfulValidation(e){let{autoCleanStateAfterAuthentication:c}=e;this.storagePersistenceService.write("authNonce",null,e),c&&this.storagePersistenceService.write("authStateControl","",e),this.loggerService.logDebug(e,"authCallback token(s) invalid")}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),cs=(()=>{class t{constructor(){this.loggerService=o(N),this.stateValidationService=o(es),this.authStateService=o(s2),this.resetAuthDataService=o(N2),this.document=o(P)}callbackStateValidation(e,c,s){return this.stateValidationService.getValidatedStateResult(e,c).pipe(L(l=>{if(e.validationResult=l,l.authResponseIsValid)return this.authStateService.setAuthorizationData(l.accessToken,e.authResult,c,s),e;{let r=`authorizedCallback, token(s) validation failed, resetting. Hash: ${this.document.location.hash}`;throw this.loggerService.logWarning(c,r),this.resetAuthDataService.resetAuthorizationData(c,s),this.publishUnauthorizedState(e.validationResult,e.isRenewProcess),new Error(r)}}))}publishUnauthorizedState(e,c){this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:e.state,isRenewProcess:c})}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ts=(()=>{class t{constructor(){this.loggerService=o(N),this.authStateService=o(s2),this.flowsDataService=o(X),this.userService=o(d1),this.resetAuthDataService=o(N2)}callbackUser(e,c,s){let{isRenewProcess:l,validationResult:r,authResult:i,refreshToken:a}=e,{autoUserInfo:f,renewUserInfoAfterTokenRenew:u}=c;return f?this.userService.getAndPersistUserDataInStore(c,s,l,r?.idToken,r?.decodedIdToken).pipe(A(d=>{if(d)return a||this.flowsDataService.setSessionState(i?.session_state,c),this.publishAuthState(r,l),h(e);{this.resetAuthDataService.resetAuthorizationData(c,s),this.publishUnauthenticatedState(r,l);let p=`Called for userData but they were ${d}`;return this.loggerService.logWarning(c,p),S(()=>new Error(p))}}),F(d=>{let p=`Failed to retrieve user info with error:  ${d}`;return this.loggerService.logWarning(c,p),S(()=>new Error(p))})):((!l||u)&&r?.decodedIdToken&&this.userService.setUserDataToStore(r.decodedIdToken,c,s),!l&&!a&&this.flowsDataService.setSessionState(i?.session_state,c),this.publishAuthState(r,l),h(e))}publishAuthState(e,c){e&&this.authStateService.updateAndPublishAuthState({isAuthenticated:!0,validationResult:e.state,isRenewProcess:c})}publishUnauthenticatedState(e,c){e&&this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:e.state,isRenewProcess:c})}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),H3=(()=>{class t{constructor(){this.codeFlowCallbackHandlerService=o(qt),this.implicitFlowCallbackHandlerService=o(Yt),this.historyJwtKeysCallbackHandlerService=o(Xt),this.userHandlerService=o(ts),this.stateValidationCallbackHandlerService=o(cs),this.refreshSessionCallbackHandlerService=o(Jt),this.refreshTokenCallbackHandlerService=o(Qt)}processCodeFlowCallback(e,c,s){return this.codeFlowCallbackHandlerService.codeFlowCallback(e,c).pipe(k(l=>this.codeFlowCallbackHandlerService.codeFlowCodeRequest(l,c)),k(l=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(l,c,s)),k(l=>this.stateValidationCallbackHandlerService.callbackStateValidation(l,c,s)),k(l=>this.userHandlerService.callbackUser(l,c,s)))}processSilentRenewCodeFlowCallback(e,c,s){return this.codeFlowCallbackHandlerService.codeFlowCodeRequest(e,c).pipe(k(l=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(l,c,s)),k(l=>this.stateValidationCallbackHandlerService.callbackStateValidation(l,c,s)),k(l=>this.userHandlerService.callbackUser(l,c,s)))}processImplicitFlowCallback(e,c,s){return this.implicitFlowCallbackHandlerService.implicitFlowCallback(e,c,s).pipe(k(l=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(l,e,c)),k(l=>this.stateValidationCallbackHandlerService.callbackStateValidation(l,e,c)),k(l=>this.userHandlerService.callbackUser(l,e,c)))}processRefreshToken(e,c,s){return this.refreshSessionCallbackHandlerService.refreshSessionWithRefreshTokens(e).pipe(k(l=>this.refreshTokenCallbackHandlerService.refreshTokensRequestTokens(l,e,s)),k(l=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(l,e,c)),k(l=>this.stateValidationCallbackHandlerService.callbackStateValidation(l,e,c)),k(l=>this.userHandlerService.callbackUser(l,e,c)))}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Y1=(()=>{class t{constructor(){this.zone=o(h2),this.document=o(P),this.runTokenValidationRunning=null}isTokenValidationRunning(){return!!this.runTokenValidationRunning}stopPeriodicTokenCheck(){this.runTokenValidationRunning&&(this.runTokenValidationRunning.unsubscribe(),this.runTokenValidationRunning=null)}startPeriodicTokenCheck(e){let c=e*1e3;return new T2(s=>{let l;return this.zone.runOutsideAngular(()=>{l=this.document?.defaultView?.setInterval(()=>this.zone.run(()=>s.next()),c)}),()=>{clearInterval(l)}})}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ss=(()=>{class t{constructor(){this.flowsService=o(H3),this.router=o(j2),this.flowsDataService=o(X),this.intervalService=o(Y1)}authenticatedCallbackWithCode(e,c,s){let l=this.flowsDataService.isSilentRenewRunning(c),{triggerAuthorizationResultEvent:r}=c,i=c.postLoginRoute||"/",a=c.unauthorizedRoute||"/";return this.flowsService.processCodeFlowCallback(e,c,s).pipe(D(f=>{this.flowsDataService.resetCodeFlowInProgress(c),!r&&!f.isRenewProcess&&this.router.navigateByUrl(i)}),F(f=>(this.flowsDataService.resetSilentRenewRunning(c),this.flowsDataService.resetCodeFlowInProgress(c),this.intervalService.stopPeriodicTokenCheck(),!r&&!l&&this.router.navigateByUrl(a),S(()=>new Error(f)))))}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ce=(()=>{class t{constructor(){this.flowsService=o(H3),this.router=o(j2),this.flowsDataService=o(X),this.intervalService=o(Y1)}authenticatedImplicitFlowCallback(e,c,s){let l=this.flowsDataService.isSilentRenewRunning(e),r=!!e.triggerAuthorizationResultEvent,i=e.postLoginRoute??"",a=e.unauthorizedRoute??"";return this.flowsService.processImplicitFlowCallback(e,c,s).pipe(D(f=>{!r&&!f.isRenewProcess&&this.router.navigateByUrl(i)}),F(f=>(this.flowsDataService.resetSilentRenewRunning(e),this.intervalService.stopPeriodicTokenCheck(),!r&&!l&&this.router.navigateByUrl(a),S(()=>new Error(f)))))}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ve=(()=>{class t{constructor(){this.urlService=o(o2),this.flowHelper=o(x2),this.implicitFlowCallbackService=o(Ce),this.codeFlowCallbackService=o(ss),this.stsCallbackInternal$=new n2}get stsCallback$(){return this.stsCallbackInternal$.asObservable()}isCallback(e,c){return e?this.urlService.isCallbackFromSts(e,c):!1}handleCallbackAndFireEvents(e,c,s){let l=new T2;if(this.flowHelper.isCurrentFlowCodeFlow(c))l=this.codeFlowCallbackService.authenticatedCallbackWithCode(e,c,s);else if(this.flowHelper.isCurrentFlowAnyImplicitFlow(c))if(e?.includes("#")){let r=e.substring(e.indexOf("#")+1);l=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(c,s,r)}else l=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(c,s);return l.pipe(D(()=>this.stsCallbackInternal$.next()))}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ns=(()=>{class t{constructor(){this.platformId=o(y2)}isBrowser(){return c8(this.platformId)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ls="/.well-known/openid-configuration",rs=(()=>{class t{constructor(){this.loggerService=o(N),this.http=o(B2)}getWellKnownEndPointsForConfig(e){let{authWellknownEndpointUrl:c,authWellknownEndpoints:s={}}=e;if(!c){let l="no authWellknownEndpoint given!";return this.loggerService.logError(e,l),S(()=>new Error(l))}return this.getWellKnownDocument(c,e).pipe(L(l=>({issuer:l.issuer,jwksUri:l.jwks_uri,authorizationEndpoint:l.authorization_endpoint,tokenEndpoint:l.token_endpoint,userInfoEndpoint:l.userinfo_endpoint,endSessionEndpoint:l.end_session_endpoint,checkSessionIframe:l.check_session_iframe,revocationEndpoint:l.revocation_endpoint,introspectionEndpoint:l.introspection_endpoint,parEndpoint:l.pushed_authorization_request_endpoint})),L(l=>z(z({},l),s)))}getWellKnownDocument(e,c){let s=e,l=c.authWellknownUrlSuffix||ls;return e.includes(l)||(s=`${e}${l}`),this.http.get(s,c).pipe(q2(2))}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),h1=(()=>{class t{constructor(){this.dataService=o(rs),this.publicEventsService=o(_2),this.storagePersistenceService=o(B)}storeWellKnownEndpoints(e,c){this.storagePersistenceService.write("authWellKnownEndPoints",c,e)}queryAndStoreAuthWellKnownEndPoints(e){return e?this.dataService.getWellKnownEndPointsForConfig(e).pipe(D(c=>this.storeWellKnownEndpoints(e,c)),F(c=>(this.publicEventsService.fireEvent(K.ConfigLoadingFailed,null),S(()=>new Error(c))))):S(()=>new Error("Please provide a configuration before setting up the module"))}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),is={authority:"https://please_set",authWellknownEndpointUrl:"",authWellknownEndpoints:void 0,redirectUrl:"https://please_set",checkRedirectUrlWhenCheckingIfIsCallback:!0,clientId:"please_set",responseType:"code",scope:"openid email profile",hdParam:"",postLogoutRedirectUri:"https://please_set",startCheckSession:!1,silentRenew:!1,silentRenewUrl:"https://please_set",silentRenewTimeoutInSeconds:20,renewTimeBeforeTokenExpiresInSeconds:0,useRefreshToken:!1,usePushedAuthorisationRequests:!1,ignoreNonceAfterRefresh:!1,postLoginRoute:"/",forbiddenRoute:"/forbidden",unauthorizedRoute:"/unauthorized",autoUserInfo:!0,autoCleanStateAfterAuthentication:!0,triggerAuthorizationResultEvent:!1,logLevel:X1.Warn,issValidationOff:!1,historyCleanupOff:!1,maxIdTokenIatOffsetAllowedInSeconds:120,disableIatOffsetValidation:!1,customParamsAuthRequest:{},customParamsRefreshTokenRequest:{},customParamsEndSessionRequest:{},customParamsCodeRequest:{},disableRefreshIdTokenAuthTimeValidation:!1,triggerRefreshWhenIdTokenExpired:!0,tokenRefreshInSeconds:4,refreshTokenRetryInSeconds:3,ngswBypass:!1},p1={result:!0,messages:[],level:"none"},as=t=>t.authority?p1:{result:!1,messages:["The authority URL MUST be provided in the configuration! "],level:"error"},os=t=>t.clientId?p1:{result:!1,messages:["The clientId is required and missing from your config!"],level:"error"},fs=t=>{if(!t)return"";let{authority:n,clientId:e,scope:c}=t;return`${n}${e}${c}`},us=t=>new Set(t).size!==t.length,ds=t=>{let n=t.map(s=>fs(s));return n.some(s=>s==="")?{result:!1,messages:["Please make sure you add an object with a 'config' property: ....({ config }) instead of ...(config)"],level:"error"}:us(n)?{result:!1,messages:["You added multiple configs with the same authority, clientId and scope"],level:"warning"}:p1},hs=t=>t.redirectUrl?p1:{result:!1,messages:["The redirectUrl is required and missing from your config"],level:"error"},ps=t=>{let n=t.silentRenew,e=t.useRefreshToken,c=t.silentRenewUrl;return n&&!e&&!c?{result:!1,messages:["Please provide a silent renew URL if using renew and not refresh tokens"],level:"error"}:p1},ms=t=>{let n=t.useRefreshToken,e=t.silentRenew,s=(t.scope||"").split(" ").includes("offline_access");return n&&e&&!s?{result:!1,messages:["When using silent renew and refresh tokens please set the `offline_access` scope"],level:"warning"}:p1},gs=[as,ms,hs,os,ps],zs=[ds],Ls=(()=>{class t{constructor(){this.loggerService=o(N)}validateConfigs(e){return this.validateConfigsInternal(e??[],zs)}validateConfig(e){return this.validateConfigInternal(e,gs)}validateConfigsInternal(e,c){if(e.length===0)return!1;let s=c.map(r=>r(e)),l=0;return e.forEach(r=>{let i=this.processValidationResultsAndGetErrorCount(s,r);l+=i}),l===0}validateConfigInternal(e,c){let s=c.map(r=>r(e));return this.processValidationResultsAndGetErrorCount(s,e)===0}processValidationResultsAndGetErrorCount(e,c){let s=e.filter(i=>i.messages.length>0),l=this.getAllMessagesOfType("error",s),r=this.getAllMessagesOfType("warning",s);return l.forEach(i=>this.loggerService.logError(c,i)),r.forEach(i=>this.loggerService.logWarning(c,i)),l.length}getAllMessagesOfType(e,c){return c.filter(l=>l.level===e).map(l=>l.messages).reduce((l,r)=>l.concat(r),[])}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),W3=(()=>{class t{constructor(){this.loggerService=o(N),this.publicEventsService=o(_2),this.storagePersistenceService=o(B),this.platformProvider=o(ns),this.authWellKnownService=o(h1),this.loader=o(U3),this.configValidationService=o(Ls),this.configsInternal={}}hasManyConfigs(){return Object.keys(this.configsInternal).length>1}getAllConfigurations(){return Object.values(this.configsInternal)}getOpenIDConfiguration(e){return this.configsAlreadySaved()?h(this.getConfig(e)):this.getOpenIDConfigurations(e).pipe(L(c=>c.currentConfig))}getOpenIDConfigurations(e){return this.loadConfigs().pipe(k(c=>this.prepareAndSaveConfigs(c)),L(c=>({allConfigs:c,currentConfig:this.getConfig(e)})))}hasAtLeastOneConfig(){return Object.keys(this.configsInternal).length>0}saveConfig(e){let{configId:c}=e;this.configsInternal[c]=e}loadConfigs(){return this.loader.loadConfigs()}configsAlreadySaved(){return this.hasAtLeastOneConfig()}getConfig(e){if(e){let s=this.configsInternal[e];return!s&&X6()&&console.warn(`[angular-auth-oidc-client] No configuration found for config id '${e}'.`),s||null}let[,c]=Object.entries(this.configsInternal)[0]||[[null,null]];return c||null}prepareAndSaveConfigs(e){if(!this.configValidationService.validateConfigs(e))return h([]);this.createUniqueIds(e);let c=e.map(l=>this.handleConfig(l));return V2(c).pipe(L(l=>l.filter(r=>!!r)),L(l=>l))}createUniqueIds(e){e.forEach((c,s)=>{c.configId||(c.configId=`${s}-${c.clientId}`)})}handleConfig(e){if(!this.configValidationService.validateConfig(e))return this.loggerService.logError(e,"Validation of config rejected with errors. Config is NOT set."),h(null);e.authWellknownEndpointUrl||(e.authWellknownEndpointUrl=e.authority);let c=this.prepareConfig(e);this.saveConfig(c);let s=this.enhanceConfigWithWellKnownEndpoint(c);return this.publicEventsService.fireEvent(K.ConfigLoaded,s),h(c)}enhanceConfigWithWellKnownEndpoint(e){let c=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(c)return e.authWellknownEndpoints=c,e;let s=e.authWellknownEndpoints;return s&&(this.authWellKnownService.storeWellKnownEndpoints(e,s),e.authWellknownEndpoints=s),e}prepareConfig(e){let c=z(z({},is),e);return this.setSpecialCases(c),c}setSpecialCases(e){this.platformProvider.isBrowser()||(e.startCheckSession=!1,e.silentRenew=!1,e.useRefreshToken=!1,e.usePushedAuthorisationRequests=!1)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Se=(()=>{class t{constructor(){this.document=o(P),this.loggerService=o(N)}getExistingIFrame(e){let c=this.getIFrameFromParentWindow(e);if(this.isIFrameElement(c))return c;let s=this.getIFrameFromWindow(e);return this.isIFrameElement(s)?s:null}addIFrameToWindowBody(e,c){let s=this.document.createElement("iframe");return s.id=e,s.title=e,this.loggerService.logDebug(c,s),s.style.display="none",this.document.body.appendChild(s),s}getIFrameFromParentWindow(e){try{let c=this.document.defaultView?.parent.document.getElementById(e);return this.isIFrameElement(c)?c:null}catch{return null}}getIFrameFromWindow(e){let c=this.document.getElementById(e);return this.isIFrameElement(c)?c:null}isIFrameElement(e){return!!e&&e instanceof HTMLIFrameElement}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),de="myiFrameForSilentRenew",k0=(()=>{class t{constructor(){this.refreshSessionWithIFrameCompletedInternal$=new n2,this.loggerService=o(N),this.iFrameService=o(Se),this.flowsService=o(H3),this.resetAuthDataService=o(N2),this.flowsDataService=o(X),this.authStateService=o(s2),this.flowHelper=o(x2),this.implicitFlowCallbackService=o(Ce),this.intervalService=o(Y1)}get refreshSessionWithIFrameCompleted$(){return this.refreshSessionWithIFrameCompletedInternal$.asObservable()}getOrCreateIframe(e){let c=this.getExistingIframe();return c||this.iFrameService.addIFrameToWindowBody(de,e)}isSilentRenewConfigured(e){let{useRefreshToken:c,silentRenew:s}=e;return!c&&!!s}codeFlowCallbackSilentRenewIframe(e,c,s){let l=new c2({fromString:e[1]}),r=l.get("error");if(r)return this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:_.LoginRequired,isRenewProcess:!0}),this.resetAuthDataService.resetAuthorizationData(c,s),this.flowsDataService.setNonce("",c),this.intervalService.stopPeriodicTokenCheck(),S(()=>new Error(r));let i=l.get("code")??"",a=l.get("state")??"",f=l.get("session_state"),u={code:i,refreshToken:"",state:a,sessionState:f,authResult:null,isRenewProcess:!0,jwtKeys:null,validationResult:null,existingIdToken:null};return this.flowsService.processSilentRenewCodeFlowCallback(u,c,s).pipe(F(d=>(this.intervalService.stopPeriodicTokenCheck(),this.resetAuthDataService.resetAuthorizationData(c,s),S(()=>new Error(d)))))}silentRenewEventHandler(e,c,s){if(this.loggerService.logDebug(c,"silentRenewEventHandler"),!e.detail)return;let l;if(this.flowHelper.isCurrentFlowCodeFlow(c)){let i=e.detail.toString().split("?");l=this.codeFlowCallbackSilentRenewIframe(i,c,s)}else l=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(c,s,e.detail);l.subscribe({next:i=>{this.refreshSessionWithIFrameCompletedInternal$.next(i),this.flowsDataService.resetSilentRenewRunning(c)},error:i=>{this.loggerService.logError(c,"Error: "+i),this.refreshSessionWithIFrameCompletedInternal$.next(null),this.flowsDataService.resetSilentRenewRunning(c)}})}getExistingIframe(){return this.iFrameService.getExistingIFrame(de)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),we=(()=>{class t{constructor(){this.renderer=o(a3).createRenderer(null,null),this.loggerService=o(N),this.urlService=o(o2),this.silentRenewService=o(k0),this.document=o(P)}refreshSessionWithIframe(e,c,s){return this.loggerService.logDebug(e,"BEGIN refresh session Authorize Iframe renew"),this.urlService.getRefreshSessionSilentRenewUrl(e,s).pipe(A(l=>this.sendAuthorizeRequestUsingSilentRenew(l,e,c)))}sendAuthorizeRequestUsingSilentRenew(e,c,s){let l=this.silentRenewService.getOrCreateIframe(c);return this.initSilentRenewRequest(c,s),this.loggerService.logDebug(c,`sendAuthorizeRequestUsingSilentRenew for URL: ${e}`),new T2(r=>{let i=()=>{l.removeEventListener("load",i),this.loggerService.logDebug(c,"removed event listener from IFrame"),r.next(!0),r.complete()};l.addEventListener("load",i),l.contentWindow?.location.replace(e??"")})}initSilentRenewRequest(e,c){let s=Math.random(),l=this.renderer.listen("window","oidc-silent-renew-init",i=>{i.detail!==s&&(l(),r())}),r=this.renderer.listen("window","oidc-silent-renew-message",i=>this.silentRenewService.silentRenewEventHandler(i,e,c));this.document.defaultView?.dispatchEvent(new CustomEvent("oidc-silent-renew-init",{detail:s}))}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ye=(()=>{class t{constructor(){this.loggerService=o(N),this.resetAuthDataService=o(N2),this.flowsService=o(H3),this.intervalService=o(Y1)}refreshSessionWithRefreshTokens(e,c,s){this.loggerService.logDebug(e,"BEGIN refresh session Authorize");let l=!1;return this.flowsService.processRefreshToken(e,c,s).pipe(F(r=>(this.resetAuthDataService.resetAuthorizationData(e,c),l=!0,S(()=>new Error(r)))),S2(()=>l&&this.intervalService.stopPeriodicTokenCheck()))}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ms=(()=>{class t{constructor(){this.resetAuthDataService=o(N2),this.flowHelper=o(x2),this.flowsDataService=o(X),this.loggerService=o(N),this.userService=o(d1),this.authStateService=o(s2),this.refreshSessionIframeService=o(we),this.refreshSessionRefreshTokenService=o(ye),this.intervalService=o(Y1),this.storagePersistenceService=o(B),this.publicEventsService=o(_2),this.configurationService=o(W3)}startTokenValidationPeriodically(e,c){let s=this.getConfigsWithSilentRenewEnabled(e);if(s.length<=0||this.intervalService.isTokenValidationRunning())return;let l=this.getSmallestRefreshTimeFromConfigs(s),r=this.intervalService.startPeriodicTokenCheck(l).pipe(A(()=>{let i={};return s.forEach(a=>{let f=a.configId,u=this.getRefreshEvent(a,e);i[f]=u}),V2(i)}));this.intervalService.runTokenValidationRunning=r.pipe(F(i=>S(()=>new Error(i)))).subscribe({next:i=>{for(let[a,f]of Object.entries(i))this.configurationService.getOpenIDConfiguration(a).subscribe(u=>{this.loggerService.logDebug(u,"silent renew, periodic check finished!"),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(u)&&this.flowsDataService.resetSilentRenewRunning(u)})},error:i=>{this.loggerService.logError(c,"silent renew failed!",i)}})}getRefreshEvent(e,c){if(!this.shouldStartPeriodicallyCheckForConfig(e))return h(null);let l=this.createRefreshEventForConfig(e,c);return this.publicEventsService.fireEvent(K.SilentRenewStarted),l.pipe(F(r=>(this.loggerService.logError(e,"silent renew failed!",r),this.publicEventsService.fireEvent(K.SilentRenewFailed,r),this.flowsDataService.resetSilentRenewRunning(e),S(()=>new Error(r)))))}getSmallestRefreshTimeFromConfigs(e){return e.reduce((s,l)=>(s.tokenRefreshInSeconds??0)<(l.tokenRefreshInSeconds??0)?s:l).tokenRefreshInSeconds??0}getConfigsWithSilentRenewEnabled(e){return e.filter(c=>c.silentRenew)}createRefreshEventForConfig(e,c){return this.loggerService.logDebug(e,"starting silent renew..."),this.configurationService.getOpenIDConfiguration(e.configId).pipe(A(s=>{if(!s?.silentRenew)return this.resetAuthDataService.resetAuthorizationData(s,c),h(null);if(this.flowsDataService.setSilentRenewRunning(s),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(s)){let r=this.storagePersistenceService.read("storageCustomParamsRefresh",s)||{},{customParamsRefreshTokenRequest:i}=s,a=z(z({},i),r);return this.refreshSessionRefreshTokenService.refreshSessionWithRefreshTokens(s,c,a)}let l=this.storagePersistenceService.read("storageCustomParamsAuthRequest",s);return this.refreshSessionIframeService.refreshSessionWithIframe(s,c,l)}))}shouldStartPeriodicallyCheckForConfig(e){let c=this.authStateService.getIdToken(e),s=this.flowsDataService.isSilentRenewRunning(e),l=this.flowsDataService.isCodeFlowInProgress(e),r=this.userService.getUserDataFromStore(e);if(this.loggerService.logDebug(e,`Checking: silentRenewRunning: ${s}, isCodeFlowInProgress: ${l} - has idToken: ${!!c} - has userData: ${!!r}`),!(!!r&&!s&&!!c&&!l))return!1;let a=this.authStateService.hasIdTokenExpiredAndRenewCheckIsEnabled(e),f=this.authStateService.hasAccessTokenExpiredIfExpiryExists(e);return a||f}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Cs=3,be=(()=>{class t{constructor(){this.flowHelper=o(x2),this.flowsDataService=o(X),this.loggerService=o(N),this.silentRenewService=o(k0),this.authStateService=o(s2),this.authWellKnownService=o(h1),this.refreshSessionIframeService=o(we),this.storagePersistenceService=o(B),this.refreshSessionRefreshTokenService=o(ye),this.userService=o(d1)}userForceRefreshSession(e,c,s){return e?(this.persistCustomParams(s,e),this.forceRefreshSession(e,c,s).pipe(D(()=>this.flowsDataService.resetSilentRenewRunning(e)))):S(()=>new Error("Please provide a configuration before setting up the module"))}forceRefreshSession(e,c,s){let{customParamsRefreshTokenRequest:l,configId:r}=e,i=z(z({},l),s);if(this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(e))return this.startRefreshSession(e,c,i).pipe(L(()=>{let u=this.authStateService.areAuthStorageTokensValid(e);return u?{idToken:this.authStateService.getIdToken(e),accessToken:this.authStateService.getAccessToken(e),userData:this.userService.getUserDataFromStore(e),isAuthenticated:u,configId:r}:{isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:r}}));let{silentRenewTimeoutInSeconds:a}=e,f=(a??0)*1e3;return V2([this.startRefreshSession(e,c,s),this.silentRenewService.refreshSessionWithIFrameCompleted$.pipe(l2(1))]).pipe(M6(f),l3(u=>u.pipe(W((d,p)=>{let M=p+1;return!(d instanceof L6)||M>Cs?S(()=>new Error(d)):(this.loggerService.logDebug(e,`forceRefreshSession timeout. Attempt #${M}`),this.flowsDataService.resetSilentRenewRunning(e),n3(M*1e3))}))),L(([u,d])=>{let p=this.authStateService.areAuthStorageTokensValid(e);return p?{idToken:d?.authResult?.id_token??"",accessToken:d?.authResult?.access_token??"",userData:this.userService.getUserDataFromStore(e),isAuthenticated:p,configId:r}:{isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:r}}))}persistCustomParams(e,c){let{useRefreshToken:s}=c;e&&(s?this.storagePersistenceService.write("storageCustomParamsRefresh",e,c):this.storagePersistenceService.write("storageCustomParamsAuthRequest",e,c))}startRefreshSession(e,c,s){let l=this.flowsDataService.isSilentRenewRunning(e);return this.loggerService.logDebug(e,`Checking: silentRenewRunning: ${l}`),!l?this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(A(()=>(this.flowsDataService.setSilentRenewRunning(e),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(e)?this.refreshSessionRefreshTokenService.refreshSessionWithRefreshTokens(e,c,s):this.refreshSessionIframeService.refreshSessionWithIframe(e,c,s)))):h(null)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),he="myiFrameForCheckSession",A0=(()=>{class t{constructor(){this.loggerService=o(N),this.storagePersistenceService=o(B),this.iFrameService=o(Se),this.eventService=o(_2),this.zone=o(h2),this.document=o(P),this.checkSessionReceived=!1,this.scheduledHeartBeatRunning=null,this.lastIFrameRefresh=0,this.outstandingMessages=0,this.heartBeatInterval=3e3,this.iframeRefreshInterval=6e4,this.checkSessionChangedInternal$=new q(!1)}get checkSessionChanged$(){return this.checkSessionChangedInternal$.asObservable()}ngOnDestroy(){this.stop();let e=this.document.defaultView;e&&this.iframeMessageEventListener&&e.removeEventListener("message",this.iframeMessageEventListener,!1)}isCheckSessionConfigured(e){let{startCheckSession:c}=e;return!!c}start(e){if(this.scheduledHeartBeatRunning)return;let{clientId:c}=e;this.pollServerSession(c,e)}stop(){this.scheduledHeartBeatRunning&&(this.clearScheduledHeartBeat(),this.checkSessionReceived=!1)}serverStateChanged(e){let{startCheckSession:c}=e;return!!c&&this.checkSessionReceived}getExistingIframe(){return this.iFrameService.getExistingIFrame(he)}init(e){if(this.lastIFrameRefresh+this.iframeRefreshInterval>Date.now())return h();let c=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!c)return this.loggerService.logWarning(e,"CheckSession - init check session: authWellKnownEndpoints is undefined. Returning."),h();let s=this.getOrCreateIframe(e);this.bindMessageEventToIframe(e);let l=c.checkSessionIframe,r=s.contentWindow;return l?(r?r.location.replace(l):this.loggerService.logWarning(e,"CheckSession - init check session: IFrame contentWindow does not exist"),new T2(i=>{s.onload=()=>{this.lastIFrameRefresh=Date.now(),i.next(),i.complete()}})):(this.loggerService.logWarning(e,"CheckSession - init check session: checkSessionIframe is not configured to run"),h())}pollServerSession(e,c){this.outstandingMessages=0;let s=()=>{this.init(c).pipe(l2(1)).subscribe(()=>{let l=this.getExistingIframe();if(l&&e){this.loggerService.logDebug(c,`CheckSession - clientId : '${e}' - existingIframe: '${l}'`);let r=this.storagePersistenceService.read("session_state",c),i=this.storagePersistenceService.read("authWellKnownEndPoints",c),a=l.contentWindow;if(r&&i?.checkSessionIframe&&a){let f=new URL(i.checkSessionIframe)?.origin;this.outstandingMessages++,a.postMessage(e+" "+r,f)}else this.loggerService.logDebug(c,`CheckSession - session_state is '${r}' - AuthWellKnownEndPoints is '${JSON.stringify(i,null,2)}'`),this.checkSessionChangedInternal$.next(!0)}else this.loggerService.logWarning(c,`CheckSession - OidcSecurityCheckSession pollServerSession checkSession IFrame does not exist:
               clientId : '${e}' - existingIframe: '${l}'`);this.outstandingMessages>3&&this.loggerService.logError(c,`CheckSession - OidcSecurityCheckSession not receiving check session response messages.
                            Outstanding messages: '${this.outstandingMessages}'. Server unreachable?`),this.zone.runOutsideAngular(()=>{this.scheduledHeartBeatRunning=this.document?.defaultView?.setTimeout(()=>this.zone.run(s),this.heartBeatInterval)??null})})};s()}clearScheduledHeartBeat(){this.scheduledHeartBeatRunning!==null&&(clearTimeout(this.scheduledHeartBeatRunning),this.scheduledHeartBeatRunning=null)}messageHandler(e,c){let s=this.getExistingIframe(),r=!!this.storagePersistenceService.read("authWellKnownEndPoints",e)?.checkSessionIframe?.startsWith(c.origin);this.outstandingMessages=0,s&&r&&c.source===s.contentWindow&&(c.data==="error"?this.loggerService.logWarning(e,"CheckSession - error from check session messageHandler"):c.data==="changed"?(this.loggerService.logDebug(e,`CheckSession - ${c} from check session messageHandler`),this.checkSessionReceived=!0,this.eventService.fireEvent(K.CheckSessionReceived,c.data),this.checkSessionChangedInternal$.next(!0)):(this.eventService.fireEvent(K.CheckSessionReceived,c.data),this.loggerService.logDebug(e,`CheckSession - ${c.data} from check session messageHandler`)))}bindMessageEventToIframe(e){this.iframeMessageEventListener=this.messageHandler.bind(this,e);let c=this.document.defaultView;c&&c.addEventListener("message",this.iframeMessageEventListener,!1)}getOrCreateIframe(e){return this.getExistingIframe()||this.iFrameService.addIFrameToWindowBody(he,e)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$3=(()=>{class t{constructor(){this.loggerService=o(N),this.storagePersistenceService=o(B),this.document=o(P),this.STORAGE_IDENTIFIER="popupauth",this.popUp=null,this.handle=-1,this.resultInternal$=new n2}get result$(){return this.resultInternal$.asObservable()}get windowInternal(){return this.document.defaultView}isCurrentlyInPopup(e){if(this.canAccessSessionStorage()){let c=this.storagePersistenceService.read(this.STORAGE_IDENTIFIER,e),s=this.windowInternal;return s?!!s.opener&&s.opener!==s&&!!c:!1}return!1}openPopUp(e,c,s){let l=this.getOptions(c);this.storagePersistenceService.write(this.STORAGE_IDENTIFIER,"true",s);let r=this.windowInternal;if(!r)return;if(!e){this.loggerService.logError(s,"Could not open popup, url is empty");return}if(this.popUp=r.open(e,"_blank",l),!this.popUp){this.storagePersistenceService.remove(this.STORAGE_IDENTIFIER,s),this.loggerService.logError(s,"Could not open popup");return}this.loggerService.logDebug(s,"Opened popup with url "+e);let i=a=>{if(!a?.data||typeof a.data!="string"){if(s.disableCleaningPopupOnInvalidMessage)return;this.cleanUp(i,s);return}this.loggerService.logDebug(s,"Received message from popup with url "+a.data),this.resultInternal$.next({userClosed:!1,receivedUrl:a.data}),this.cleanUp(i,s)};r.addEventListener("message",i,!1),this.handle=r.setInterval(()=>{this.popUp?.closed&&(this.resultInternal$.next({userClosed:!0,receivedUrl:""}),this.cleanUp(i,s))},200)}sendMessageToMainWindow(e,c){let s=this.windowInternal;if(s&&s.opener){let l=s.location.href;this.sendMessage(e,l,c)}}cleanUp(e,c){let s=this.windowInternal;s&&(s.removeEventListener("message",e,!1),s.clearInterval(this.handle),this.popUp&&(this.storagePersistenceService.remove(this.STORAGE_IDENTIFIER,c),this.popUp.close(),this.popUp=null))}sendMessage(e,c,s){let l=this.windowInternal;if(l){if(!e){this.loggerService.logDebug(s,`Can not send message to parent, no url: '${e}'`);return}l.opener.postMessage(e,c)}}getOptions(e){let c={width:500,height:500,left:50,top:50},s=z(z({},c),e||{}),l=this.windowInternal;if(!l)return"";let r=s.width||c.width,i=s.height||c.height,a=l.screenLeft+(l.outerWidth-r)/2,f=l.screenTop+(l.outerHeight-i)/2;return s.left=a,s.top=f,Object.entries(s).map(([u,d])=>`${encodeURIComponent(u)}=${encodeURIComponent(d)}`).join(",")}canAccessSessionStorage(){return typeof navigator<"u"&&navigator.cookieEnabled&&typeof Storage<"u"}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vs=(()=>{class t{constructor(){this.document=o(P)}getStateParamFromCurrentUrl(e){let c=e||this.getCurrentUrl();if(!c)return null;let s=new URL(c);return new URLSearchParams(s.search).get("state")}getCurrentUrl(){return this.document?.defaultView?.location.toString()??null}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),R0=(()=>{class t{constructor(){this.checkSessionService=o(A0),this.currentUrlService=o(vs),this.silentRenewService=o(k0),this.userService=o(d1),this.loggerService=o(N),this.authStateService=o(s2),this.callbackService=o(ve),this.refreshSessionService=o(be),this.periodicallyTokenCheckService=o(Ms),this.popupService=o($3),this.autoLoginService=o(Le),this.storagePersistenceService=o(B),this.publicEventsService=o(_2)}getConfig(e,c){let s=this.currentUrlService.getStateParamFromCurrentUrl(c);return s?this.getConfigurationWithUrlState([e],s):e}checkAuth(e,c,s){if(!e)return S(()=>new Error("Please provide a configuration before setting up the module"));this.publicEventsService.fireEvent(K.CheckingAuth);let l=this.currentUrlService.getStateParamFromCurrentUrl(s);return this.getConfig(e,s)?this.checkAuthWithConfig(e,c,s):S(()=>new Error(`could not find matching config for state ${l}`))}checkAuthMultiple(e,c){let s=this.currentUrlService.getStateParamFromCurrentUrl(c);if(s){let i=this.getConfigurationWithUrlState(e,s);return i?this.composeMultipleLoginResults(e,i,c):S(()=>new Error(`could not find matching config for state ${s}`))}let l=e,r=l.map(i=>this.checkAuthWithConfig(i,l,c));return V2(r)}checkAuthIncludingServer(e,c){return e?this.checkAuthWithConfig(e,c).pipe(A(s=>{let{isAuthenticated:l}=s;return l?h(s):this.refreshSessionService.forceRefreshSession(e,c).pipe(D(r=>{r?.isAuthenticated&&this.startCheckSessionAndValidation(e,c)}))})):S(()=>new Error("Please provide a configuration before setting up the module"))}checkAuthWithConfig(e,c,s){if(!e){let u="Please provide at least one configuration before setting up the module";return this.loggerService.logError(e,u),h({isAuthenticated:!1,errorMessage:u,userData:null,idToken:"",accessToken:"",configId:""})}let l=s||this.currentUrlService.getCurrentUrl();if(!l){let u="No URL found!";return this.loggerService.logError(e,u),h({isAuthenticated:!1,errorMessage:u,userData:null,idToken:"",accessToken:"",configId:""})}let{configId:r,authority:i}=e;if(this.loggerService.logDebug(e,`Working with config '${r}' using '${i}'`),this.popupService.isCurrentlyInPopup(e))return this.popupService.sendMessageToMainWindow(l,e),h({isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:""});let a=this.callbackService.isCallback(l,e);return this.loggerService.logDebug(e,`currentUrl to check auth with: '${l}'`),(a?this.callbackService.handleCallbackAndFireEvents(l,e,c):h({})).pipe(L(()=>{let u=this.authStateService.areAuthStorageTokensValid(e);return this.loggerService.logDebug(e,`checkAuth completed. Firing events now. isAuthenticated: ${u}`),u&&(this.startCheckSessionAndValidation(e,c),a||(this.authStateService.setAuthenticatedAndFireEvent(c),this.userService.publishUserDataIfExists(e,c))),this.publicEventsService.fireEvent(K.CheckingAuthFinished),{isAuthenticated:u,userData:this.userService.getUserDataFromStore(e),accessToken:this.authStateService.getAccessToken(e),idToken:this.authStateService.getIdToken(e),configId:r}}),D(({isAuthenticated:u})=>{u&&this.autoLoginService.checkSavedRedirectRouteAndNavigate(e)}),F(({message:u})=>(this.loggerService.logError(e,u),this.publicEventsService.fireEvent(K.CheckingAuthFinishedWithError,u),h({isAuthenticated:!1,errorMessage:u,userData:null,idToken:"",accessToken:"",configId:r}))))}startCheckSessionAndValidation(e,c){this.checkSessionService.isCheckSessionConfigured(e)&&this.checkSessionService.start(e),this.periodicallyTokenCheckService.startTokenValidationPeriodically(c,e),this.silentRenewService.isSilentRenewConfigured(e)&&this.silentRenewService.getOrCreateIframe(e)}getConfigurationWithUrlState(e,c){if(!c)return null;for(let s of e)if(this.storagePersistenceService.read("authStateControl",s)===c)return s;return null}composeMultipleLoginResults(e,c,s){let l=e.filter(a=>a.configId!==c.configId),r=this.checkAuthWithConfig(c,e,s),i=l.map(a=>{let{redirectUrl:f}=a;return this.checkAuthWithConfig(a,e,f)});return V2([r,...i])}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),I0=(()=>{class t{constructor(){this.document=o(P)}redirectTo(e){this.document.location.href=e}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),T0=(()=>{class t{constructor(){this.loggerService=o(N),this.flowHelper=o(x2)}hasConfigValidResponseType(e){return this.flowHelper.isCurrentFlowAnyImplicitFlow(e)||this.flowHelper.isCurrentFlowCodeFlow(e)?!0:(this.loggerService.logWarning(e,"module configured incorrectly, invalid response_type. Check the responseType in the config"),!1)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ss=(()=>{class t{constructor(){this.loggerService=o(N),this.urlService=o(o2),this.dataService=o(B2),this.storagePersistenceService=o(B)}postParRequest(e,c){let s=new J;s=s.set("Content-Type","application/x-www-form-urlencoded");let l=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!l)return S(()=>new Error("Could not read PAR endpoint because authWellKnownEndPoints are not given"));let r=l.parEndpoint;return r?this.urlService.createBodyForParCodeFlowRequest(e,c).pipe(A(i=>this.dataService.post(r,i,e,s).pipe(q2(2),L(a=>(this.loggerService.logDebug(e,"par response: ",a),{expiresIn:a.expires_in,requestUri:a.request_uri})),F(a=>{let f="There was an error on ParService postParRequest";return this.loggerService.logError(e,f,a),S(()=>new Error(f))})))):S(()=>new Error("Could not read PAR endpoint from authWellKnownEndpoints"))}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ws=(()=>{class t{constructor(){this.loggerService=o(N),this.responseTypeValidationService=o(T0),this.urlService=o(o2),this.redirectService=o(I0),this.authWellKnownService=o(h1),this.popupService=o($3),this.checkAuthService=o(R0),this.parService=o(Ss)}loginPar(e,c){if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){this.loggerService.logError(e,"Invalid response type!");return}this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(A(()=>this.parService.postParRequest(e,c))).subscribe(s=>{this.loggerService.logDebug(e,"par response: ",s);let l=this.urlService.getAuthorizeParUrl(s.requestUri,e);if(this.loggerService.logDebug(e,"par request url: ",l),!l){this.loggerService.logError(e,`Could not create URL with param ${s.requestUri}: '${l}'`);return}c?.urlHandler?c.urlHandler(l):this.redirectService.redirectTo(l)})}loginWithPopUpPar(e,c,s,l){let{configId:r}=e;if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){let i="Invalid response type!";return this.loggerService.logError(e,i),S(()=>new Error(i))}return this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow with popup, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(A(()=>this.parService.postParRequest(e,s)),A(i=>{this.loggerService.logDebug(e,`par response: ${i}`);let a=this.urlService.getAuthorizeParUrl(i.requestUri,e);if(this.loggerService.logDebug(e,"par request url: ",a),!a){let f=`Could not create URL with param ${i.requestUri}: 'url'`;return this.loggerService.logError(e,f),S(()=>new Error(f))}return this.popupService.openPopUp(a,l,e),this.popupService.result$.pipe(l2(1),A(f=>{let{userClosed:u,receivedUrl:d}=f;return u?h({isAuthenticated:!1,errorMessage:"User closed popup",userData:null,idToken:"",accessToken:"",configId:r}):this.checkAuthService.checkAuth(e,c,d)}))}))}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ys=(()=>{class t{constructor(){this.loggerService=o(N),this.responseTypeValidationService=o(T0),this.urlService=o(o2),this.authWellKnownService=o(h1),this.popupService=o($3),this.checkAuthService=o(R0)}loginWithPopUpStandard(e,c,s,l){let{configId:r}=e;if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){let i="Invalid response type!";return this.loggerService.logError(e,i),S(()=>new Error(i))}return this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow with popup, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(A(()=>this.urlService.getAuthorizeUrl(e,s)),D(i=>this.popupService.openPopUp(i,l,e)),A(()=>this.popupService.result$.pipe(l2(1),A(i=>{let{userClosed:a,receivedUrl:f}=i;return a?h({isAuthenticated:!1,errorMessage:"User closed popup",userData:null,idToken:"",accessToken:"",configId:r}):this.checkAuthService.checkAuth(e,c,f)}))))}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),bs=(()=>{class t{constructor(){this.loggerService=o(N),this.responseTypeValidationService=o(T0),this.urlService=o(o2),this.redirectService=o(I0),this.authWellKnownService=o(h1),this.flowsDataService=o(X)}loginStandard(e,c){if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){this.loggerService.logError(e,"Invalid response type!");return}this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow, no auth data"),this.flowsDataService.setCodeFlowInProgress(e),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).subscribe(()=>{let{urlHandler:s}=c||{};this.flowsDataService.resetSilentRenewRunning(e),this.urlService.getAuthorizeUrl(e,c).subscribe(l=>{if(!l){this.loggerService.logError(e,"Could not create URL",l);return}s?s(l):this.redirectService.redirectTo(l)})})}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xe=(()=>{class t{constructor(){this.parLoginService=o(ws),this.popUpLoginService=o(ys),this.standardLoginService=o(bs),this.storagePersistenceService=o(B),this.popupService=o($3)}login(e,c){if(!e)throw new Error("Please provide a configuration before setting up the module");let{usePushedAuthorisationRequests:s}=e;return c?.customParams&&this.storagePersistenceService.write("storageCustomParamsAuthRequest",c.customParams,e),s?this.parLoginService.loginPar(e,c):this.standardLoginService.loginStandard(e,c)}loginWithPopUp(e,c,s,l){if(!e)throw new Error("Please provide a configuration before setting up the module");if(this.popupService.isCurrentlyInPopup(e))return h({errorMessage:"There is already a popup open."});let{usePushedAuthorisationRequests:i}=e;return s?.customParams&&this.storagePersistenceService.write("storageCustomParamsAuthRequest",s.customParams,e),i?this.parLoginService.loginWithPopUpPar(e,c,s,l):this.popUpLoginService.loginWithPopUpStandard(e,c,s,l)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function xs(t){let n=z({},t);for(let e in t)(t[e]===void 0||t[e]===null)&&delete n[e];return n}var Ns=(()=>{class t{constructor(){this.loggerService=o(N),this.dataService=o(B2),this.storagePersistenceService=o(B),this.urlService=o(o2),this.checkSessionService=o(A0),this.resetAuthDataService=o(N2),this.redirectService=o(I0)}logoff(e,c,s){if(!e)return S(()=>new Error("Please provide a configuration before setting up the module"));this.loggerService.logDebug(e,"logoff, remove auth",s);let{urlHandler:l,customParams:r}=s||{},i=this.urlService.getEndSessionUrl(e,r);return i?this.checkSessionService.serverStateChanged(e)?(this.loggerService.logDebug(e,"Server State changed. Logoff was only locally. Returning."),h(null)):l?(this.loggerService.logDebug(e,`Custom UrlHandler found. Using this to handle logoff with url '${i}'`),l(i),this.resetAuthDataService.resetAuthorizationData(e,c),h(null)):this.logoffInternal(s,i,e,c):(this.loggerService.logDebug(e,"No endsessionUrl present. Logoff was only locally. Returning."),h(null))}logoffLocal(e,c){this.resetAuthDataService.resetAuthorizationData(e,c),this.checkSessionService.stop()}logoffLocalMultiple(e){e.forEach(c=>this.logoffLocal(c,e))}logoffAndRevokeTokens(e,c,s){if(!e)return S(()=>new Error("Please provide a configuration before setting up the module"));let{revocationEndpoint:l}=this.storagePersistenceService.read("authWellKnownEndPoints",e)||{};return l?this.storagePersistenceService.getRefreshToken(e)?this.revokeRefreshToken(e).pipe(A(r=>this.revokeAccessToken(e)),F(r=>{let i="revoke token failed";return this.loggerService.logError(e,i,r),S(()=>new Error(i))}),k(()=>this.logoff(e,c,s))):this.revokeAccessToken(e).pipe(F(r=>{let i="revoke accessToken failed";return this.loggerService.logError(e,i,r),S(()=>new Error(i))}),k(()=>this.logoff(e,c,s))):(this.loggerService.logDebug(e,"revocation endpoint not supported"),this.logoff(e,c,s))}revokeAccessToken(e,c){if(!e)return S(()=>new Error("Please provide a configuration before setting up the module"));let s=c||this.storagePersistenceService.getAccessToken(e),l=this.urlService.createRevocationEndpointBodyAccessToken(s,e);return this.sendRevokeRequest(e,l)}revokeRefreshToken(e,c){if(!e)return S(()=>new Error("Please provide a configuration before setting up the module"));let s=c||this.storagePersistenceService.getRefreshToken(e),l=this.urlService.createRevocationEndpointBodyRefreshToken(s,e);return this.sendRevokeRequest(e,l)}logoffInternal(e,c,s,l){let{logoffMethod:r,customParams:i}=e||{};if(!r||r==="GET")return this.redirectService.redirectTo(c),this.resetAuthDataService.resetAuthorizationData(s,l),h(null);let{state:a,logout_hint:f,ui_locales:u}=i||{},{clientId:d}=s,p=this.storagePersistenceService.getIdToken(s),C=this.urlService.getPostLogoutRedirectUrl(s),M=this.getHeaders(),{url:b}=this.urlService.getEndSessionEndpoint(s),T=xs({id_token_hint:p,client_id:d,post_logout_redirect_uri:C,state:a,logout_hint:f,ui_locales:u});return this.resetAuthDataService.resetAuthorizationData(s,l),this.dataService.post(b,T,s,M)}sendRevokeRequest(e,c){let s=this.urlService.getRevocationEndpointUrl(e),l=this.getHeaders();return this.dataService.post(s,c,e,l).pipe(q2(2),A(r=>(this.loggerService.logDebug(e,"revocation endpoint post response: ",r),h(r))),F(r=>{let i="Revocation request failed";return this.loggerService.logError(e,i,r),S(()=>new Error(i))}))}getHeaders(){let e=new J;return e=e.set("Content-Type","application/x-www-form-urlencoded"),e}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ks=(()=>{class t{constructor(){this.checkSessionService=o(A0),this.checkAuthService=o(R0),this.userService=o(d1),this.tokenHelperService=o(_3),this.configurationService=o(W3),this.authStateService=o(s2),this.flowsDataService=o(X),this.callbackService=o(ve),this.logoffRevocationService=o(Ns),this.loginService=o(xe),this.refreshSessionService=o(be),this.urlService=o(o2),this.authWellKnownService=o(h1),this.userData=O3(this.userData$,{requireSync:!0}),this.authenticated=O3(this.isAuthenticated$,{requireSync:!0})}get userData$(){return this.userService.userData$}get isAuthenticated$(){return this.authStateService.authenticated$}get checkSessionChanged$(){return this.checkSessionService.checkSessionChanged$}get stsCallback$(){return this.callbackService.stsCallback$}preloadAuthWellKnownDocument(e){return this.configurationService.getOpenIDConfiguration(e).pipe(k(c=>this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(c)))}getConfigurations(){return this.configurationService.getAllConfigurations()}getConfiguration(e){return this.configurationService.getOpenIDConfiguration(e)}getUserData(e){return this.configurationService.getOpenIDConfiguration(e).pipe(L(c=>this.userService.getUserDataFromStore(c)))}checkAuth(e,c){return this.configurationService.getOpenIDConfigurations(c).pipe(k(({allConfigs:s,currentConfig:l})=>this.checkAuthService.checkAuth(l,s,e)))}checkAuthMultiple(e){return this.configurationService.getOpenIDConfigurations().pipe(k(({allConfigs:c})=>this.checkAuthService.checkAuthMultiple(c,e)))}isAuthenticated(e){return this.configurationService.getOpenIDConfiguration(e).pipe(L(c=>this.authStateService.isAuthenticated(c)))}checkAuthIncludingServer(e){return this.configurationService.getOpenIDConfigurations(e).pipe(k(({allConfigs:c,currentConfig:s})=>this.checkAuthService.checkAuthIncludingServer(s,c)))}getAccessToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(L(c=>this.authStateService.getAccessToken(c)))}getIdToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(L(c=>this.authStateService.getIdToken(c)))}getRefreshToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(L(c=>this.authStateService.getRefreshToken(c)))}getAuthenticationResult(e){return this.configurationService.getOpenIDConfiguration(e).pipe(L(c=>this.authStateService.getAuthenticationResult(c)))}getPayloadFromIdToken(e=!1,c){return this.configurationService.getOpenIDConfiguration(c).pipe(L(s=>{let l=this.authStateService.getIdToken(s);return this.tokenHelperService.getPayloadFromToken(l,e,s)}))}getPayloadFromAccessToken(e=!1,c){return this.configurationService.getOpenIDConfiguration(c).pipe(L(s=>{let l=this.authStateService.getAccessToken(s);return this.tokenHelperService.getPayloadFromToken(l,e,s)}))}setState(e,c){return this.configurationService.getOpenIDConfiguration(c).pipe(L(s=>this.flowsDataService.setAuthStateControl(e,s)))}getState(e){return this.configurationService.getOpenIDConfiguration(e).pipe(L(c=>this.flowsDataService.getAuthStateControl(c)))}authorize(e,c){this.configurationService.getOpenIDConfiguration(e).subscribe(s=>this.loginService.login(s,c))}authorizeWithPopUp(e,c,s){return this.configurationService.getOpenIDConfigurations(s).pipe(k(({allConfigs:l,currentConfig:r})=>this.loginService.loginWithPopUp(r,l,e,c)))}forceRefreshSession(e,c){return this.configurationService.getOpenIDConfigurations(c).pipe(k(({allConfigs:s,currentConfig:l})=>this.refreshSessionService.userForceRefreshSession(l,s,e)))}logoffAndRevokeTokens(e,c){return this.configurationService.getOpenIDConfigurations(e).pipe(k(({allConfigs:s,currentConfig:l})=>this.logoffRevocationService.logoffAndRevokeTokens(l,s,c)))}logoff(e,c){return this.configurationService.getOpenIDConfigurations(e).pipe(k(({allConfigs:s,currentConfig:l})=>this.logoffRevocationService.logoff(l,s,c)))}logoffLocal(e){this.configurationService.getOpenIDConfigurations(e).subscribe(({allConfigs:c,currentConfig:s})=>this.logoffRevocationService.logoffLocal(s,c))}logoffLocalMultiple(){this.configurationService.getOpenIDConfigurations().subscribe(({allConfigs:e})=>this.logoffRevocationService.logoffLocalMultiple(e))}revokeAccessToken(e,c){return this.configurationService.getOpenIDConfiguration(c).pipe(k(s=>this.logoffRevocationService.revokeAccessToken(s,e)))}revokeRefreshToken(e,c){return this.configurationService.getOpenIDConfiguration(c).pipe(k(s=>this.logoffRevocationService.revokeRefreshToken(s,e)))}getEndSessionUrl(e,c){return this.configurationService.getOpenIDConfiguration(c).pipe(L(s=>this.urlService.getEndSessionUrl(s,e)))}getAuthorizeUrl(e,c){return this.configurationService.getOpenIDConfiguration(c).pipe(k(s=>this.urlService.getAuthorizeUrl(s,e?{customParams:e}:void 0)))}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),As=(()=>{class t{read(e){return sessionStorage.getItem(e)}write(e,c){sessionStorage.setItem(e,c)}remove(e){sessionStorage.removeItem(e)}clear(){sessionStorage.clear()}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Wr(t,...n){let e=Rs(t);for(let c of n)e.push(...c.\u0275providers);return E2(e)}function Rs(t){return[{provide:oe,useValue:t},t?.loader||{provide:U3,useFactory:Rt,deps:[oe]},{provide:me,useClass:As},{provide:pe,useClass:It}]}function $r(){return{\u0275providers:[{provide:L4,useFactory:t=>()=>t.checkAuthMultiple(),multi:!0,deps:[ks]}]}}function Vr(t,n,e){let c=o(W3),s=o(s2),l=o(xe),r=o(Le),i=o(j2),a=t?.data?{customParams:t.data}:void 0,f=i.getCurrentNavigation()?.extractedUrl.toString().substring(1)??"";return Is(f,c,s,r,l,a,e)}function Is(t,n,e,c,s,l,r){return n.getOpenIDConfiguration(r).pipe(L(i=>{let a=e.areAuthStorageTokensValid(i);return a&&c.checkSavedRedirectRouteAndNavigate(i),a||(c.saveRedirectRoute(i,t),l?s.login(i,l):s.login(i)),a}))}function Ne(t){return t.reduce((n,e)=>n.concat(Array.isArray(e)?Ne(e):e),[])}var Ts=(()=>{class t{getConfigIdForClosestMatchingRoute(e,c){for(let s of c){let{secureRoutes:l}=s;for(let r of l??[])if(e.startsWith(r))return{matchingRoute:r,matchingConfig:s}}return{matchingRoute:null,matchingConfig:null}}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function qr(){return(t,n)=>Es(t,n,{configurationService:o(W3),authStateService:o(s2),closestMatchingRouteService:o(Ts),loggerService:o(N)})}function Es(t,n,e){if(!e.configurationService.hasAtLeastOneConfig())return n(t);let c=e.configurationService.getAllConfigurations(),s=c.map(f=>f.secureRoutes||[]);if(Ne(s).length===0)return e.loggerService.logDebug(c[0],"No routes to check configured"),n(t);let{matchingConfig:r,matchingRoute:i}=e.closestMatchingRouteService.getConfigIdForClosestMatchingRoute(t.url,c);if(!r)return e.loggerService.logDebug(c[0],`Did not find any configured route for route ${t.url}`),n(t);e.loggerService.logDebug(r,`'${t.url}' matches configured route '${i}'`);let a=e.authStateService.getAccessToken(r);return a?(e.loggerService.logDebug(r,`'${t.url}' matches configured route '${i}', adding token`),t=t.clone({headers:t.headers.set("Authorization","Bearer "+a)}),n(t)):(e.loggerService.logDebug(r,`Wanted to add token to ${t.url} but found no token: '${a}'`),n(t))}var Gr=(()=>{class t{read(e){return localStorage.getItem(e)}write(e,c){localStorage.setItem(e,c)}remove(e){localStorage.removeItem(e)}clear(){localStorage.clear()}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ds(t,n,e){return(n=Fs(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function ke(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),e.push.apply(e,c)}return e}function g(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?ke(Object(e),!0).forEach(function(c){Ds(t,c,e[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ke(Object(e)).forEach(function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(e,c))})}return t}function Ps(t,n){if(typeof t!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var c=e.call(t,n||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function Fs(t){var n=Ps(t,"string");return typeof n=="symbol"?n:n+""}var Ae=()=>{},c6={},cc={},tc=null,sc={mark:Ae,measure:Ae};try{typeof window<"u"&&(c6=window),typeof document<"u"&&(cc=document),typeof MutationObserver<"u"&&(tc=MutationObserver),typeof performance<"u"&&(sc=performance)}catch{}var{userAgent:Re=""}=c6.navigator||{},A2=c6,O=cc,Ie=tc,V3=sc,Yr=!!A2.document,M2=!!O.documentElement&&!!O.head&&typeof O.addEventListener=="function"&&typeof O.createElement=="function",nc=~Re.indexOf("MSIE")||~Re.indexOf("Trident/"),Os=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Us=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,lc={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},js={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},rc=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],G="classic",J3="duotone",_s="sharp",Bs="sharp-duotone",ic=[G,J3,_s,Bs],Hs={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},Ws={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},$s=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),Vs={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},qs=["fak","fa-kit","fakd","fa-kit-duotone"],Te={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},Gs=["kit"],Ks={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},Xs=["fak","fakd"],Ys={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},Ee={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},q3={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Js=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Qs=["fak","fa-kit","fakd","fa-kit-duotone"],Zs={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},e9={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},c9={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},U0={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},t9=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],j0=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...Js,...t9],s9=["solid","regular","light","thin","duotone","brands"],ac=[1,2,3,4,5,6,7,8,9,10],n9=ac.concat([11,12,13,14,15,16,17,18,19,20]),l9=[...Object.keys(c9),...s9,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",q3.GROUP,q3.SWAP_OPACITY,q3.PRIMARY,q3.SECONDARY].concat(ac.map(t=>"".concat(t,"x"))).concat(n9.map(t=>"w-".concat(t))),r9={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},z2="___FONT_AWESOME___",_0=16,oc="fa",fc="svg-inline--fa",W2="data-fa-i2svg",B0="data-fa-pseudo-element",i9="data-fa-pseudo-element-pending",t6="data-prefix",s6="data-icon",De="fontawesome-i2svg",a9="async",o9=["HTML","HEAD","STYLE","SCRIPT"],uc=(()=>{try{return!0}catch{return!1}})();function t3(t){return new Proxy(t,{get(n,e){return e in n?n[e]:n[G]}})}var dc=g({},lc);dc[G]=g(g(g(g({},{"fa-duotone":"duotone"}),lc[G]),Te.kit),Te["kit-duotone"]);var f9=t3(dc),H0=g({},Vs);H0[G]=g(g(g(g({},{duotone:"fad"}),H0[G]),Ee.kit),Ee["kit-duotone"]);var Pe=t3(H0),W0=g({},U0);W0[G]=g(g({},W0[G]),Ys.kit);var n6=t3(W0),$0=g({},e9);$0[G]=g(g({},$0[G]),Ks.kit);var Jr=t3($0),u9=Os,hc="fa-layers-text",d9=Us,h9=g({},Hs),Qr=t3(h9),p9=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],E0=js,m9=[...Gs,...l9],Q1=A2.FontAwesomeConfig||{};function g9(t){var n=O.querySelector("script["+t+"]");if(n)return n.getAttribute(t)}function z9(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}O&&typeof O.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(n=>{let[e,c]=n,s=z9(g9(e));s!=null&&(Q1[c]=s)});var pc={styleDefault:"solid",familyDefault:G,cssPrefix:oc,replacementClass:fc,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Q1.familyPrefix&&(Q1.cssPrefix=Q1.familyPrefix);var z1=g(g({},pc),Q1);z1.autoReplaceSvg||(z1.observeMutations=!1);var w={};Object.keys(pc).forEach(t=>{Object.defineProperty(w,t,{enumerable:!0,set:function(n){z1[t]=n,Z1.forEach(e=>e(w))},get:function(){return z1[t]}})});Object.defineProperty(w,"familyPrefix",{enumerable:!0,set:function(t){z1.cssPrefix=t,Z1.forEach(n=>n(w))},get:function(){return z1.cssPrefix}});A2.FontAwesomeConfig=w;var Z1=[];function L9(t){return Z1.push(t),()=>{Z1.splice(Z1.indexOf(t),1)}}var k2=_0,f2={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function M9(t){if(!t||!M2)return;let n=O.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=t;let e=O.head.childNodes,c=null;for(let s=e.length-1;s>-1;s--){let l=e[s],r=(l.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(r)>-1&&(c=l)}return O.head.insertBefore(n,c),t}var C9="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function e3(){let t=12,n="";for(;t-- >0;)n+=C9[Math.random()*62|0];return n}function L1(t){let n=[];for(let e=(t||[]).length>>>0;e--;)n[e]=t[e];return n}function l6(t){return t.classList?L1(t.classList):(t.getAttribute("class")||"").split(" ").filter(n=>n)}function mc(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function v9(t){return Object.keys(t||{}).reduce((n,e)=>n+"".concat(e,'="').concat(mc(t[e]),'" '),"").trim()}function Q3(t){return Object.keys(t||{}).reduce((n,e)=>n+"".concat(e,": ").concat(t[e].trim(),";"),"")}function r6(t){return t.size!==f2.size||t.x!==f2.x||t.y!==f2.y||t.rotate!==f2.rotate||t.flipX||t.flipY}function S9(t){let{transform:n,containerWidth:e,iconWidth:c}=t,s={transform:"translate(".concat(e/2," 256)")},l="translate(".concat(n.x*32,", ").concat(n.y*32,") "),r="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),i="rotate(".concat(n.rotate," 0 0)"),a={transform:"".concat(l," ").concat(r," ").concat(i)},f={transform:"translate(".concat(c/2*-1," -256)")};return{outer:s,inner:a,path:f}}function w9(t){let{transform:n,width:e=_0,height:c=_0,startCentered:s=!1}=t,l="";return s&&nc?l+="translate(".concat(n.x/k2-e/2,"em, ").concat(n.y/k2-c/2,"em) "):s?l+="translate(calc(-50% + ".concat(n.x/k2,"em), calc(-50% + ").concat(n.y/k2,"em)) "):l+="translate(".concat(n.x/k2,"em, ").concat(n.y/k2,"em) "),l+="scale(".concat(n.size/k2*(n.flipX?-1:1),", ").concat(n.size/k2*(n.flipY?-1:1),") "),l+="rotate(".concat(n.rotate,"deg) "),l}var y9=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function gc(){let t=oc,n=fc,e=w.cssPrefix,c=w.replacementClass,s=y9;if(e!==t||c!==n){let l=new RegExp("\\.".concat(t,"\\-"),"g"),r=new RegExp("\\--".concat(t,"\\-"),"g"),i=new RegExp("\\.".concat(n),"g");s=s.replace(l,".".concat(e,"-")).replace(r,"--".concat(e,"-")).replace(i,".".concat(c))}return s}var Fe=!1;function D0(){w.autoAddCss&&!Fe&&(M9(gc()),Fe=!0)}var b9={mixout(){return{dom:{css:gc,insertCss:D0}}},hooks(){return{beforeDOMElementCreation(){D0()},beforeI2svg(){D0()}}}},L2=A2||{};L2[z2]||(L2[z2]={});L2[z2].styles||(L2[z2].styles={});L2[z2].hooks||(L2[z2].hooks={});L2[z2].shims||(L2[z2].shims=[]);var u2=L2[z2],zc=[],Lc=function(){O.removeEventListener("DOMContentLoaded",Lc),X3=1,zc.map(t=>t())},X3=!1;M2&&(X3=(O.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(O.readyState),X3||O.addEventListener("DOMContentLoaded",Lc));function x9(t){M2&&(X3?setTimeout(t,0):zc.push(t))}function s3(t){let{tag:n,attributes:e={},children:c=[]}=t;return typeof t=="string"?mc(t):"<".concat(n," ").concat(v9(e),">").concat(c.map(s3).join(""),"</").concat(n,">")}function Oe(t,n,e){if(t&&t[n]&&t[n][e])return{prefix:n,iconName:e,icon:t[n][e]}}var N9=function(n,e){return function(c,s,l,r){return n.call(e,c,s,l,r)}},P0=function(n,e,c,s){var l=Object.keys(n),r=l.length,i=s!==void 0?N9(e,s):e,a,f,u;for(c===void 0?(a=1,u=n[l[0]]):(a=0,u=c);a<r;a++)f=l[a],u=i(u,n[f],f,n);return u};function k9(t){let n=[],e=0,c=t.length;for(;e<c;){let s=t.charCodeAt(e++);if(s>=55296&&s<=56319&&e<c){let l=t.charCodeAt(e++);(l&64512)==56320?n.push(((s&1023)<<10)+(l&1023)+65536):(n.push(s),e--)}else n.push(s)}return n}function V0(t){let n=k9(t);return n.length===1?n[0].toString(16):null}function A9(t,n){let e=t.length,c=t.charCodeAt(n),s;return c>=55296&&c<=56319&&e>n+1&&(s=t.charCodeAt(n+1),s>=56320&&s<=57343)?(c-55296)*1024+s-56320+65536:c}function Ue(t){return Object.keys(t).reduce((n,e)=>{let c=t[e];return!!c.icon?n[c.iconName]=c.icon:n[e]=c,n},{})}function q0(t,n){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:c=!1}=e,s=Ue(n);typeof u2.hooks.addPack=="function"&&!c?u2.hooks.addPack(t,Ue(n)):u2.styles[t]=g(g({},u2.styles[t]||{}),s),t==="fas"&&q0("fa",n)}var{styles:c3,shims:R9}=u2,Mc=Object.keys(n6),I9=Mc.reduce((t,n)=>(t[n]=Object.keys(n6[n]),t),{}),i6=null,Cc={},vc={},Sc={},wc={},yc={};function T9(t){return~m9.indexOf(t)}function E9(t,n){let e=n.split("-"),c=e[0],s=e.slice(1).join("-");return c===t&&s!==""&&!T9(s)?s:null}var bc=()=>{let t=c=>P0(c3,(s,l,r)=>(s[r]=P0(l,c,{}),s),{});Cc=t((c,s,l)=>(s[3]&&(c[s[3]]=l),s[2]&&s[2].filter(i=>typeof i=="number").forEach(i=>{c[i.toString(16)]=l}),c)),vc=t((c,s,l)=>(c[l]=l,s[2]&&s[2].filter(i=>typeof i=="string").forEach(i=>{c[i]=l}),c)),yc=t((c,s,l)=>{let r=s[2];return c[l]=l,r.forEach(i=>{c[i]=l}),c});let n="far"in c3||w.autoFetchSvg,e=P0(R9,(c,s)=>{let l=s[0],r=s[1],i=s[2];return r==="far"&&!n&&(r="fas"),typeof l=="string"&&(c.names[l]={prefix:r,iconName:i}),typeof l=="number"&&(c.unicodes[l.toString(16)]={prefix:r,iconName:i}),c},{names:{},unicodes:{}});Sc=e.names,wc=e.unicodes,i6=Z3(w.styleDefault,{family:w.familyDefault})};L9(t=>{i6=Z3(t.styleDefault,{family:w.familyDefault})});bc();function a6(t,n){return(Cc[t]||{})[n]}function D9(t,n){return(vc[t]||{})[n]}function H2(t,n){return(yc[t]||{})[n]}function xc(t){return Sc[t]||{prefix:null,iconName:null}}function P9(t){let n=wc[t],e=a6("fas",t);return n||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function R2(){return i6}var Nc=()=>({prefix:null,iconName:null,rest:[]});function F9(t){let n=G,e=Mc.reduce((c,s)=>(c[s]="".concat(w.cssPrefix,"-").concat(s),c),{});return ic.forEach(c=>{(t.includes(e[c])||t.some(s=>I9[c].includes(s)))&&(n=c)}),n}function Z3(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:e=G}=n,c=f9[e][t];if(e===J3&&!t)return"fad";let s=Pe[e][t]||Pe[e][c],l=t in u2.styles?t:null;return s||l||null}function O9(t){let n=[],e=null;return t.forEach(c=>{let s=E9(w.cssPrefix,c);s?e=s:c&&n.push(c)}),{iconName:e,rest:n}}function je(t){return t.sort().filter((n,e,c)=>c.indexOf(n)===e)}function e4(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:e=!1}=n,c=null,s=j0.concat(Qs),l=je(t.filter(d=>s.includes(d))),r=je(t.filter(d=>!j0.includes(d))),i=l.filter(d=>(c=d,!rc.includes(d))),[a=null]=i,f=F9(l),u=g(g({},O9(r)),{},{prefix:Z3(a,{family:f})});return g(g(g({},u),B9({values:t,family:f,styles:c3,config:w,canonical:u,givenPrefix:c})),U9(e,c,u))}function U9(t,n,e){let{prefix:c,iconName:s}=e;if(t||!c||!s)return{prefix:c,iconName:s};let l=n==="fa"?xc(s):{},r=H2(c,s);return s=l.iconName||r||s,c=l.prefix||c,c==="far"&&!c3.far&&c3.fas&&!w.autoFetchSvg&&(c="fas"),{prefix:c,iconName:s}}var j9=ic.filter(t=>t!==G||t!==J3),_9=Object.keys(U0).filter(t=>t!==G).map(t=>Object.keys(U0[t])).flat();function B9(t){let{values:n,family:e,canonical:c,givenPrefix:s="",styles:l={},config:r={}}=t,i=e===J3,a=n.includes("fa-duotone")||n.includes("fad"),f=r.familyDefault==="duotone",u=c.prefix==="fad"||c.prefix==="fa-duotone";if(!i&&(a||f||u)&&(c.prefix="fad"),(n.includes("fa-brands")||n.includes("fab"))&&(c.prefix="fab"),!c.prefix&&j9.includes(e)&&(Object.keys(l).find(p=>_9.includes(p))||r.autoFetchSvg)){let p=$s.get(e).defaultShortPrefixId;c.prefix=p,c.iconName=H2(c.prefix,c.iconName)||c.iconName}return(c.prefix==="fa"||s==="fa")&&(c.prefix=R2()||"fas"),c}var G0=class{constructor(){this.definitions={}}add(){for(var n=arguments.length,e=new Array(n),c=0;c<n;c++)e[c]=arguments[c];let s=e.reduce(this._pullDefinitions,{});Object.keys(s).forEach(l=>{this.definitions[l]=g(g({},this.definitions[l]||{}),s[l]),q0(l,s[l]);let r=n6[G][l];r&&q0(r,s[l]),bc()})}reset(){this.definitions={}}_pullDefinitions(n,e){let c=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(c).map(s=>{let{prefix:l,iconName:r,icon:i}=c[s],a=i[2];n[l]||(n[l]={}),a.length>0&&a.forEach(f=>{typeof f=="string"&&(n[l][f]=i)}),n[l][r]=i}),n}},_e=[],m1={},g1={},H9=Object.keys(g1);function W9(t,n){let{mixoutsTo:e}=n;return _e=t,m1={},Object.keys(g1).forEach(c=>{H9.indexOf(c)===-1&&delete g1[c]}),_e.forEach(c=>{let s=c.mixout?c.mixout():{};if(Object.keys(s).forEach(l=>{typeof s[l]=="function"&&(e[l]=s[l]),typeof s[l]=="object"&&Object.keys(s[l]).forEach(r=>{e[l]||(e[l]={}),e[l][r]=s[l][r]})}),c.hooks){let l=c.hooks();Object.keys(l).forEach(r=>{m1[r]||(m1[r]=[]),m1[r].push(l[r])})}c.provides&&c.provides(g1)}),e}function K0(t,n){for(var e=arguments.length,c=new Array(e>2?e-2:0),s=2;s<e;s++)c[s-2]=arguments[s];return(m1[t]||[]).forEach(r=>{n=r.apply(null,[n,...c])}),n}function $2(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),c=1;c<n;c++)e[c-1]=arguments[c];(m1[t]||[]).forEach(l=>{l.apply(null,e)})}function I2(){let t=arguments[0],n=Array.prototype.slice.call(arguments,1);return g1[t]?g1[t].apply(null,n):void 0}function X0(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:n}=t,e=t.prefix||R2();if(n)return n=H2(e,n)||n,Oe(kc.definitions,e,n)||Oe(u2.styles,e,n)}var kc=new G0,$9=()=>{w.autoReplaceSvg=!1,w.observeMutations=!1,$2("noAuto")},V9={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return M2?($2("beforeI2svg",t),I2("pseudoElements2svg",t),I2("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:n}=t;w.autoReplaceSvg===!1&&(w.autoReplaceSvg=!0),w.observeMutations=!0,x9(()=>{G9({autoReplaceSvgRoot:n}),$2("watch",t)})}},q9={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:H2(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){let n=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],e=Z3(t[0]);return{prefix:e,iconName:H2(e,n)||n}}if(typeof t=="string"&&(t.indexOf("".concat(w.cssPrefix,"-"))>-1||t.match(u9))){let n=e4(t.split(" "),{skipLookups:!0});return{prefix:n.prefix||R2(),iconName:H2(n.prefix,n.iconName)||n.iconName}}if(typeof t=="string"){let n=R2();return{prefix:n,iconName:H2(n,t)||t}}}},e2={noAuto:$9,config:w,dom:V9,parse:q9,library:kc,findIconDefinition:X0,toHtml:s3},G9=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:n=O}=t;(Object.keys(u2.styles).length>0||w.autoFetchSvg)&&M2&&w.autoReplaceSvg&&e2.dom.i2svg({node:n})};function c4(t,n){return Object.defineProperty(t,"abstract",{get:n}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(e=>s3(e))}}),Object.defineProperty(t,"node",{get:function(){if(!M2)return;let e=O.createElement("div");return e.innerHTML=t.html,e.children}}),t}function K9(t){let{children:n,main:e,mask:c,attributes:s,styles:l,transform:r}=t;if(r6(r)&&e.found&&!c.found){let{width:i,height:a}=e,f={x:i/a/2,y:.5};s.style=Q3(g(g({},l),{},{"transform-origin":"".concat(f.x+r.x/16,"em ").concat(f.y+r.y/16,"em")}))}return[{tag:"svg",attributes:s,children:n}]}function X9(t){let{prefix:n,iconName:e,children:c,attributes:s,symbol:l}=t,r=l===!0?"".concat(n,"-").concat(w.cssPrefix,"-").concat(e):l;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:g(g({},s),{},{id:r}),children:c}]}]}function o6(t){let{icons:{main:n,mask:e},prefix:c,iconName:s,transform:l,symbol:r,title:i,maskId:a,titleId:f,extra:u,watchable:d=!1}=t,{width:p,height:C}=e.found?e:n,M=Xs.includes(c),b=[w.replacementClass,s?"".concat(w.cssPrefix,"-").concat(s):""].filter(C2=>u.classes.indexOf(C2)===-1).filter(C2=>C2!==""||!!C2).concat(u.classes).join(" "),y={children:[],attributes:g(g({},u.attributes),{},{"data-prefix":c,"data-icon":s,class:b,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(C)})},T=M&&!~u.classes.indexOf("fa-fw")?{width:"".concat(p/C*16*.0625,"em")}:{};d&&(y.attributes[W2]=""),i&&(y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(f||e3())},children:[i]}),delete y.attributes.title);let U=g(g({},y),{},{prefix:c,iconName:s,main:n,mask:e,maskId:a,transform:l,symbol:r,styles:g(g({},T),u.styles)}),{children:v,attributes:Y}=e.found&&n.found?I2("generateAbstractMask",U)||{children:[],attributes:{}}:I2("generateAbstractIcon",U)||{children:[],attributes:{}};return U.children=v,U.attributes=Y,r?X9(U):K9(U)}function Be(t){let{content:n,width:e,height:c,transform:s,title:l,extra:r,watchable:i=!1}=t,a=g(g(g({},r.attributes),l?{title:l}:{}),{},{class:r.classes.join(" ")});i&&(a[W2]="");let f=g({},r.styles);r6(s)&&(f.transform=w9({transform:s,startCentered:!0,width:e,height:c}),f["-webkit-transform"]=f.transform);let u=Q3(f);u.length>0&&(a.style=u);let d=[];return d.push({tag:"span",attributes:a,children:[n]}),l&&d.push({tag:"span",attributes:{class:"sr-only"},children:[l]}),d}function Y9(t){let{content:n,title:e,extra:c}=t,s=g(g(g({},c.attributes),e?{title:e}:{}),{},{class:c.classes.join(" ")}),l=Q3(c.styles);l.length>0&&(s.style=l);let r=[];return r.push({tag:"span",attributes:s,children:[n]}),e&&r.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),r}var{styles:F0}=u2;function Y0(t){let n=t[0],e=t[1],[c]=t.slice(4),s=null;return Array.isArray(c)?s={tag:"g",attributes:{class:"".concat(w.cssPrefix,"-").concat(E0.GROUP)},children:[{tag:"path",attributes:{class:"".concat(w.cssPrefix,"-").concat(E0.SECONDARY),fill:"currentColor",d:c[0]}},{tag:"path",attributes:{class:"".concat(w.cssPrefix,"-").concat(E0.PRIMARY),fill:"currentColor",d:c[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:c}},{found:!0,width:n,height:e,icon:s}}var J9={found:!1,width:512,height:512};function Q9(t,n){!uc&&!w.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(n,'" is missing.'))}function J0(t,n){let e=n;return n==="fa"&&w.styleDefault!==null&&(n=R2()),new Promise((c,s)=>{if(e==="fa"){let l=xc(t)||{};t=l.iconName||t,n=l.prefix||n}if(t&&n&&F0[n]&&F0[n][t]){let l=F0[n][t];return c(Y0(l))}Q9(t,n),c(g(g({},J9),{},{icon:w.showMissingIcons&&t?I2("missingIconAbstract")||{}:{}}))})}var He=()=>{},Q0=w.measurePerformance&&V3&&V3.mark&&V3.measure?V3:{mark:He,measure:He},J1='FA "6.7.2"',Z9=t=>(Q0.mark("".concat(J1," ").concat(t," begins")),()=>Ac(t)),Ac=t=>{Q0.mark("".concat(J1," ").concat(t," ends")),Q0.measure("".concat(J1," ").concat(t),"".concat(J1," ").concat(t," begins"),"".concat(J1," ").concat(t," ends"))},f6={begin:Z9,end:Ac},G3=()=>{};function We(t){return typeof(t.getAttribute?t.getAttribute(W2):null)=="string"}function en(t){let n=t.getAttribute?t.getAttribute(t6):null,e=t.getAttribute?t.getAttribute(s6):null;return n&&e}function cn(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(w.replacementClass)}function tn(){return w.autoReplaceSvg===!0?K3.replace:K3[w.autoReplaceSvg]||K3.replace}function sn(t){return O.createElementNS("http://www.w3.org/2000/svg",t)}function nn(t){return O.createElement(t)}function Rc(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:e=t.tag==="svg"?sn:nn}=n;if(typeof t=="string")return O.createTextNode(t);let c=e(t.tag);return Object.keys(t.attributes||[]).forEach(function(l){c.setAttribute(l,t.attributes[l])}),(t.children||[]).forEach(function(l){c.appendChild(Rc(l,{ceFn:e}))}),c}function ln(t){let n=" ".concat(t.outerHTML," ");return n="".concat(n,"Font Awesome fontawesome.com "),n}var K3={replace:function(t){let n=t[0];if(n.parentNode)if(t[1].forEach(e=>{n.parentNode.insertBefore(Rc(e),n)}),n.getAttribute(W2)===null&&w.keepOriginalSource){let e=O.createComment(ln(n));n.parentNode.replaceChild(e,n)}else n.remove()},nest:function(t){let n=t[0],e=t[1];if(~l6(n).indexOf(w.replacementClass))return K3.replace(t);let c=new RegExp("".concat(w.cssPrefix,"-.*"));if(delete e[0].attributes.id,e[0].attributes.class){let l=e[0].attributes.class.split(" ").reduce((r,i)=>(i===w.replacementClass||i.match(c)?r.toSvg.push(i):r.toNode.push(i),r),{toNode:[],toSvg:[]});e[0].attributes.class=l.toSvg.join(" "),l.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",l.toNode.join(" "))}let s=e.map(l=>s3(l)).join(`
`);n.setAttribute(W2,""),n.innerHTML=s}};function $e(t){t()}function Ic(t,n){let e=typeof n=="function"?n:G3;if(t.length===0)e();else{let c=$e;w.mutateApproach===a9&&(c=A2.requestAnimationFrame||$e),c(()=>{let s=tn(),l=f6.begin("mutate");t.map(s),l(),e()})}}var u6=!1;function Tc(){u6=!0}function Z0(){u6=!1}var Y3=null;function Ve(t){if(!Ie||!w.observeMutations)return;let{treeCallback:n=G3,nodeCallback:e=G3,pseudoElementsCallback:c=G3,observeMutationsRoot:s=O}=t;Y3=new Ie(l=>{if(u6)return;let r=R2();L1(l).forEach(i=>{if(i.type==="childList"&&i.addedNodes.length>0&&!We(i.addedNodes[0])&&(w.searchPseudoElements&&c(i.target),n(i.target)),i.type==="attributes"&&i.target.parentNode&&w.searchPseudoElements&&c(i.target.parentNode),i.type==="attributes"&&We(i.target)&&~p9.indexOf(i.attributeName))if(i.attributeName==="class"&&en(i.target)){let{prefix:a,iconName:f}=e4(l6(i.target));i.target.setAttribute(t6,a||r),f&&i.target.setAttribute(s6,f)}else cn(i.target)&&e(i.target)})}),M2&&Y3.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function rn(){Y3&&Y3.disconnect()}function an(t){let n=t.getAttribute("style"),e=[];return n&&(e=n.split(";").reduce((c,s)=>{let l=s.split(":"),r=l[0],i=l.slice(1);return r&&i.length>0&&(c[r]=i.join(":").trim()),c},{})),e}function on(t){let n=t.getAttribute("data-prefix"),e=t.getAttribute("data-icon"),c=t.innerText!==void 0?t.innerText.trim():"",s=e4(l6(t));return s.prefix||(s.prefix=R2()),n&&e&&(s.prefix=n,s.iconName=e),s.iconName&&s.prefix||(s.prefix&&c.length>0&&(s.iconName=D9(s.prefix,t.innerText)||a6(s.prefix,V0(t.innerText))),!s.iconName&&w.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function fn(t){let n=L1(t.attributes).reduce((s,l)=>(s.name!=="class"&&s.name!=="style"&&(s[l.name]=l.value),s),{}),e=t.getAttribute("title"),c=t.getAttribute("data-fa-title-id");return w.autoA11y&&(e?n["aria-labelledby"]="".concat(w.replacementClass,"-title-").concat(c||e3()):(n["aria-hidden"]="true",n.focusable="false")),n}function un(){return{iconName:null,title:null,titleId:null,prefix:null,transform:f2,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function qe(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:e,prefix:c,rest:s}=on(t),l=fn(t),r=K0("parseNodeAttributes",{},t),i=n.styleParser?an(t):[];return g({iconName:e,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:c,transform:f2,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:i,attributes:l}},r)}var{styles:dn}=u2;function Ec(t){let n=w.autoReplaceSvg==="nest"?qe(t,{styleParser:!1}):qe(t);return~n.extra.classes.indexOf(hc)?I2("generateLayersText",t,n):I2("generateSvgReplacementMutation",t,n)}function hn(){return[...qs,...j0]}function Ge(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!M2)return Promise.resolve();let e=O.documentElement.classList,c=u=>e.add("".concat(De,"-").concat(u)),s=u=>e.remove("".concat(De,"-").concat(u)),l=w.autoFetchSvg?hn():rc.concat(Object.keys(dn));l.includes("fa")||l.push("fa");let r=[".".concat(hc,":not([").concat(W2,"])")].concat(l.map(u=>".".concat(u,":not([").concat(W2,"])"))).join(", ");if(r.length===0)return Promise.resolve();let i=[];try{i=L1(t.querySelectorAll(r))}catch{}if(i.length>0)c("pending"),s("complete");else return Promise.resolve();let a=f6.begin("onTree"),f=i.reduce((u,d)=>{try{let p=Ec(d);p&&u.push(p)}catch(p){uc||p.name==="MissingIcon"&&console.error(p)}return u},[]);return new Promise((u,d)=>{Promise.all(f).then(p=>{Ic(p,()=>{c("active"),c("complete"),s("pending"),typeof n=="function"&&n(),a(),u()})}).catch(p=>{a(),d(p)})})}function pn(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Ec(t).then(e=>{e&&Ic([e],n)})}function mn(t){return function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=(n||{}).icon?n:X0(n||{}),{mask:s}=e;return s&&(s=(s||{}).icon?s:X0(s||{})),t(c,g(g({},e),{},{mask:s}))}}var gn=function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:e=f2,symbol:c=!1,mask:s=null,maskId:l=null,title:r=null,titleId:i=null,classes:a=[],attributes:f={},styles:u={}}=n;if(!t)return;let{prefix:d,iconName:p,icon:C}=t;return c4(g({type:"icon"},t),()=>($2("beforeDOMElementCreation",{iconDefinition:t,params:n}),w.autoA11y&&(r?f["aria-labelledby"]="".concat(w.replacementClass,"-title-").concat(i||e3()):(f["aria-hidden"]="true",f.focusable="false")),o6({icons:{main:Y0(C),mask:s?Y0(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:p,transform:g(g({},f2),e),symbol:c,title:r,maskId:l,titleId:i,extra:{attributes:f,styles:u,classes:a}})))},zn={mixout(){return{icon:mn(gn)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=Ge,t.nodeCallback=pn,t}}},provides(t){t.i2svg=function(n){let{node:e=O,callback:c=()=>{}}=n;return Ge(e,c)},t.generateSvgReplacementMutation=function(n,e){let{iconName:c,title:s,titleId:l,prefix:r,transform:i,symbol:a,mask:f,maskId:u,extra:d}=e;return new Promise((p,C)=>{Promise.all([J0(c,r),f.iconName?J0(f.iconName,f.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(M=>{let[b,y]=M;p([n,o6({icons:{main:b,mask:y},prefix:r,iconName:c,transform:i,symbol:a,maskId:u,title:s,titleId:l,extra:d,watchable:!0})])}).catch(C)})},t.generateAbstractIcon=function(n){let{children:e,attributes:c,main:s,transform:l,styles:r}=n,i=Q3(r);i.length>0&&(c.style=i);let a;return r6(l)&&(a=I2("generateAbstractTransformGrouping",{main:s,transform:l,containerWidth:s.width,iconWidth:s.width})),e.push(a||s.icon),{children:e,attributes:c}}}},Ln={mixout(){return{layer(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:e=[]}=n;return c4({type:"layer"},()=>{$2("beforeDOMElementCreation",{assembler:t,params:n});let c=[];return t(s=>{Array.isArray(s)?s.map(l=>{c=c.concat(l.abstract)}):c=c.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(w.cssPrefix,"-layers"),...e].join(" ")},children:c}]})}}}},Mn={mixout(){return{counter(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:e=null,classes:c=[],attributes:s={},styles:l={}}=n;return c4({type:"counter",content:t},()=>($2("beforeDOMElementCreation",{content:t,params:n}),Y9({content:t.toString(),title:e,extra:{attributes:s,styles:l,classes:["".concat(w.cssPrefix,"-layers-counter"),...c]}})))}}}},Cn={mixout(){return{text(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:e=f2,title:c=null,classes:s=[],attributes:l={},styles:r={}}=n;return c4({type:"text",content:t},()=>($2("beforeDOMElementCreation",{content:t,params:n}),Be({content:t,transform:g(g({},f2),e),title:c,extra:{attributes:l,styles:r,classes:["".concat(w.cssPrefix,"-layers-text"),...s]}})))}}},provides(t){t.generateLayersText=function(n,e){let{title:c,transform:s,extra:l}=e,r=null,i=null;if(nc){let a=parseInt(getComputedStyle(n).fontSize,10),f=n.getBoundingClientRect();r=f.width/a,i=f.height/a}return w.autoA11y&&!c&&(l.attributes["aria-hidden"]="true"),Promise.resolve([n,Be({content:n.innerHTML,width:r,height:i,transform:s,title:c,extra:l,watchable:!0})])}}},vn=new RegExp('"',"ug"),Ke=[1105920,1112319],Xe=g(g(g(g({},{FontAwesome:{normal:"fas",400:"fas"}}),Ws),r9),Zs),e6=Object.keys(Xe).reduce((t,n)=>(t[n.toLowerCase()]=Xe[n],t),{}),Sn=Object.keys(e6).reduce((t,n)=>{let e=e6[n];return t[n]=e[900]||[...Object.entries(e)][0][1],t},{});function wn(t){let n=t.replace(vn,""),e=A9(n,0),c=e>=Ke[0]&&e<=Ke[1],s=n.length===2?n[0]===n[1]:!1;return{value:V0(s?n[0]:n),isSecondary:c||s}}function yn(t,n){let e=t.replace(/^['"]|['"]$/g,"").toLowerCase(),c=parseInt(n),s=isNaN(c)?"normal":c;return(e6[e]||{})[s]||Sn[e]}function Ye(t,n){let e="".concat(i9).concat(n.replace(":","-"));return new Promise((c,s)=>{if(t.getAttribute(e)!==null)return c();let r=L1(t.children).filter(p=>p.getAttribute(B0)===n)[0],i=A2.getComputedStyle(t,n),a=i.getPropertyValue("font-family"),f=a.match(d9),u=i.getPropertyValue("font-weight"),d=i.getPropertyValue("content");if(r&&!f)return t.removeChild(r),c();if(f&&d!=="none"&&d!==""){let p=i.getPropertyValue("content"),C=yn(a,u),{value:M,isSecondary:b}=wn(p),y=f[0].startsWith("FontAwesome"),T=a6(C,M),U=T;if(y){let v=P9(M);v.iconName&&v.prefix&&(T=v.iconName,C=v.prefix)}if(T&&!b&&(!r||r.getAttribute(t6)!==C||r.getAttribute(s6)!==U)){t.setAttribute(e,U),r&&t.removeChild(r);let v=un(),{extra:Y}=v;Y.attributes[B0]=n,J0(T,C).then(C2=>{let t4=o6(g(g({},v),{},{icons:{main:C2,mask:Nc()},prefix:C,iconName:U,extra:Y,watchable:!0})),s4=O.createElementNS("http://www.w3.org/2000/svg","svg");n==="::before"?t.insertBefore(s4,t.firstChild):t.appendChild(s4),s4.outerHTML=t4.map(_c=>s3(_c)).join(`
`),t.removeAttribute(e),c()}).catch(s)}else c()}else c()})}function bn(t){return Promise.all([Ye(t,"::before"),Ye(t,"::after")])}function xn(t){return t.parentNode!==document.head&&!~o9.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(B0)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function Je(t){if(M2)return new Promise((n,e)=>{let c=L1(t.querySelectorAll("*")).filter(xn).map(bn),s=f6.begin("searchPseudoElements");Tc(),Promise.all(c).then(()=>{s(),Z0(),n()}).catch(()=>{s(),Z0(),e()})})}var Nn={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=Je,t}}},provides(t){t.pseudoElements2svg=function(n){let{node:e=O}=n;w.searchPseudoElements&&Je(e)}}},Qe=!1,kn={mixout(){return{dom:{unwatch(){Tc(),Qe=!0}}}},hooks(){return{bootstrap(){Ve(K0("mutationObserverCallbacks",{}))},noAuto(){rn()},watch(t){let{observeMutationsRoot:n}=t;Qe?Z0():Ve(K0("mutationObserverCallbacks",{observeMutationsRoot:n}))}}}},Ze=t=>{let n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((e,c)=>{let s=c.toLowerCase().split("-"),l=s[0],r=s.slice(1).join("-");if(l&&r==="h")return e.flipX=!0,e;if(l&&r==="v")return e.flipY=!0,e;if(r=parseFloat(r),isNaN(r))return e;switch(l){case"grow":e.size=e.size+r;break;case"shrink":e.size=e.size-r;break;case"left":e.x=e.x-r;break;case"right":e.x=e.x+r;break;case"up":e.y=e.y-r;break;case"down":e.y=e.y+r;break;case"rotate":e.rotate=e.rotate+r;break}return e},n)},An={mixout(){return{parse:{transform:t=>Ze(t)}}},hooks(){return{parseNodeAttributes(t,n){let e=n.getAttribute("data-fa-transform");return e&&(t.transform=Ze(e)),t}}},provides(t){t.generateAbstractTransformGrouping=function(n){let{main:e,transform:c,containerWidth:s,iconWidth:l}=n,r={transform:"translate(".concat(s/2," 256)")},i="translate(".concat(c.x*32,", ").concat(c.y*32,") "),a="scale(".concat(c.size/16*(c.flipX?-1:1),", ").concat(c.size/16*(c.flipY?-1:1),") "),f="rotate(".concat(c.rotate," 0 0)"),u={transform:"".concat(i," ").concat(a," ").concat(f)},d={transform:"translate(".concat(l/2*-1," -256)")},p={outer:r,inner:u,path:d};return{tag:"g",attributes:g({},p.outer),children:[{tag:"g",attributes:g({},p.inner),children:[{tag:e.icon.tag,children:e.icon.children,attributes:g(g({},e.icon.attributes),p.path)}]}]}}}},O0={x:0,y:0,width:"100%",height:"100%"};function ec(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||n)&&(t.attributes.fill="black"),t}function Rn(t){return t.tag==="g"?t.children:[t]}var In={hooks(){return{parseNodeAttributes(t,n){let e=n.getAttribute("data-fa-mask"),c=e?e4(e.split(" ").map(s=>s.trim())):Nc();return c.prefix||(c.prefix=R2()),t.mask=c,t.maskId=n.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(n){let{children:e,attributes:c,main:s,mask:l,maskId:r,transform:i}=n,{width:a,icon:f}=s,{width:u,icon:d}=l,p=S9({transform:i,containerWidth:u,iconWidth:a}),C={tag:"rect",attributes:g(g({},O0),{},{fill:"white"})},M=f.children?{children:f.children.map(ec)}:{},b={tag:"g",attributes:g({},p.inner),children:[ec(g({tag:f.tag,attributes:g(g({},f.attributes),p.path)},M))]},y={tag:"g",attributes:g({},p.outer),children:[b]},T="mask-".concat(r||e3()),U="clip-".concat(r||e3()),v={tag:"mask",attributes:g(g({},O0),{},{id:T,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[C,y]},Y={tag:"defs",children:[{tag:"clipPath",attributes:{id:U},children:Rn(d)},v]};return e.push(Y,{tag:"rect",attributes:g({fill:"currentColor","clip-path":"url(#".concat(U,")"),mask:"url(#".concat(T,")")},O0)}),{children:e,attributes:c}}}},Tn={provides(t){let n=!1;A2.matchMedia&&(n=A2.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){let e=[],c={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:g(g({},c),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let l=g(g({},s),{},{attributeName:"opacity"}),r={tag:"circle",attributes:g(g({},c),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||r.children.push({tag:"animate",attributes:g(g({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:g(g({},l),{},{values:"1;0;1;1;0;1;"})}),e.push(r),e.push({tag:"path",attributes:g(g({},c),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:g(g({},l),{},{values:"1;0;0;0;0;1;"})}]}),n||e.push({tag:"path",attributes:g(g({},c),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:g(g({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},En={hooks(){return{parseNodeAttributes(t,n){let e=n.getAttribute("data-fa-symbol"),c=e===null?!1:e===""?!0:e;return t.symbol=c,t}}}},Dn=[b9,zn,Ln,Mn,Cn,Nn,kn,An,In,Tn,En];W9(Dn,{mixoutsTo:e2});var Zr=e2.noAuto,Dc=e2.config,ei=e2.library,Pc=e2.dom,Fc=e2.parse,ci=e2.findIconDefinition,ti=e2.toHtml,Oc=e2.icon,si=e2.layer,Pn=e2.text,Fn=e2.counter;var On=["*"],Un=t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)},jn=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},jc=t=>t!=null&&(t===90||t===180||t===270||t==="90"||t==="180"||t==="270"),_n=t=>{let n=jc(t.rotate),e={[`fa-${t.animation}`]:t.animation!=null&&!t.animation.startsWith("spin"),"fa-spin":t.animation==="spin"||t.animation==="spin-reverse","fa-spin-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-spin-reverse":t.animation==="spin-reverse"||t.animation==="spin-pulse-reverse","fa-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both",[`fa-${t.size}`]:t.size!==null,[`fa-rotate-${t.rotate}`]:n,"fa-rotate-by":t.rotate!=null&&!n,[`fa-pull-${t.pull}`]:t.pull!==null,[`fa-stack-${t.stackItemSize}`]:t.stackItemSize!=null};return Object.keys(e).map(c=>e[c]?c:null).filter(c=>c)},d6=new WeakSet,Uc="fa-auto-css";function Bn(t,n){if(!n.autoAddCss||d6.has(t))return;if(t.getElementById(Uc)!=null){n.autoAddCss=!1,d6.add(t);return}let e=t.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("id",Uc),e.innerHTML=Pc.css();let c=t.head.childNodes,s=null;for(let l=c.length-1;l>-1;l--){let r=c[l],i=r.nodeName.toUpperCase();["STYLE","LINK"].indexOf(i)>-1&&(s=r)}t.head.insertBefore(e,s),n.autoAddCss=!1,d6.add(t)}var Hn=t=>t.prefix!==void 0&&t.iconName!==void 0,Wn=(t,n)=>Hn(t)?t:Array.isArray(t)&&t.length===2?{prefix:t[0],iconName:t[1]}:{prefix:n,iconName:t},$n=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this._autoAddCss=!0}set autoAddCss(e){Dc.autoAddCss=e,this._autoAddCss=e}get autoAddCss(){return this._autoAddCss}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Vn=(()=>{class t{constructor(){this.definitions={}}addIcons(...e){for(let c of e){c.prefix in this.definitions||(this.definitions[c.prefix]={}),this.definitions[c.prefix][c.iconName]=c;for(let s of c.icon[2])typeof s=="string"&&(this.definitions[c.prefix][s]=c)}}addIconPacks(...e){for(let c of e){let s=Object.keys(c).map(l=>c[l]);this.addIcons(...s)}}getIconDefinition(e,c){return e in this.definitions&&c in this.definitions[e]?this.definitions[e][c]:null}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qn=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275dir=o3({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[X2]})}}return t})(),Gn=(()=>{class t{constructor(e,c){this.renderer=e,this.elementRef=c}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(e){"size"in e&&(e.size.currentValue!=null&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${e.size.currentValue}`),e.size.previousValue!=null&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${e.size.previousValue}`))}static{this.\u0275fac=function(c){return new(c||t)(p2(g4),p2(d4))}}static{this.\u0275cmp=y1({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[X2],ngContentSelectors:On,decls:1,vars:0,template:function(c,s){c&1&&(G6(),K6(0))},encapsulation:2})}}return t})(),zi=(()=>{class t{constructor(e,c,s,l,r){this.sanitizer=e,this.config=c,this.iconLibrary=s,this.stackItem=l,this.document=o(P),r!=null&&l==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(e){if(this.icon==null&&this.config.fallbackIcon==null){jn();return}if(e){let c=this.findIconDefinition(this.icon??this.config.fallbackIcon);if(c!=null){let s=this.buildParams();Bn(this.document,this.config);let l=Oc(c,s);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(l.html.join(`
`))}}}render(){this.ngOnChanges({})}findIconDefinition(e){let c=Wn(e,this.config.defaultPrefix);if("icon"in c)return c;let s=this.iconLibrary.getIconDefinition(c.prefix,c.iconName);return s??(Un(c),null)}buildParams(){let e={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:typeof this.fixedWidth=="boolean"?this.fixedWidth:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize:null},c=typeof this.transform=="string"?Fc.transform(this.transform):this.transform,s={};return e.rotate!=null&&!jc(e.rotate)&&(s["--fa-rotate-angle"]=`${e.rotate}`),{title:this.title,transform:c,classes:_n(e),mask:this.mask!=null?this.findIconDefinition(this.mask):null,symbol:this.symbol,attributes:{role:this.a11yRole},styles:s}}static{this.\u0275fac=function(c){return new(c||t)(p2(U4),p2($n),p2(Vn),p2(qn,8),p2(Gn,8))}}static{this.\u0275cmp=y1({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(c,s){c&2&&(q6("innerHTML",s.renderedIconHTML,_6),C4("title",s.title))},inputs:{icon:"icon",title:"title",animation:"animation",mask:"mask",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[X2],decls:0,vars:0,template:function(c,s){},encapsulation:2})}}return t})();var Li=(()=>{class t{static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275mod=Q2({type:t})}static{this.\u0275inj=G2({})}}return t})();var Ci={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]};var vi={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M352 256c0 22.2-1.2 43.6-3.3 64l-185.3 0c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64l185.3 0c2.2 20.4 3.3 41.8 3.3 64zm28.8-64l123.1 0c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64l-123.1 0c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32l-116.7 0c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0l-176.6 0c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 20.9 58.2 27 94.7zm-209 0L18.6 160C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192l123.1 0c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64L8.1 320C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6l176.6 0c-6.1 36.4-15.5 68.6-27 94.6c-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6C112.2 482.9 48.6 426.1 18.6 352l116.7 0zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6c25.5-34.2 45.2-87.7 55.3-151.6l116.7 0z"]};var Si={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]};var wi={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]};var yi={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]};var bi={prefix:"fas",iconName:"briefcase",icon:[512,512,[128188],"f0b1","M184 48l144 0c4.4 0 8 3.6 8 8l0 40L176 96l0-40c0-4.4 3.6-8 8-8zm-56 8l0 40L64 96C28.7 96 0 124.7 0 160l0 96 192 0 128 0 192 0 0-96c0-35.3-28.7-64-64-64l-64 0 0-40c0-30.9-25.1-56-56-56L184 0c-30.9 0-56 25.1-56 56zM512 288l-192 0 0 32c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32l0-32L0 288 0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-128z"]};export{u5 as a,fl as b,z8 as c,Dl as d,d7 as e,j2 as f,Lr as g,zi as h,Li as i,Ci as j,vi as k,Si as l,wi as m,yi as n,bi as o,me as p,ks as q,Wr as r,$r as s,Vr as t,qr as u,Gr as v};
