import{a as W2,b as _1,c as J0,d as Z0,e as c6,j as e6,k as t6}from"./chunk-6FS6Z3IS.js";import{d as $,e as q1,n as Q0}from"./chunk-QB22PHA6.js";import{$ as o,$a as W0,A as F2,B as I,C as N,Cb as G0,Db as K0,E as D3,F as e2,G as y0,H as U2,I as z2,J as T3,K as N0,L as O2,M as F1,N as k0,Na as F0,O as A0,P as k,Q as R0,R,Rb as B3,S as H,Ua as U0,V as z,Va as H3,Vb as Y0,W as U1,Wa as f2,Wb as $3,X as I0,Y as K,Ya as O0,Z as P3,Zb as X0,_ as E3,_a as H0,a as L,aa as O1,ab as a1,b as W,bb as B1,ca as H1,cb as $1,d as g0,da as o2,e as M0,ea as D0,f as n1,fa as H2,g as k3,gb as j0,h as A3,hb as B0,i as c2,ia as W1,j as B,ja as F3,jb as W3,k as C0,ka as l1,kb as $0,l as r2,lb as q0,m as _,ma as T0,mb as j3,n as h,na as i1,o as C,oa as j1,p as v0,q as S0,r as x0,ra as P0,s as w0,sa as U3,t as M,tb as _0,u as R3,ua as O3,v as O,w as b0,x as I3,xb as V0,y as E2,ya as E0,z as E1}from"./chunk-EVEHX6CZ.js";var w="primary",x1=Symbol("RouteTitle"),K3=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let c=this.params[n];return Array.isArray(c)?c[0]:c}return null}getAll(n){if(this.has(n)){let c=this.params[n];return Array.isArray(c)?c:[c]}return[]}get keys(){return Object.keys(this.params)}};function V2(t){return new K3(t)}function v5(t,n,c){let e=c.path.split("/");if(e.length>t.length||c.pathMatch==="full"&&(n.hasChildren()||e.length<t.length))return null;let s={};for(let l=0;l<e.length;l++){let i=e[l],a=t[l];if(i[0]===":")s[i.substring(1)]=a;else if(i!==a.path)return null}return{consumed:t.slice(0,e.length),posParams:s}}function S5(t,n){if(t.length!==n.length)return!1;for(let c=0;c<t.length;++c)if(!s2(t[c],n[c]))return!1;return!0}function s2(t,n){let c=t?Y3(t):void 0,e=n?Y3(n):void 0;if(!c||!e||c.length!=e.length)return!1;let s;for(let l=0;l<c.length;l++)if(s=c[l],!u6(t[s],n[s]))return!1;return!0}function Y3(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function u6(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let c=[...t].sort(),e=[...n].sort();return c.every((s,l)=>e[l]===s)}else return t===n}function d6(t){return t.length>0?t[t.length-1]:null}function L2(t){return v0(t)?t:B0(t)?_(Promise.resolve(t)):h(t)}var x5={exact:m6,subset:p6},h6={exact:w5,subset:b5,ignored:()=>!0};function s6(t,n,c){return x5[c.paths](t.root,n.root,c.matrixParams)&&h6[c.queryParams](t.queryParams,n.queryParams)&&!(c.fragment==="exact"&&t.fragment!==n.fragment)}function w5(t,n){return s2(t,n)}function m6(t,n,c){if(!b2(t.segments,n.segments)||!K1(t.segments,n.segments,c)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let e in n.children)if(!t.children[e]||!m6(t.children[e],n.children[e],c))return!1;return!0}function b5(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(c=>u6(t[c],n[c]))}function p6(t,n,c){return z6(t,n,n.segments,c)}function z6(t,n,c,e){if(t.segments.length>c.length){let s=t.segments.slice(0,c.length);return!(!b2(s,c)||n.hasChildren()||!K1(s,c,e))}else if(t.segments.length===c.length){if(!b2(t.segments,c)||!K1(t.segments,c,e))return!1;for(let s in n.children)if(!t.children[s]||!p6(t.children[s],n.children[s],e))return!1;return!0}else{let s=c.slice(0,t.segments.length),l=c.slice(t.segments.length);return!b2(t.segments,s)||!K1(t.segments,s,e)||!t.children[w]?!1:z6(t.children[w],n,l,e)}}function K1(t,n,c){return n.every((e,s)=>h6[c](t[s].parameters,e.parameters))}var d2=class{root;queryParams;fragment;_queryParamMap;constructor(n=new A([],{}),c={},e=null){this.root=n,this.queryParams=c,this.fragment=e}get queryParamMap(){return this._queryParamMap??=V2(this.queryParams),this._queryParamMap}toString(){return k5.serialize(this)}},A=class{segments;children;parent=null;constructor(n,c){this.segments=n,this.children=c,Object.values(c).forEach(e=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Y1(this)}},w2=class{path;parameters;_parameterMap;constructor(n,c){this.path=n,this.parameters=c}get parameterMap(){return this._parameterMap??=V2(this.parameters),this._parameterMap}toString(){return g6(this)}};function y5(t,n){return b2(t,n)&&t.every((c,e)=>s2(c.parameters,n[e].parameters))}function b2(t,n){return t.length!==n.length?!1:t.every((c,e)=>c.path===n[e].path)}function N5(t,n){let c=[];return Object.entries(t.children).forEach(([e,s])=>{e===w&&(c=c.concat(n(s,e)))}),Object.entries(t.children).forEach(([e,s])=>{e!==w&&(c=c.concat(n(s,e)))}),c}var v4=(()=>{class t{static \u0275fac=function(e){return new(e||t)};static \u0275prov=z({token:t,factory:()=>new h1,providedIn:"root"})}return t})(),h1=class{parse(n){let c=new Q3(n);return new d2(c.parseRootSegment(),c.parseQueryParams(),c.parseFragment())}serialize(n){let c=`/${r1(n.root,!0)}`,e=I5(n.queryParams),s=typeof n.fragment=="string"?`#${A5(n.fragment)}`:"";return`${c}${e}${s}`}},k5=new h1;function Y1(t){return t.segments.map(n=>g6(n)).join("/")}function r1(t,n){if(!t.hasChildren())return Y1(t);if(n){let c=t.children[w]?r1(t.children[w],!1):"",e=[];return Object.entries(t.children).forEach(([s,l])=>{s!==w&&e.push(`${s}:${r1(l,!1)}`)}),e.length>0?`${c}(${e.join("//")})`:c}else{let c=N5(t,(e,s)=>s===w?[r1(t.children[w],!1)]:[`${s}:${r1(e,!1)}`]);return Object.keys(t.children).length===1&&t.children[w]!=null?`${Y1(t)}/${c[0]}`:`${Y1(t)}/(${c.join("//")})`}}function L6(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function V1(t){return L6(t).replace(/%3B/gi,";")}function A5(t){return encodeURI(t)}function X3(t){return L6(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function X1(t){return decodeURIComponent(t)}function n6(t){return X1(t.replace(/\+/g,"%20"))}function g6(t){return`${X3(t.path)}${R5(t.parameters)}`}function R5(t){return Object.entries(t).map(([n,c])=>`;${X3(n)}=${X3(c)}`).join("")}function I5(t){let n=Object.entries(t).map(([c,e])=>Array.isArray(e)?e.map(s=>`${V1(c)}=${V1(s)}`).join("&"):`${V1(c)}=${V1(e)}`).filter(c=>c);return n.length?`?${n.join("&")}`:""}var D5=/^[^\/()?;#]+/;function q3(t){let n=t.match(D5);return n?n[0]:""}var T5=/^[^\/()?;=#]+/;function P5(t){let n=t.match(T5);return n?n[0]:""}var E5=/^[^=?&#]+/;function F5(t){let n=t.match(E5);return n?n[0]:""}var U5=/^[^&#]+/;function O5(t){let n=t.match(U5);return n?n[0]:""}var Q3=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new A([],{}):new A([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let c={};this.peekStartsWith("/(")&&(this.capture("/"),c=this.parseParens(!0));let e={};return this.peekStartsWith("(")&&(e=this.parseParens(!1)),(n.length>0||Object.keys(c).length>0)&&(e[w]=new A(n,c)),e}parseSegment(){let n=q3(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(n),new w2(X1(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let c=P5(this.remaining);if(!c)return;this.capture(c);let e="";if(this.consumeOptional("=")){let s=q3(this.remaining);s&&(e=s,this.capture(e))}n[X1(c)]=X1(e)}parseQueryParam(n){let c=F5(this.remaining);if(!c)return;this.capture(c);let e="";if(this.consumeOptional("=")){let i=O5(this.remaining);i&&(e=i,this.capture(e))}let s=n6(c),l=n6(e);if(n.hasOwnProperty(s)){let i=n[s];Array.isArray(i)||(i=[i],n[s]=i),i.push(l)}else n[s]=l}parseParens(n){let c={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let e=q3(this.remaining),s=this.remaining[e.length];if(s!=="/"&&s!==")"&&s!==";")throw new H(4010,!1);let l;e.indexOf(":")>-1?(l=e.slice(0,e.indexOf(":")),this.capture(l),this.capture(":")):n&&(l=w);let i=this.parseChildren();c[l]=Object.keys(i).length===1?i[w]:new A([],i),this.consumeOptional("//")}return c}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new H(4011,!1)}};function M6(t){return t.segments.length>0?new A([],{[w]:t}):t}function C6(t){let n={};for(let[e,s]of Object.entries(t.children)){let l=C6(s);if(e===w&&l.segments.length===0&&l.hasChildren())for(let[i,a]of Object.entries(l.children))n[i]=a;else(l.segments.length>0||l.hasChildren())&&(n[e]=l)}let c=new A(t.segments,n);return H5(c)}function H5(t){if(t.numberOfChildren===1&&t.children[w]){let n=t.children[w];return new A(t.segments.concat(n.segments),n.children)}return t}function m1(t){return t instanceof d2}function W5(t,n,c=null,e=null){let s=v6(t);return S6(s,n,c,e)}function v6(t){let n;function c(l){let i={};for(let r of l.children){let f=c(r);i[r.outlet]=f}let a=new A(l.url,i);return l===t&&(n=a),a}let e=c(t.root),s=M6(e);return n??s}function S6(t,n,c,e){let s=t;for(;s.parent;)s=s.parent;if(n.length===0)return _3(s,s,s,c,e);let l=j5(n);if(l.toRoot())return _3(s,s,new A([],{}),c,e);let i=B5(l,s,t),a=i.processChildren?f1(i.segmentGroup,i.index,l.commands):w6(i.segmentGroup,i.index,l.commands);return _3(s,i.segmentGroup,a,c,e)}function Q1(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function p1(t){return typeof t=="object"&&t!=null&&t.outlets}function _3(t,n,c,e,s){let l={};e&&Object.entries(e).forEach(([r,f])=>{l[r]=Array.isArray(f)?f.map(u=>`${u}`):`${f}`});let i;t===n?i=c:i=x6(t,n,c);let a=M6(C6(i));return new d2(a,l,s)}function x6(t,n,c){let e={};return Object.entries(t.children).forEach(([s,l])=>{l===n?e[s]=c:e[s]=x6(l,n,c)}),new A(t.segments,e)}var J1=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,c,e){if(this.isAbsolute=n,this.numberOfDoubleDots=c,this.commands=e,n&&e.length>0&&Q1(e[0]))throw new H(4003,!1);let s=e.find(p1);if(s&&s!==d6(e))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function j5(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new J1(!0,0,t);let n=0,c=!1,e=t.reduce((s,l,i)=>{if(typeof l=="object"&&l!=null){if(l.outlets){let a={};return Object.entries(l.outlets).forEach(([r,f])=>{a[r]=typeof f=="string"?f.split("/"):f}),[...s,{outlets:a}]}if(l.segmentPath)return[...s,l.segmentPath]}return typeof l!="string"?[...s,l]:i===0?(l.split("/").forEach((a,r)=>{r==0&&a==="."||(r==0&&a===""?c=!0:a===".."?n++:a!=""&&s.push(a))}),s):[...s,l]},[]);return new J1(c,n,e)}var $2=class{segmentGroup;processChildren;index;constructor(n,c,e){this.segmentGroup=n,this.processChildren=c,this.index=e}};function B5(t,n,c){if(t.isAbsolute)return new $2(n,!0,0);if(!c)return new $2(n,!1,NaN);if(c.parent===null)return new $2(c,!0,0);let e=Q1(t.commands[0])?0:1,s=c.segments.length-1+e;return $5(c,s,t.numberOfDoubleDots)}function $5(t,n,c){let e=t,s=n,l=c;for(;l>s;){if(l-=s,e=e.parent,!e)throw new H(4005,!1);s=e.segments.length}return new $2(e,!1,s-l)}function q5(t){return p1(t[0])?t[0].outlets:{[w]:t}}function w6(t,n,c){if(t??=new A([],{}),t.segments.length===0&&t.hasChildren())return f1(t,n,c);let e=_5(t,n,c),s=c.slice(e.commandIndex);if(e.match&&e.pathIndex<t.segments.length){let l=new A(t.segments.slice(0,e.pathIndex),{});return l.children[w]=new A(t.segments.slice(e.pathIndex),t.children),f1(l,0,s)}else return e.match&&s.length===0?new A(t.segments,{}):e.match&&!t.hasChildren()?J3(t,n,c):e.match?f1(t,0,s):J3(t,n,c)}function f1(t,n,c){if(c.length===0)return new A(t.segments,{});{let e=q5(c),s={};if(Object.keys(e).some(l=>l!==w)&&t.children[w]&&t.numberOfChildren===1&&t.children[w].segments.length===0){let l=f1(t.children[w],n,c);return new A(t.segments,l.children)}return Object.entries(e).forEach(([l,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(s[l]=w6(t.children[l],n,i))}),Object.entries(t.children).forEach(([l,i])=>{e[l]===void 0&&(s[l]=i)}),new A(t.segments,s)}}function _5(t,n,c){let e=0,s=n,l={match:!1,pathIndex:0,commandIndex:0};for(;s<t.segments.length;){if(e>=c.length)return l;let i=t.segments[s],a=c[e];if(p1(a))break;let r=`${a}`,f=e<c.length-1?c[e+1]:null;if(s>0&&r===void 0)break;if(r&&f&&typeof f=="object"&&f.outlets===void 0){if(!i6(r,f,i))return l;e+=2}else{if(!i6(r,{},i))return l;e++}s++}return{match:!0,pathIndex:s,commandIndex:e}}function J3(t,n,c){let e=t.segments.slice(0,n),s=0;for(;s<c.length;){let l=c[s];if(p1(l)){let r=V5(l.outlets);return new A(e,r)}if(s===0&&Q1(c[0])){let r=t.segments[n];e.push(new w2(r.path,l6(c[0]))),s++;continue}let i=p1(l)?l.outlets[w]:`${l}`,a=s<c.length-1?c[s+1]:null;i&&a&&Q1(a)?(e.push(new w2(i,l6(a))),s+=2):(e.push(new w2(i,{})),s++)}return new A(e,{})}function V5(t){let n={};return Object.entries(t).forEach(([c,e])=>{typeof e=="string"&&(e=[e]),e!==null&&(n[c]=J3(new A([],{}),0,e))}),n}function l6(t){let n={};return Object.entries(t).forEach(([c,e])=>n[c]=`${e}`),n}function i6(t,n,c){return t==c.path&&s2(n,c.parameters)}var u1="imperative",j=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(j||{}),J=class{id;url;constructor(n,c){this.id=n,this.url=c}},z1=class extends J{type=j.NavigationStart;navigationTrigger;restoredState;constructor(n,c,e="imperative",s=null){super(n,c),this.navigationTrigger=e,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},y2=class extends J{urlAfterRedirects;type=j.NavigationEnd;constructor(n,c,e){super(n,c),this.urlAfterRedirects=e}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},X=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(X||{}),Z3=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Z3||{}),u2=class extends J{reason;code;type=j.NavigationCancel;constructor(n,c,e,s){super(n,c),this.reason=e,this.code=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},N2=class extends J{reason;code;type=j.NavigationSkipped;constructor(n,c,e,s){super(n,c),this.reason=e,this.code=s}},L1=class extends J{error;target;type=j.NavigationError;constructor(n,c,e,s){super(n,c),this.error=e,this.target=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Z1=class extends J{urlAfterRedirects;state;type=j.RoutesRecognized;constructor(n,c,e,s){super(n,c),this.urlAfterRedirects=e,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},c4=class extends J{urlAfterRedirects;state;type=j.GuardsCheckStart;constructor(n,c,e,s){super(n,c),this.urlAfterRedirects=e,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},e4=class extends J{urlAfterRedirects;state;shouldActivate;type=j.GuardsCheckEnd;constructor(n,c,e,s,l){super(n,c),this.urlAfterRedirects=e,this.state=s,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},t4=class extends J{urlAfterRedirects;state;type=j.ResolveStart;constructor(n,c,e,s){super(n,c),this.urlAfterRedirects=e,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},s4=class extends J{urlAfterRedirects;state;type=j.ResolveEnd;constructor(n,c,e,s){super(n,c),this.urlAfterRedirects=e,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},n4=class{route;type=j.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},l4=class{route;type=j.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},i4=class{snapshot;type=j.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},a4=class{snapshot;type=j.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},r4=class{snapshot;type=j.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},o4=class{snapshot;type=j.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var g1=class{},G2=class{url;navigationBehaviorOptions;constructor(n,c){this.url=n,this.navigationBehaviorOptions=c}};function G5(t,n){return t.providers&&!t._injector&&(t._injector=W0(t.providers,n,`Route: ${t.path}`)),t._injector??n}function t2(t){return t.outlet||w}function K5(t,n){let c=t.filter(e=>t2(e)===n);return c.push(...t.filter(e=>t2(e)!==n)),c}function w1(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let c=n.routeConfig;if(c?._loadedInjector)return c._loadedInjector;if(c?._injector)return c._injector}return null}var f4=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return w1(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new i3(this.rootInjector)}},i3=(()=>{class t{rootInjector;contexts=new Map;constructor(c){this.rootInjector=c}onChildOutletCreated(c,e){let s=this.getOrCreateContext(c);s.outlet=e,this.contexts.set(c,s)}onChildOutletDestroyed(c){let e=this.getContext(c);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){let c=this.contexts;return this.contexts=new Map,c}onOutletReAttached(c){this.contexts=c}getOrCreateContext(c){let e=this.getContext(c);return e||(e=new f4(this.rootInjector),this.contexts.set(c,e)),e}getContext(c){return this.contexts.get(c)||null}static \u0275fac=function(e){return new(e||t)(E3(H1))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),c3=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let c=this.pathFromRoot(n);return c.length>1?c[c.length-2]:null}children(n){let c=u4(n,this._root);return c?c.children.map(e=>e.value):[]}firstChild(n){let c=u4(n,this._root);return c&&c.children.length>0?c.children[0].value:null}siblings(n){let c=d4(n,this._root);return c.length<2?[]:c[c.length-2].children.map(s=>s.value).filter(s=>s!==n)}pathFromRoot(n){return d4(n,this._root).map(c=>c.value)}};function u4(t,n){if(t===n.value)return n;for(let c of n.children){let e=u4(t,c);if(e)return e}return null}function d4(t,n){if(t===n.value)return[n];for(let c of n.children){let e=d4(t,c);if(e.length)return e.unshift(n),e}return[]}var Y=class{value;children;constructor(n,c){this.value=n,this.children=c}toString(){return`TreeNode(${this.value})`}};function B2(t){let n={};return t&&t.children.forEach(c=>n[c.value.outlet]=c),n}var e3=class extends c3{snapshot;constructor(n,c){super(n),this.snapshot=c,S4(this,n)}toString(){return this.snapshot.toString()}};function b6(t){let n=Y5(t),c=new B([new w2("",{})]),e=new B({}),s=new B({}),l=new B({}),i=new B(""),a=new K2(c,e,l,i,s,w,t,n.root);return a.snapshot=n.root,new e3(new Y(a,[]),n)}function Y5(t){let n={},c={},e={},s="",l=new q2([],n,e,s,c,w,t,null,{});return new s3("",new Y(l,[]))}var K2=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,c,e,s,l,i,a,r){this.urlSubject=n,this.paramsSubject=c,this.queryParamsSubject=e,this.fragmentSubject=s,this.dataSubject=l,this.outlet=i,this.component=a,this._futureSnapshot=r,this.title=this.dataSubject?.pipe(M(f=>f[x1]))??h(void 0),this.url=n,this.params=c,this.queryParams=e,this.fragment=s,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(M(n=>V2(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(M(n=>V2(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function t3(t,n,c="emptyOnly"){let e,{routeConfig:s}=t;return n!==null&&(c==="always"||s?.path===""||!n.component&&!n.routeConfig?.loadComponent)?e={params:L(L({},n.params),t.params),data:L(L({},n.data),t.data),resolve:L(L(L(L({},t.data),n.data),s?.data),t._resolvedData)}:e={params:L({},t.params),data:L({},t.data),resolve:L(L({},t.data),t._resolvedData??{})},s&&N6(s)&&(e.resolve[x1]=s.title),e}var q2=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[x1]}constructor(n,c,e,s,l,i,a,r,f){this.url=n,this.params=c,this.queryParams=e,this.fragment=s,this.data=l,this.outlet=i,this.component=a,this.routeConfig=r,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=V2(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=V2(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(e=>e.toString()).join("/"),c=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${c}')`}},s3=class extends c3{url;constructor(n,c){super(c),this.url=n,S4(this,c)}toString(){return y6(this._root)}};function S4(t,n){n.value._routerState=t,n.children.forEach(c=>S4(t,c))}function y6(t){let n=t.children.length>0?` { ${t.children.map(y6).join(", ")} } `:"";return`${t.value}${n}`}function V3(t){if(t.snapshot){let n=t.snapshot,c=t._futureSnapshot;t.snapshot=c,s2(n.queryParams,c.queryParams)||t.queryParamsSubject.next(c.queryParams),n.fragment!==c.fragment&&t.fragmentSubject.next(c.fragment),s2(n.params,c.params)||t.paramsSubject.next(c.params),S5(n.url,c.url)||t.urlSubject.next(c.url),s2(n.data,c.data)||t.dataSubject.next(c.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function h4(t,n){let c=s2(t.params,n.params)&&y5(t.url,n.url),e=!t.parent!=!n.parent;return c&&!e&&(!t.parent||h4(t.parent,n.parent))}function N6(t){return typeof t.title=="string"||t.title===null}var X5=new K(""),Q5=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=w;activateEvents=new i1;deactivateEvents=new i1;attachEvents=new i1;detachEvents=new i1;routerOutletData=P0(void 0);parentContexts=o(i3);location=o(O0);changeDetector=o($3);inputBinder=o(x4,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(c){if(c.name){let{firstChange:e,previousValue:s}=c.name;if(e)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(c){return this.parentContexts.getContext(c)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let c=this.parentContexts.getContext(this.name);c?.route&&(c.attachRef?this.attach(c.attachRef,c.route):this.activateWith(c.route,c.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let c=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(c.instance),c}attach(c,e){this.activated=c,this._activatedRoute=e,this.location.insert(c.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(c.instance)}deactivate(){if(this.activated){let c=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(c)}}activateWith(c,e){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=c;let s=this.location,i=c.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,r=new m4(c,a,s.injector,this.routerOutletData);this.activated=s.createComponent(i,{index:s.length,injector:r,environmentInjector:e}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(e){return new(e||t)};static \u0275dir=$1({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[H2]})}return t})(),m4=class t{route;childContexts;parent;outletData;__ngOutletInjector(n){return new t(this.route,this.childContexts,n,this.outletData)}constructor(n,c,e,s){this.route=n,this.childContexts=c,this.parent=e,this.outletData=s}get(n,c){return n===K2?this.route:n===i3?this.childContexts:n===X5?this.outletData:this.parent.get(n,c)}},x4=new K("");function J5(t,n,c){let e=M1(t,n._root,c?c._root:void 0);return new e3(e,n)}function M1(t,n,c){if(c&&t.shouldReuseRoute(n.value,c.value.snapshot)){let e=c.value;e._futureSnapshot=n.value;let s=Z5(t,n,c);return new Y(e,s)}else{if(t.shouldAttach(n.value)){let l=t.retrieve(n.value);if(l!==null){let i=l.route;return i.value._futureSnapshot=n.value,i.children=n.children.map(a=>M1(t,a)),i}}let e=cc(n.value),s=n.children.map(l=>M1(t,l));return new Y(e,s)}}function Z5(t,n,c){return n.children.map(e=>{for(let s of c.children)if(t.shouldReuseRoute(e.value,s.value.snapshot))return M1(t,e,s);return M1(t,e)})}function cc(t){return new K2(new B(t.url),new B(t.params),new B(t.queryParams),new B(t.fragment),new B(t.data),t.outlet,t.component,t)}var C1=class{redirectTo;navigationBehaviorOptions;constructor(n,c){this.redirectTo=n,this.navigationBehaviorOptions=c}},k6="ngNavigationCancelingError";function n3(t,n){let{redirectTo:c,navigationBehaviorOptions:e}=m1(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,s=A6(!1,X.Redirect);return s.url=c,s.navigationBehaviorOptions=e,s}function A6(t,n){let c=new Error(`NavigationCancelingError: ${t||""}`);return c[k6]=!0,c.cancellationCode=n,c}function ec(t){return R6(t)&&m1(t.url)}function R6(t){return!!t&&t[k6]}var tc=(t,n,c,e)=>M(s=>(new p4(n,s.targetRouterState,s.currentRouterState,c,e).activate(t),s)),p4=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,c,e,s,l){this.routeReuseStrategy=n,this.futureState=c,this.currState=e,this.forwardEvent=s,this.inputBindingEnabled=l}activate(n){let c=this.futureState._root,e=this.currState?this.currState._root:null;this.deactivateChildRoutes(c,e,n),V3(this.futureState.root),this.activateChildRoutes(c,e,n)}deactivateChildRoutes(n,c,e){let s=B2(c);n.children.forEach(l=>{let i=l.value.outlet;this.deactivateRoutes(l,s[i],e),delete s[i]}),Object.values(s).forEach(l=>{this.deactivateRouteAndItsChildren(l,e)})}deactivateRoutes(n,c,e){let s=n.value,l=c?c.value:null;if(s===l)if(s.component){let i=e.getContext(s.outlet);i&&this.deactivateChildRoutes(n,c,i.children)}else this.deactivateChildRoutes(n,c,e);else l&&this.deactivateRouteAndItsChildren(c,e)}deactivateRouteAndItsChildren(n,c){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,c):this.deactivateRouteAndOutlet(n,c)}detachAndStoreRouteSubtree(n,c){let e=c.getContext(n.value.outlet),s=e&&n.value.component?e.children:c,l=B2(n);for(let i of Object.values(l))this.deactivateRouteAndItsChildren(i,s);if(e&&e.outlet){let i=e.outlet.detach(),a=e.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:i,route:n,contexts:a})}}deactivateRouteAndOutlet(n,c){let e=c.getContext(n.value.outlet),s=e&&n.value.component?e.children:c,l=B2(n);for(let i of Object.values(l))this.deactivateRouteAndItsChildren(i,s);e&&(e.outlet&&(e.outlet.deactivate(),e.children.onOutletDeactivated()),e.attachRef=null,e.route=null)}activateChildRoutes(n,c,e){let s=B2(c);n.children.forEach(l=>{this.activateRoutes(l,s[l.value.outlet],e),this.forwardEvent(new o4(l.value.snapshot))}),n.children.length&&this.forwardEvent(new a4(n.value.snapshot))}activateRoutes(n,c,e){let s=n.value,l=c?c.value:null;if(V3(s),s===l)if(s.component){let i=e.getOrCreateContext(s.outlet);this.activateChildRoutes(n,c,i.children)}else this.activateChildRoutes(n,c,e);else if(s.component){let i=e.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){let a=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),i.children.onOutletReAttached(a.contexts),i.attachRef=a.componentRef,i.route=a.route.value,i.outlet&&i.outlet.attach(a.componentRef,a.route.value),V3(a.route.value),this.activateChildRoutes(n,null,i.children)}else i.attachRef=null,i.route=s,i.outlet&&i.outlet.activateWith(s,i.injector),this.activateChildRoutes(n,null,i.children)}else this.activateChildRoutes(n,null,e)}},l3=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},_2=class{component;route;constructor(n,c){this.component=n,this.route=c}};function sc(t,n,c){let e=t._root,s=n?n._root:null;return o1(e,s,c,[e.value])}function nc(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function X2(t,n){let c=Symbol(),e=n.get(t,c);return e===c?typeof t=="function"&&!I0(t)?t:n.get(t):e}function o1(t,n,c,e,s={canDeactivateChecks:[],canActivateChecks:[]}){let l=B2(n);return t.children.forEach(i=>{lc(i,l[i.value.outlet],c,e.concat([i.value]),s),delete l[i.value.outlet]}),Object.entries(l).forEach(([i,a])=>d1(a,c.getContext(i),s)),s}function lc(t,n,c,e,s={canDeactivateChecks:[],canActivateChecks:[]}){let l=t.value,i=n?n.value:null,a=c?c.getContext(t.value.outlet):null;if(i&&l.routeConfig===i.routeConfig){let r=ic(i,l,l.routeConfig.runGuardsAndResolvers);r?s.canActivateChecks.push(new l3(e)):(l.data=i.data,l._resolvedData=i._resolvedData),l.component?o1(t,n,a?a.children:null,e,s):o1(t,n,c,e,s),r&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new _2(a.outlet.component,i))}else i&&d1(n,a,s),s.canActivateChecks.push(new l3(e)),l.component?o1(t,null,a?a.children:null,e,s):o1(t,null,c,e,s);return s}function ic(t,n,c){if(typeof c=="function")return c(t,n);switch(c){case"pathParamsChange":return!b2(t.url,n.url);case"pathParamsOrQueryParamsChange":return!b2(t.url,n.url)||!s2(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!h4(t,n)||!s2(t.queryParams,n.queryParams);case"paramsChange":default:return!h4(t,n)}}function d1(t,n,c){let e=B2(t),s=t.value;Object.entries(e).forEach(([l,i])=>{s.component?n?d1(i,n.children.getContext(l),c):d1(i,null,c):d1(i,n,c)}),s.component?n&&n.outlet&&n.outlet.isActivated?c.canDeactivateChecks.push(new _2(n.outlet.component,s)):c.canDeactivateChecks.push(new _2(null,s)):c.canDeactivateChecks.push(new _2(null,s))}function b1(t){return typeof t=="function"}function ac(t){return typeof t=="boolean"}function rc(t){return t&&b1(t.canLoad)}function oc(t){return t&&b1(t.canActivate)}function fc(t){return t&&b1(t.canActivateChild)}function uc(t){return t&&b1(t.canDeactivate)}function dc(t){return t&&b1(t.canMatch)}function I6(t){return t instanceof S0||t?.name==="EmptyError"}var G1=Symbol("INITIAL_VALUE");function Y2(){return k(t=>R3(t.map(n=>n.pipe(e2(1),A0(G1)))).pipe(M(n=>{for(let c of n)if(c!==!0){if(c===G1)return G1;if(c===!1||hc(c))return c}return!0}),F2(n=>n!==G1),e2(1)))}function hc(t){return m1(t)||t instanceof C1}function mc(t,n){return O(c=>{let{targetSnapshot:e,currentSnapshot:s,guards:{canActivateChecks:l,canDeactivateChecks:i}}=c;return i.length===0&&l.length===0?h(W(L({},c),{guardsResult:!0})):pc(i,e,s,t).pipe(O(a=>a&&ac(a)?zc(e,l,t,n):h(a)),M(a=>W(L({},c),{guardsResult:a})))})}function pc(t,n,c,e){return _(t).pipe(O(s=>vc(s.component,s.route,c,n,e)),z2(s=>s!==!0,!0))}function zc(t,n,c,e){return _(n).pipe(N(s=>b0(gc(s.route.parent,e),Lc(s.route,e),Cc(t,s.path,c),Mc(t,s.route,c))),z2(s=>s!==!0,!0))}function Lc(t,n){return t!==null&&n&&n(new r4(t)),h(!0)}function gc(t,n){return t!==null&&n&&n(new i4(t)),h(!0)}function Mc(t,n,c){let e=n.routeConfig?n.routeConfig.canActivate:null;if(!e||e.length===0)return h(!0);let s=e.map(l=>I3(()=>{let i=w1(n)??c,a=X2(l,i),r=oc(a)?a.canActivate(n,t):o2(i,()=>a(n,t));return L2(r).pipe(z2())}));return h(s).pipe(Y2())}function Cc(t,n,c){let e=n[n.length-1],l=n.slice(0,n.length-1).reverse().map(i=>nc(i)).filter(i=>i!==null).map(i=>I3(()=>{let a=i.guards.map(r=>{let f=w1(i.node)??c,u=X2(r,f),d=fc(u)?u.canActivateChild(e,t):o2(f,()=>u(e,t));return L2(d).pipe(z2())});return h(a).pipe(Y2())}));return h(l).pipe(Y2())}function vc(t,n,c,e,s){let l=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!l||l.length===0)return h(!0);let i=l.map(a=>{let r=w1(n)??s,f=X2(a,r),u=uc(f)?f.canDeactivate(t,n,c,e):o2(r,()=>f(t,n,c,e));return L2(u).pipe(z2())});return h(i).pipe(Y2())}function Sc(t,n,c,e){let s=n.canLoad;if(s===void 0||s.length===0)return h(!0);let l=s.map(i=>{let a=X2(i,t),r=rc(a)?a.canLoad(n,c):o2(t,()=>a(n,c));return L2(r)});return h(l).pipe(Y2(),D6(e))}function D6(t){return M0(R(n=>{if(typeof n!="boolean")throw n3(t,n)}),M(n=>n===!0))}function xc(t,n,c,e){let s=n.canMatch;if(!s||s.length===0)return h(!0);let l=s.map(i=>{let a=X2(i,t),r=dc(a)?a.canMatch(n,c):o2(t,()=>a(n,c));return L2(r)});return h(l).pipe(Y2(),D6(e))}var v1=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},S1=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function j2(t){return C(new v1(t))}function wc(t){return C(new H(4e3,!1))}function bc(t){return C(A6(!1,X.GuardRejected))}var z4=class{urlSerializer;urlTree;constructor(n,c){this.urlSerializer=n,this.urlTree=c}lineralizeSegments(n,c){let e=[],s=c.root;for(;;){if(e=e.concat(s.segments),s.numberOfChildren===0)return h(e);if(s.numberOfChildren>1||!s.children[w])return wc(`${n.redirectTo}`);s=s.children[w]}}applyRedirectCommands(n,c,e,s,l){if(typeof c!="string"){let a=c,{queryParams:r,fragment:f,routeConfig:u,url:d,outlet:p,params:S,data:g,title:T}=s,y=o2(l,()=>a({params:S,data:g,queryParams:r,fragment:f,routeConfig:u,url:d,outlet:p,title:T}));if(y instanceof d2)throw new S1(y);c=y}let i=this.applyRedirectCreateUrlTree(c,this.urlSerializer.parse(c),n,e);if(c[0]==="/")throw new S1(i);return i}applyRedirectCreateUrlTree(n,c,e,s){let l=this.createSegmentGroup(n,c.root,e,s);return new d2(l,this.createQueryParams(c.queryParams,this.urlTree.queryParams),c.fragment)}createQueryParams(n,c){let e={};return Object.entries(n).forEach(([s,l])=>{if(typeof l=="string"&&l[0]===":"){let a=l.substring(1);e[s]=c[a]}else e[s]=l}),e}createSegmentGroup(n,c,e,s){let l=this.createSegments(n,c.segments,e,s),i={};return Object.entries(c.children).forEach(([a,r])=>{i[a]=this.createSegmentGroup(n,r,e,s)}),new A(l,i)}createSegments(n,c,e,s){return c.map(l=>l.path[0]===":"?this.findPosParam(n,l,s):this.findOrReturn(l,e))}findPosParam(n,c,e){let s=e[c.path.substring(1)];if(!s)throw new H(4001,!1);return s}findOrReturn(n,c){let e=0;for(let s of c){if(s.path===n.path)return c.splice(e),s;e++}return n}},L4={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yc(t,n,c,e,s){let l=T6(t,n,c);return l.matched?(e=G5(n,e),xc(e,n,c,s).pipe(M(i=>i===!0?l:L({},L4)))):h(l)}function T6(t,n,c){if(n.path==="**")return Nc(c);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||c.length>0)?L({},L4):{matched:!0,consumedSegments:[],remainingSegments:c,parameters:{},positionalParamSegments:{}};let s=(n.matcher||v5)(c,t,n);if(!s)return L({},L4);let l={};Object.entries(s.posParams??{}).forEach(([a,r])=>{l[a]=r.path});let i=s.consumed.length>0?L(L({},l),s.consumed[s.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:s.consumed,remainingSegments:c.slice(s.consumed.length),parameters:i,positionalParamSegments:s.posParams??{}}}function Nc(t){return{matched:!0,parameters:t.length>0?d6(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function a6(t,n,c,e){return c.length>0&&Rc(t,c,e)?{segmentGroup:new A(n,Ac(e,new A(c,t.children))),slicedSegments:[]}:c.length===0&&Ic(t,c,e)?{segmentGroup:new A(t.segments,kc(t,c,e,t.children)),slicedSegments:c}:{segmentGroup:new A(t.segments,t.children),slicedSegments:c}}function kc(t,n,c,e){let s={};for(let l of c)if(a3(t,n,l)&&!e[t2(l)]){let i=new A([],{});s[t2(l)]=i}return L(L({},e),s)}function Ac(t,n){let c={};c[w]=n;for(let e of t)if(e.path===""&&t2(e)!==w){let s=new A([],{});c[t2(e)]=s}return c}function Rc(t,n,c){return c.some(e=>a3(t,n,e)&&t2(e)!==w)}function Ic(t,n,c){return c.some(e=>a3(t,n,e))}function a3(t,n,c){return(t.hasChildren()||n.length>0)&&c.pathMatch==="full"?!1:c.path===""}function Dc(t,n,c){return n.length===0&&!t.children[c]}var g4=class{};function Tc(t,n,c,e,s,l,i="emptyOnly"){return new M4(t,n,c,e,s,i,l).recognize()}var Pc=31,M4=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,c,e,s,l,i,a){this.injector=n,this.configLoader=c,this.rootComponentType=e,this.config=s,this.urlTree=l,this.paramsInheritanceStrategy=i,this.urlSerializer=a,this.applyRedirects=new z4(this.urlSerializer,this.urlTree)}noMatchError(n){return new H(4002,`'${n.segmentGroup}'`)}recognize(){let n=a6(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(M(({children:c,rootSnapshot:e})=>{let s=new Y(e,c),l=new s3("",s),i=W5(e,[],this.urlTree.queryParams,this.urlTree.fragment);return i.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(i),{state:l,tree:i}}))}match(n){let c=new q2([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),w,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,w,c).pipe(M(e=>({children:e,rootSnapshot:c})),I(e=>{if(e instanceof S1)return this.urlTree=e.urlTree,this.match(e.urlTree.root);throw e instanceof v1?this.noMatchError(e):e}))}processSegmentGroup(n,c,e,s,l){return e.segments.length===0&&e.hasChildren()?this.processChildren(n,c,e,l):this.processSegment(n,c,e,e.segments,s,!0,l).pipe(M(i=>i instanceof Y?[i]:[]))}processChildren(n,c,e,s){let l=[];for(let i of Object.keys(e.children))i==="primary"?l.unshift(i):l.push(i);return _(l).pipe(N(i=>{let a=e.children[i],r=K5(c,i);return this.processSegmentGroup(n,r,a,i,s)}),k0((i,a)=>(i.push(...a),i)),D3(null),N0(),O(i=>{if(i===null)return j2(e);let a=P6(i);return Ec(a),h(a)}))}processSegment(n,c,e,s,l,i,a){return _(c).pipe(N(r=>this.processSegmentAgainstRoute(r._injector??n,c,r,e,s,l,i,a).pipe(I(f=>{if(f instanceof v1)return h(null);throw f}))),z2(r=>!!r),I(r=>{if(I6(r))return Dc(e,s,l)?h(new g4):j2(e);throw r}))}processSegmentAgainstRoute(n,c,e,s,l,i,a,r){return t2(e)!==i&&(i===w||!a3(s,l,e))?j2(s):e.redirectTo===void 0?this.matchSegmentAgainstRoute(n,s,e,l,i,r):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,s,c,e,l,i,r):j2(s)}expandSegmentAgainstRouteUsingRedirect(n,c,e,s,l,i,a){let{matched:r,parameters:f,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=T6(c,s,l);if(!r)return j2(c);typeof s.redirectTo=="string"&&s.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Pc&&(this.allowRedirects=!1));let S=new q2(l,f,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,r6(s),t2(s),s.component??s._loadedComponent??null,s,o6(s)),g=t3(S,a,this.paramsInheritanceStrategy);S.params=Object.freeze(g.params),S.data=Object.freeze(g.data);let T=this.applyRedirects.applyRedirectCommands(u,s.redirectTo,d,S,n);return this.applyRedirects.lineralizeSegments(s,T).pipe(O(y=>this.processSegment(n,e,c,y.concat(p),i,!1,a)))}matchSegmentAgainstRoute(n,c,e,s,l,i){let a=yc(c,e,s,n,this.urlSerializer);return e.path==="**"&&(c.children={}),a.pipe(k(r=>r.matched?(n=e._injector??n,this.getChildConfig(n,e,s).pipe(k(({routes:f})=>{let u=e._loadedInjector??n,{parameters:d,consumedSegments:p,remainingSegments:S}=r,g=new q2(p,d,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,r6(e),t2(e),e.component??e._loadedComponent??null,e,o6(e)),T=t3(g,i,this.paramsInheritanceStrategy);g.params=Object.freeze(T.params),g.data=Object.freeze(T.data);let{segmentGroup:y,slicedSegments:P}=a6(c,p,S,f);if(P.length===0&&y.hasChildren())return this.processChildren(u,f,y,g).pipe(M(x=>new Y(g,x)));if(f.length===0&&P.length===0)return h(new Y(g,[]));let F=t2(e)===l;return this.processSegment(u,f,y,P,F?w:l,!0,g).pipe(M(x=>new Y(g,x instanceof Y?[x]:[])))}))):j2(c)))}getChildConfig(n,c,e){return c.children?h({routes:c.children,injector:n}):c.loadChildren?c._loadedRoutes!==void 0?h({routes:c._loadedRoutes,injector:c._loadedInjector}):Sc(n,c,e,this.urlSerializer).pipe(O(s=>s?this.configLoader.loadChildren(n,c).pipe(R(l=>{c._loadedRoutes=l.routes,c._loadedInjector=l.injector})):bc(c))):h({routes:[],injector:n})}};function Ec(t){t.sort((n,c)=>n.value.outlet===w?-1:c.value.outlet===w?1:n.value.outlet.localeCompare(c.value.outlet))}function Fc(t){let n=t.value.routeConfig;return n&&n.path===""}function P6(t){let n=[],c=new Set;for(let e of t){if(!Fc(e)){n.push(e);continue}let s=n.find(l=>e.value.routeConfig===l.value.routeConfig);s!==void 0?(s.children.push(...e.children),c.add(s)):n.push(e)}for(let e of c){let s=P6(e.children);n.push(new Y(e.value,s))}return n.filter(e=>!c.has(e))}function r6(t){return t.data||{}}function o6(t){return t.resolve||{}}function Uc(t,n,c,e,s,l){return O(i=>Tc(t,n,c,e,i.extractedUrl,s,l).pipe(M(({state:a,tree:r})=>W(L({},i),{targetSnapshot:a,urlAfterRedirects:r}))))}function Oc(t,n){return O(c=>{let{targetSnapshot:e,guards:{canActivateChecks:s}}=c;if(!s.length)return h(c);let l=new Set(s.map(r=>r.route)),i=new Set;for(let r of l)if(!i.has(r))for(let f of E6(r))i.add(f);let a=0;return _(i).pipe(N(r=>l.has(r)?Hc(r,e,t,n):(r.data=t3(r,r.parent,t).resolve,h(void 0))),R(()=>a++),T3(1),O(r=>a===i.size?h(c):r2))})}function E6(t){let n=t.children.map(c=>E6(c)).flat();return[t,...n]}function Hc(t,n,c,e){let s=t.routeConfig,l=t._resolve;return s?.title!==void 0&&!N6(s)&&(l[x1]=s.title),Wc(l,t,n,e).pipe(M(i=>(t._resolvedData=i,t.data=t3(t,t.parent,c).resolve,null)))}function Wc(t,n,c,e){let s=Y3(t);if(s.length===0)return h({});let l={};return _(s).pipe(O(i=>jc(t[i],n,c,e).pipe(z2(),R(a=>{if(a instanceof C1)throw n3(new h1,a);l[i]=a}))),T3(1),M(()=>l),I(i=>I6(i)?r2:C(i)))}function jc(t,n,c,e){let s=w1(n)??e,l=X2(t,s),i=l.resolve?l.resolve(n,c):o2(s,()=>l(n,c));return L2(i)}function G3(t){return k(n=>{let c=t(n);return c?_(c).pipe(M(()=>n)):h(n)})}var F6=(()=>{class t{buildTitle(c){let e,s=c.root;for(;s!==void 0;)e=this.getResolvedTitleForRoute(s)??e,s=s.children.find(l=>l.outlet===w);return e}getResolvedTitleForRoute(c){return c.data[x1]}static \u0275fac=function(e){return new(e||t)};static \u0275prov=z({token:t,factory:()=>o(Bc),providedIn:"root"})}return t})(),Bc=(()=>{class t extends F6{title;constructor(c){super(),this.title=c}updateTitle(c){let e=this.buildTitle(c);e!==void 0&&this.title.setTitle(e)}static \u0275fac=function(e){return new(e||t)(E3(e6))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),w4=new K("",{providedIn:"root",factory:()=>({})}),$c=(()=>{class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=a1({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(e,s){e&1&&_0(0,"router-outlet")},dependencies:[Q5],encapsulation:2})}return t})();function b4(t){let n=t.children&&t.children.map(b4),c=n?W(L({},t),{children:n}):L({},t);return!c.component&&!c.loadComponent&&(n||c.loadChildren)&&c.outlet&&c.outlet!==w&&(c.component=$c),c}var y4=new K(""),qc=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=o(B3);loadComponent(c){if(this.componentLoaders.get(c))return this.componentLoaders.get(c);if(c._loadedComponent)return h(c._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(c);let e=L2(c.loadComponent()).pipe(M(U6),R(l=>{this.onLoadEndListener&&this.onLoadEndListener(c),c._loadedComponent=l}),U2(()=>{this.componentLoaders.delete(c)})),s=new A3(e,()=>new c2).pipe(k3());return this.componentLoaders.set(c,s),s}loadChildren(c,e){if(this.childrenLoaders.get(e))return this.childrenLoaders.get(e);if(e._loadedRoutes)return h({routes:e._loadedRoutes,injector:e._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(e);let l=_c(e,this.compiler,c,this.onLoadEndListener).pipe(U2(()=>{this.childrenLoaders.delete(e)})),i=new A3(l,()=>new c2).pipe(k3());return this.childrenLoaders.set(e,i),i}static \u0275fac=function(e){return new(e||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _c(t,n,c,e){return L2(t.loadChildren()).pipe(M(U6),O(s=>s instanceof H0||Array.isArray(s)?h(s):_(n.compileModuleAsync(s))),M(s=>{e&&e(t);let l,i,a=!1;return Array.isArray(s)?(i=s,a=!0):(l=s.create(c).injector,i=l.get(y4,[],{optional:!0,self:!0}).flat()),{routes:i.map(b4),injector:l}}))}function Vc(t){return t&&typeof t=="object"&&"default"in t}function U6(t){return Vc(t)?t.default:t}var N4=(()=>{class t{static \u0275fac=function(e){return new(e||t)};static \u0275prov=z({token:t,factory:()=>o(Gc),providedIn:"root"})}return t})(),Gc=(()=>{class t{shouldProcessUrl(c){return!0}extract(c){return c}merge(c,e){return c}static \u0275fac=function(e){return new(e||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Kc=new K("");var Yc=new K(""),Xc=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new c2;transitionAbortSubject=new c2;configLoader=o(qc);environmentInjector=o(H1);destroyRef=o(l1);urlSerializer=o(v4);rootContexts=o(i3);location=o(q1);inputBindingEnabled=o(x4,{optional:!0})!==null;titleStrategy=o(F6);options=o(w4,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=o(N4);createViewTransition=o(Kc,{optional:!0});navigationErrorHandler=o(Yc,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>h(void 0);rootComponentType=null;destroyed=!1;constructor(){let c=s=>this.events.next(new n4(s)),e=s=>this.events.next(new l4(s));this.configLoader.onLoadEndListener=e,this.configLoader.onLoadStartListener=c,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(c){let e=++this.navigationId;this.transitions?.next(W(L(L({},this.transitions.value),c),{id:e}))}setupNavigations(c,e,s){return this.transitions=new B({id:0,currentUrlTree:e,currentRawUrl:e,extractedUrl:this.urlHandlingStrategy.extract(e),urlAfterRedirects:this.urlHandlingStrategy.extract(e),rawUrl:e,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:u1,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(F2(l=>l.id!==0),M(l=>W(L({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),k(l=>{let i=!1,a=!1;return h(l).pipe(k(r=>{if(this.navigationId>l.id)return this.cancelNavigationTransition(l,"",X.SupersededByNewNavigation),r2;this.currentTransition=l,this.currentNavigation={id:r.id,initialUrl:r.rawUrl,extractedUrl:r.extractedUrl,targetBrowserUrl:typeof r.extras.browserUrl=="string"?this.urlSerializer.parse(r.extras.browserUrl):r.extras.browserUrl,trigger:r.source,extras:r.extras,previousNavigation:this.lastSuccessfulNavigation?W(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!c.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=r.extras.onSameUrlNavigation??c.onSameUrlNavigation;if(!f&&u!=="reload"){let d="";return this.events.next(new N2(r.id,this.urlSerializer.serialize(r.rawUrl),d,Z3.IgnoredSameUrlNavigation)),r.resolve(!1),r2}if(this.urlHandlingStrategy.shouldProcessUrl(r.rawUrl))return h(r).pipe(k(d=>{let p=this.transitions?.getValue();return this.events.next(new z1(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),p!==this.transitions?.getValue()?r2:Promise.resolve(d)}),Uc(this.environmentInjector,this.configLoader,this.rootComponentType,c.config,this.urlSerializer,this.paramsInheritanceStrategy),R(d=>{l.targetSnapshot=d.targetSnapshot,l.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=W(L({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let p=new Z1(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(r.currentRawUrl)){let{id:d,extractedUrl:p,source:S,restoredState:g,extras:T}=r,y=new z1(d,this.urlSerializer.serialize(p),S,g);this.events.next(y);let P=b6(this.rootComponentType).snapshot;return this.currentTransition=l=W(L({},r),{targetSnapshot:P,urlAfterRedirects:p,extras:W(L({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,h(l)}else{let d="";return this.events.next(new N2(r.id,this.urlSerializer.serialize(r.extractedUrl),d,Z3.IgnoredByUrlHandlingStrategy)),r.resolve(!1),r2}}),R(r=>{let f=new c4(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot);this.events.next(f)}),M(r=>(this.currentTransition=l=W(L({},r),{guards:sc(r.targetSnapshot,r.currentSnapshot,this.rootContexts)}),l)),mc(this.environmentInjector,r=>this.events.next(r)),R(r=>{if(l.guardsResult=r.guardsResult,r.guardsResult&&typeof r.guardsResult!="boolean")throw n3(this.urlSerializer,r.guardsResult);let f=new e4(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot,!!r.guardsResult);this.events.next(f)}),F2(r=>r.guardsResult?!0:(this.cancelNavigationTransition(r,"",X.GuardRejected),!1)),G3(r=>{if(r.guards.canActivateChecks.length)return h(r).pipe(R(f=>{let u=new t4(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(u)}),k(f=>{let u=!1;return h(f).pipe(Oc(this.paramsInheritanceStrategy,this.environmentInjector),R({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(f,"",X.NoDataFromResolver)}}))}),R(f=>{let u=new s4(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(u)}))}),G3(r=>{let f=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(R(p=>{u.component=p}),M(()=>{})));for(let p of u.children)d.push(...f(p));return d};return R3(f(r.targetSnapshot.root)).pipe(D3(null),e2(1))}),G3(()=>this.afterPreactivation()),k(()=>{let{currentSnapshot:r,targetSnapshot:f}=l,u=this.createViewTransition?.(this.environmentInjector,r.root,f.root);return u?_(u).pipe(M(()=>l)):h(l)}),M(r=>{let f=J5(c.routeReuseStrategy,r.targetSnapshot,r.currentRouterState);return this.currentTransition=l=W(L({},r),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,l}),R(()=>{this.events.next(new g1)}),tc(this.rootContexts,c.routeReuseStrategy,r=>this.events.next(r),this.inputBindingEnabled),e2(1),R({next:r=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new y2(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects))),this.titleStrategy?.updateTitle(r.targetRouterState.snapshot),r.resolve(!0)},complete:()=>{i=!0}}),R0(this.transitionAbortSubject.pipe(R(r=>{throw r}))),U2(()=>{!i&&!a&&this.cancelNavigationTransition(l,"",X.SupersededByNewNavigation),this.currentTransition?.id===l.id&&(this.currentNavigation=null,this.currentTransition=null)}),I(r=>{if(this.destroyed)return l.resolve(!1),r2;if(a=!0,R6(r))this.events.next(new u2(l.id,this.urlSerializer.serialize(l.extractedUrl),r.message,r.cancellationCode)),ec(r)?this.events.next(new G2(r.url,r.navigationBehaviorOptions)):l.resolve(!1);else{let f=new L1(l.id,this.urlSerializer.serialize(l.extractedUrl),r,l.targetSnapshot??void 0);try{let u=o2(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(u instanceof C1){let{message:d,cancellationCode:p}=n3(this.urlSerializer,u);this.events.next(new u2(l.id,this.urlSerializer.serialize(l.extractedUrl),d,p)),this.events.next(new G2(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(f),r}catch(u){this.options.resolveNavigationPromiseOnError?l.resolve(!1):l.reject(u)}}return r2}))}))}cancelNavigationTransition(c,e,s){let l=new u2(c.id,this.urlSerializer.serialize(c.extractedUrl),e,s);this.events.next(l),c.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let c=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),e=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return c.toString()!==e?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(e){return new(e||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Qc(t){return t!==u1}var Jc=(()=>{class t{static \u0275fac=function(e){return new(e||t)};static \u0275prov=z({token:t,factory:()=>o(Zc),providedIn:"root"})}return t})(),C4=class{shouldDetach(n){return!1}store(n,c){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,c){return n.routeConfig===c.routeConfig}},Zc=(()=>{class t extends C4{static \u0275fac=(()=>{let c;return function(s){return(c||(c=W1(t)))(s||t)}})();static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),O6=(()=>{class t{static \u0275fac=function(e){return new(e||t)};static \u0275prov=z({token:t,factory:()=>o(c7),providedIn:"root"})}return t})(),c7=(()=>{class t extends O6{location=o(q1);urlSerializer=o(v4);options=o(w4,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=o(N4);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new d2;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=b6(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(c){return this.location.subscribe(e=>{e.type==="popstate"&&c(e.url,e.state)})}handleRouterEvent(c,e){if(c instanceof z1)this.stateMemento=this.createStateMemento();else if(c instanceof N2)this.rawUrlTree=e.initialUrl;else if(c instanceof Z1){if(this.urlUpdateStrategy==="eager"&&!e.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(e.finalUrl,e.initialUrl);this.setBrowserUrl(e.targetBrowserUrl??s,e)}}else c instanceof g1?(this.currentUrlTree=e.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(e.finalUrl,e.initialUrl),this.routerState=e.targetRouterState,this.urlUpdateStrategy==="deferred"&&!e.extras.skipLocationChange&&this.setBrowserUrl(e.targetBrowserUrl??this.rawUrlTree,e)):c instanceof u2&&(c.code===X.GuardRejected||c.code===X.NoDataFromResolver)?this.restoreHistory(e):c instanceof L1?this.restoreHistory(e,!0):c instanceof y2&&(this.lastSuccessfulId=c.id,this.currentPageId=this.browserPageId)}setBrowserUrl(c,e){let s=c instanceof d2?this.urlSerializer.serialize(c):c;if(this.location.isCurrentPathEqualTo(s)||e.extras.replaceUrl){let l=this.browserPageId,i=L(L({},e.extras.state),this.generateNgRouterState(e.id,l));this.location.replaceState(s,"",i)}else{let l=L(L({},e.extras.state),this.generateNgRouterState(e.id,this.browserPageId+1));this.location.go(s,"",l)}}restoreHistory(c,e=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,l=this.currentPageId-s;l!==0?this.location.historyGo(l):this.currentUrlTree===c.finalUrl&&l===0&&(this.resetState(c),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(e&&this.resetState(c),this.resetUrlToCurrentUrlTree())}resetState(c){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,c.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(c,e){return this.canceledNavigationResolution==="computed"?{navigationId:c,\u0275routerPageId:e}:{navigationId:c}}static \u0275fac=(()=>{let c;return function(s){return(c||(c=W1(t)))(s||t)}})();static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function e7(t,n){t.events.pipe(F2(c=>c instanceof y2||c instanceof u2||c instanceof L1||c instanceof N2),M(c=>c instanceof y2||c instanceof N2?0:(c instanceof u2?c.code===X.Redirect||c.code===X.SupersededByNewNavigation:!1)?2:1),F2(c=>c!==2),e2(1)).subscribe(()=>{n()})}var t7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},s7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},k2=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=o(j0);stateManager=o(O6);options=o(w4,{optional:!0})||{};pendingTasks=o(T0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=o(Xc);urlSerializer=o(v4);location=o(q1);urlHandlingStrategy=o(N4);_events=new c2;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=o(Jc);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=o(y4,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!o(x4,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:c=>{this.console.warn(c)}}),this.subscribeToNavigationEvents()}eventsSubscription=new g0;subscribeToNavigationEvents(){let c=this.navigationTransitions.events.subscribe(e=>{try{let s=this.navigationTransitions.currentTransition,l=this.navigationTransitions.currentNavigation;if(s!==null&&l!==null){if(this.stateManager.handleRouterEvent(e,l),e instanceof u2&&e.code!==X.Redirect&&e.code!==X.SupersededByNewNavigation)this.navigated=!0;else if(e instanceof y2)this.navigated=!0;else if(e instanceof G2){let i=e.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(e.url,s.currentRawUrl),r=L({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Qc(s.source)},i);this.scheduleNavigation(a,u1,null,r,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}l7(e)&&this._events.next(e)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(c)}resetRootComponentType(c){this.routerState.root.component=c,this.navigationTransitions.rootComponentType=c}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),u1,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((c,e)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(c,"popstate",e)},0)})}navigateToSyncWithBrowser(c,e,s){let l={replaceUrl:!0},i=s?.navigationId?s:null;if(s){let r=L({},s);delete r.navigationId,delete r.\u0275routerPageId,Object.keys(r).length!==0&&(l.state=r)}let a=this.parseUrl(c);this.scheduleNavigation(a,e,i,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(c){this.config=c.map(b4),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(c,e={}){let{relativeTo:s,queryParams:l,fragment:i,queryParamsHandling:a,preserveFragment:r}=e,f=r?this.currentUrlTree.fragment:i,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=L(L({},this.currentUrlTree.queryParams),l);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=l||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=s?s.snapshot:this.routerState.snapshot.root;d=v6(p)}catch{(typeof c[0]!="string"||c[0][0]!=="/")&&(c=[]),d=this.currentUrlTree.root}return S6(d,c,u,f??null)}navigateByUrl(c,e={skipLocationChange:!1}){let s=m1(c)?c:this.parseUrl(c),l=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(l,u1,null,e)}navigate(c,e={skipLocationChange:!1}){return n7(c),this.navigateByUrl(this.createUrlTree(c,e),e)}serializeUrl(c){return this.urlSerializer.serialize(c)}parseUrl(c){try{return this.urlSerializer.parse(c)}catch{return this.urlSerializer.parse("/")}}isActive(c,e){let s;if(e===!0?s=L({},t7):e===!1?s=L({},s7):s=e,m1(c))return s6(this.currentUrlTree,c,s);let l=this.parseUrl(c);return s6(this.currentUrlTree,l,s)}removeEmptyProps(c){return Object.entries(c).reduce((e,[s,l])=>(l!=null&&(e[s]=l),e),{})}scheduleNavigation(c,e,s,l,i){if(this.disposed)return Promise.resolve(!1);let a,r,f;i?(a=i.resolve,r=i.reject,f=i.promise):f=new Promise((d,p)=>{a=d,r=p});let u=this.pendingTasks.add();return e7(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:e,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:c,extras:l,resolve:a,reject:r,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(d=>Promise.reject(d))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function n7(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new H(4008,!1)}function l7(t){return!(t instanceof g1)&&!(t instanceof G2)}var i7=new K("");function zs(t,...n){return O1([{provide:y4,multi:!0,useValue:t},[],{provide:K2,useFactory:a7,deps:[k2]},{provide:$0,multi:!0,useFactory:r7},n.map(c=>c.\u0275providers)])}function a7(t){return t.routerState.root}function r7(){let t=o(F3);return n=>{let c=t.get(q0);if(n!==c.components[0])return;let e=t.get(k2),s=t.get(o7);t.get(f7)===1&&e.initialNavigation(),t.get(u7,null,P3.Optional)?.setUpPreloading(),t.get(i7,null,P3.Optional)?.init(),e.resetRootComponentType(c.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}var o7=new K("",{factory:()=>new c2}),f7=new K("",{providedIn:"root",factory:()=>1});var u7=new K("");var H6={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6};var W6={parse:function(n,c){return d7(n,H6,c)},stringify:function(n,c){return h7(n,H6,c)}};function d7(t,n,c){var e;if(c===void 0&&(c={}),!n.codes){n.codes={};for(var s=0;s<n.chars.length;++s)n.codes[n.chars[s]]=s}if(!c.loose&&t.length*n.bits&7)throw new SyntaxError("Invalid padding");for(var l=t.length;t[l-1]==="=";)if(--l,!c.loose&&!((t.length-l)*n.bits&7))throw new SyntaxError("Invalid padding");for(var i=new((e=c.out)!=null?e:Uint8Array)(l*n.bits/8|0),a=0,r=0,f=0,u=0;u<l;++u){var d=n.codes[t[u]];if(d===void 0)throw new SyntaxError("Invalid character "+t[u]);r=r<<n.bits|d,a+=n.bits,a>=8&&(a-=8,i[f++]=255&r>>a)}if(a>=n.bits||255&r<<8-a)throw new SyntaxError("Unexpected end of data");return i}function h7(t,n,c){c===void 0&&(c={});for(var e=c,s=e.pad,l=s===void 0?!0:s,i=(1<<n.bits)-1,a="",r=0,f=0,u=0;u<t.length;++u)for(f=f<<8|255&t[u],r+=8;r>n.bits;)r-=n.bits,a+=n.chars[i&f>>r];if(r&&(a+=n.chars[i&f<<n.bits-r]),l)for(;a.length*n.bits&7;)a+="=";return a}function r3(t,n){let c=!n?.manualCleanup;c&&!n?.injector&&D0(r3);let e=c?n?.injector?.get(l1)??o(l1):null,s=m7(n?.equal),l;n?.requireSync?l=O3({kind:0},{equal:s}):l=O3({kind:1,value:n?.initialValue},{equal:s});let i=t.subscribe({next:a=>l.set({kind:1,value:a}),error:a=>{if(n?.rejectErrors)throw a;l.set({kind:2,error:a})}});if(n?.requireSync&&l().kind===0)throw new H(601,!1);return e?.onDestroy(i.unsubscribe.bind(i)),X0(()=>{let a=l();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new H(601,!1)}},{equal:n?.equal})}function m7(t=Object.is){return(n,c)=>n.kind===1&&c.kind===1&&t(n.value,c.value)}var o3=class{},A4=class{constructor(n){this.passedConfigs=n}loadConfigs(){return Array.isArray(this.passedConfigs)?h(this.passedConfigs):h([this.passedConfigs])}};function p7(t){if(!t?.config)throw new Error("No config provided!");return new A4(t.config)}var j6=new K("PASSED_CONFIG"),V6=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),z7=(()=>{class t{logError(c,...e){console.error(c,...e)}logWarning(c,...e){console.warn(c,...e)}logDebug(c,...e){console.debug(c,...e)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),y1=function(t){return t[t.None=0]="None",t[t.Debug=1]="Debug",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t}(y1||{}),b=(()=>{class t{constructor(){this.abstractLoggerService=o(V6)}logError(c,e,...s){if(this.loggingIsTurnedOff(c))return;let{configId:l}=c,i=this.isObject(e)?JSON.stringify(e):e;s&&s.length?this.abstractLoggerService.logError(`[ERROR] ${l} - ${i}`,...s):this.abstractLoggerService.logError(`[ERROR] ${l} - ${i}`)}logWarning(c,e,...s){if(!this.logLevelIsSet(c)||this.loggingIsTurnedOff(c)||!this.currentLogLevelIsEqualOrSmallerThan(c,y1.Warn))return;let{configId:l}=c,i=this.isObject(e)?JSON.stringify(e):e;s&&s.length?this.abstractLoggerService.logWarning(`[WARN] ${l} - ${i}`,...s):this.abstractLoggerService.logWarning(`[WARN] ${l} - ${i}`)}logDebug(c,e,...s){if(!c||!this.logLevelIsSet(c)||this.loggingIsTurnedOff(c)||!this.currentLogLevelIsEqualOrSmallerThan(c,y1.Debug))return;let{configId:l}=c,i=this.isObject(e)?JSON.stringify(e):e;s&&s.length?this.abstractLoggerService.logDebug(`[DEBUG] ${l} - ${i}`,...s):this.abstractLoggerService.logDebug(`[DEBUG] ${l} - ${i}`)}currentLogLevelIsEqualOrSmallerThan(c,e){let{logLevel:s}=c||{};return s?s<=e:!1}logLevelIsSet(c){let{logLevel:e}=c||{};return e===null?!1:e!==void 0}loggingIsTurnedOff(c){let{logLevel:e}=c||{};return e===y1.None}isObject(c){return Object.prototype.toString.call(c)==="[object Object]"}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),V=function(t){return t[t.ConfigLoaded=0]="ConfigLoaded",t[t.CheckingAuth=1]="CheckingAuth",t[t.CheckingAuthFinished=2]="CheckingAuthFinished",t[t.CheckingAuthFinishedWithError=3]="CheckingAuthFinishedWithError",t[t.ConfigLoadingFailed=4]="ConfigLoadingFailed",t[t.CheckSessionReceived=5]="CheckSessionReceived",t[t.UserDataChanged=6]="UserDataChanged",t[t.NewAuthenticationResult=7]="NewAuthenticationResult",t[t.TokenExpired=8]="TokenExpired",t[t.IdTokenExpired=9]="IdTokenExpired",t[t.SilentRenewStarted=10]="SilentRenewStarted",t[t.SilentRenewFailed=11]="SilentRenewFailed",t}(V||{}),A2=(()=>{class t{constructor(){this.notify=new C0(1)}fireEvent(c,e){this.notify.next({type:c,value:e})}registerForEvents(){return this.notify.asObservable()}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),G6=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),L7=(()=>{class t{constructor(){this.loggerService=o(b),this.abstractSecurityStorage=o(G6)}read(c,e){let{configId:s}=e;if(!s)return this.loggerService.logDebug(e,`Wanted to read '${c}' but configId was '${s}'`),null;if(!this.hasStorage())return this.loggerService.logDebug(e,`Wanted to read '${c}' but Storage was undefined`),null;let l=this.abstractSecurityStorage.read(s);return l?JSON.parse(l):null}write(c,e){let{configId:s}=e;return s?this.hasStorage()?(c=c||null,this.abstractSecurityStorage.write(s,JSON.stringify(c)),!0):(this.loggerService.logDebug(e,"Wanted to write but Storage was falsy"),!1):(this.loggerService.logDebug(e,`Wanted to write but configId was '${s}'`),!1)}remove(c,e){return this.hasStorage()?(this.abstractSecurityStorage.remove(c),!0):(this.loggerService.logDebug(e,`Wanted to remove '${c}' but Storage was falsy`),!1)}clear(c){return this.hasStorage()?(this.abstractSecurityStorage.clear(),!0):(this.loggerService.logDebug(c,"Wanted to clear storage but Storage was falsy"),!1)}hasStorage(){return typeof Storage<"u"}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),U=(()=>{class t{constructor(){this.browserStorageService=o(L7)}read(c,e){return(this.browserStorageService.read(c,e)||{})[c]}write(c,e,s){let l=this.browserStorageService.read(c,s)||{};return l[c]=e,this.browserStorageService.write(l,s)}remove(c,e){let s=this.browserStorageService.read(c,e)||{};delete s[c],this.browserStorageService.write(s,e)}clear(c){this.browserStorageService.clear(c)}resetStorageFlowData(c){this.remove("session_state",c),this.remove("storageSilentRenewRunning",c),this.remove("storageCodeFlowInProgress",c),this.remove("codeVerifier",c),this.remove("userData",c),this.remove("storageCustomParamsAuthRequest",c),this.remove("access_token_expires_at",c),this.remove("storageCustomParamsRefresh",c),this.remove("storageCustomParamsEndSession",c),this.remove("reusable_refresh_token",c)}resetAuthStateInStorage(c){this.remove("authzData",c),this.remove("reusable_refresh_token",c),this.remove("authnResult",c)}getAccessToken(c){return this.read("authzData",c)}getIdToken(c){return this.read("authnResult",c)?.id_token}getRefreshToken(c){let e=this.read("authnResult",c)?.refresh_token;return!e&&c.allowUnsafeReuseRefreshToken?this.read("reusable_refresh_token",c):e}getAuthenticationResult(c){return this.read("authnResult",c)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),K6=(()=>{class t{extractJwk(c,e,s=!0){if(c.length===0)throw g7;let l=c.filter(i=>e?.kid?i.kid===e.kid:!0).filter(i=>e?.use?i.use===e.use:!0).filter(i=>e?.kty?i.kty===e.kty:!0);if(l.length===0&&s)throw M7;if(l.length>1&&e==null)throw C7;return l}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function I4(t){return K6.name+": "+t}var g7={name:I4("InvalidArgumentError"),message:"Array of keys was empty. Unable to extract"},M7={name:I4("NoMatchingKeysError"),message:"No key found matching the spec"},C7={name:I4("SeveralMatchingKeysError"),message:"More than one key found. Please use spec to filter"},B6=3,u3=(()=>{class t{constructor(){this.loggerService=o(b),this.document=o($)}getTokenExpirationDate(c){if(!Object.prototype.hasOwnProperty.call(c,"exp"))return new Date(new Date().toUTCString());let e=new Date(0);return e.setUTCSeconds(c.exp),e}getSigningInputFromToken(c,e,s){if(!this.tokenIsValid(c,s))return"";let l=this.getHeaderFromToken(c,e,s),i=this.getPayloadFromToken(c,e,s);return[l,i].join(".")}getHeaderFromToken(c,e,s){return this.tokenIsValid(c,s)?this.getPartOfToken(c,0,e):{}}getPayloadFromToken(c,e,s){return s?this.tokenIsValid(c,s)?this.getPartOfToken(c,1,e):{}:{}}getSignatureFromToken(c,e,s){return this.tokenIsValid(c,s)?this.getPartOfToken(c,2,e):{}}getPartOfToken(c,e,s){let l=this.extractPartOfToken(c,e);if(s)return l;let i=this.urlBase64Decode(l);return JSON.parse(i)}urlBase64Decode(c){let e=c.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw Error("Illegal base64url string!")}let s=typeof this.document.defaultView<"u"?this.document.defaultView?.atob(e):Buffer.from(e,"base64").toString("binary");if(!s)return"";try{return decodeURIComponent(s.split("").map(l=>"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)).join(""))}catch{return s}}tokenIsValid(c,e){return c?c.includes(".")?c.split(".").length!==B6?(this.loggerService.logError(e,`token '${c}' is not valid --> token has to have exactly ${B6-1} dots`),!1):!0:(this.loggerService.logError(e,`token '${c}' is not valid --> no dots included`),!1):(this.loggerService.logError(e,`token '${c}' is not valid --> token falsy`),!1)}extractPartOfToken(c,e){return c.split(".")[e]}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),D4=(()=>{class t{constructor(){this.document=o($)}getCrypto(){return this.document.defaultView?.crypto||this.document.defaultView?.msCrypto}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),v7=(()=>{class t{constructor(){this.cryptoService=o(D4)}importVerificationKey(c,e){return this.cryptoService.getCrypto().subtle.importKey("jwk",c,e,!1,["verify"])}verifyKey(c,e,s,l){return this.cryptoService.getCrypto().subtle.verify(c,e,s,new TextEncoder().encode(l))}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Y6=(()=>{class t{constructor(){this.cryptoService=o(D4)}generateCodeChallenge(c){return this.calcHash(c).pipe(M(e=>this.base64UrlEncode(e)))}generateAtHash(c,e){return this.calcHash(c,e).pipe(M(s=>{let l=s.substr(0,s.length/2);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}))}calcHash(c,e="SHA-256"){let s=new TextEncoder().encode(c);return _(this.cryptoService.getCrypto().subtle.digest(e,s)).pipe(M(l=>{let i=l,a=Array.from(new Uint8Array(i));return this.toHashString(a)}))}toHashString(c){let e="";for(let s of c)e+=String.fromCharCode(s);return e}base64UrlEncode(c){return btoa(c).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function S7(t){switch(t.charAt(0)){case"R":return{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"};case"E":return t.includes("256")?{name:"ECDSA",hash:"SHA-256"}:t.includes("384")?{name:"ECDSA",hash:"SHA-384"}:null;default:return null}}function x7(t){switch(t.charAt(0)){case"R":return"RSA";case"E":return"EC";default:throw new Error("Cannot infer kty from alg: "+t)}}function w7(t){switch(t.charAt(0)){case"R":return t.includes("256")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"}:t.includes("384")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-384"}:t.includes("512")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-512"}:null;case"E":return t.includes("256")?{name:"ECDSA",namedCurve:"P-256"}:t.includes("384")?{name:"ECDSA",namedCurve:"P-384"}:null;default:return null}}var d3=(()=>{class t{constructor(){this.keyAlgorithms=["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","PS256","PS384","PS512"],this.tokenHelperService=o(u3),this.loggerService=o(b),this.jwkExtractor=o(K6),this.jwkWindowCryptoService=o(v7),this.jwtWindowCryptoService=o(Y6)}static{this.refreshTokenNoncePlaceholder="--RefreshToken--"}hasIdTokenExpired(c,e,s){let l=this.tokenHelperService.getPayloadFromToken(c,!1,e);return!this.validateIdTokenExpNotExpired(l,e,s)}validateIdTokenExpNotExpired(c,e,s){let l=this.tokenHelperService.getTokenExpirationDate(c);if(s=s||0,!l)return!1;let i=l.valueOf(),a=this.calculateNowWithOffset(s),r=i>a;return this.loggerService.logDebug(e,`Has idToken expired: ${!r} --> expires in ${this.millisToMinutesAndSeconds(i-a)} , ${new Date(i).toLocaleTimeString()} > ${new Date(a).toLocaleTimeString()}`),r}validateAccessTokenNotExpired(c,e,s){if(!c)return!0;s=s||0;let l=c.valueOf(),i=this.calculateNowWithOffset(s),a=l>i;return this.loggerService.logDebug(e,`Has accessToken expired: ${!a} --> expires in ${this.millisToMinutesAndSeconds(l-i)} , ${new Date(l).toLocaleTimeString()} > ${new Date(i).toLocaleTimeString()}`),a}validateRequiredIdToken(c,e){let s=!0;return Object.prototype.hasOwnProperty.call(c,"iss")||(s=!1,this.loggerService.logWarning(e,"iss is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(c,"sub")||(s=!1,this.loggerService.logWarning(e,"sub is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(c,"aud")||(s=!1,this.loggerService.logWarning(e,"aud is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(c,"exp")||(s=!1,this.loggerService.logWarning(e,"exp is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(c,"iat")||(s=!1,this.loggerService.logWarning(e,"iat is missing, this is required in the id_token")),s}validateIdTokenIatMaxOffset(c,e,s,l){if(s)return!0;if(!Object.prototype.hasOwnProperty.call(c,"iat"))return!1;let i=new Date(0);i.setUTCSeconds(c.iat),e=e||0;let r=new Date(new Date().toUTCString()).valueOf()-i.valueOf(),f=e*1e3;return this.loggerService.logDebug(l,`validate id token iat max offset ${r} < ${f}`),r>0?r<f:-r<f}validateIdTokenNonce(c,e,s,l){return!((c.nonce===void 0||s)&&e===t.refreshTokenNoncePlaceholder)&&c.nonce!==e?(this.loggerService.logDebug(l,"Validate_id_token_nonce failed, dataIdToken.nonce: "+c.nonce+" local_nonce:"+e),!1):!0}validateIdTokenIss(c,e,s){return c.iss!==e?(this.loggerService.logDebug(s,"Validate_id_token_iss failed, dataIdToken.iss: "+c.iss+" authWellKnownEndpoints issuer:"+e),!1):!0}validateIdTokenAud(c,e,s){return Array.isArray(c.aud)?c.aud.includes(e)?!0:(this.loggerService.logDebug(s,"Validate_id_token_aud array failed, dataIdToken.aud: "+c.aud+" client_id:"+e),!1):c.aud!==e?(this.loggerService.logDebug(s,"Validate_id_token_aud failed, dataIdToken.aud: "+c.aud+" client_id:"+e),!1):!0}validateIdTokenAzpExistsIfMoreThanOneAud(c){return c?!(Array.isArray(c.aud)&&c.aud.length>1&&!c.azp):!1}validateIdTokenAzpValid(c,e){return c?.azp?c.azp===e:!0}validateStateFromHashCallback(c,e,s){return c!==e?(this.loggerService.logDebug(s,"ValidateStateFromHashCallback failed, state: "+c+" local_state:"+e),!1):!0}validateSignatureIdToken(c,e,s){if(!c)return h(!0);if(!e||!e.keys)return h(!1);let l=this.tokenHelperService.getHeaderFromToken(c,!1,s);if(Object.keys(l).length===0&&l.constructor===Object)return this.loggerService.logWarning(s,"id token has no header data"),h(!1);let i=l.kid,a=l.alg,r=e.keys,f,u;if(!this.keyAlgorithms.includes(a))return this.loggerService.logWarning(s,"alg not supported",a),h(!1);let d=x7(a),p="sig";try{f=i?this.jwkExtractor.extractJwk(r,{kid:i,kty:d,use:p},!1):this.jwkExtractor.extractJwk(r,{kty:d,use:p},!1),f.length===0&&(f=i?this.jwkExtractor.extractJwk(r,{kid:i,kty:d}):this.jwkExtractor.extractJwk(r,{kty:d})),u=f[0]}catch(y){return this.loggerService.logError(s,y),h(!1)}let S=w7(a),g=this.tokenHelperService.getSigningInputFromToken(c,!0,s),T=this.tokenHelperService.getSignatureFromToken(c,!0,s);return _(this.jwkWindowCryptoService.importVerificationKey(u,S)).pipe(O(y=>{let P=W6.parse(T,{loose:!0}),F=S7(a);return _(this.jwkWindowCryptoService.verifyKey(F,y,P,g))}),R(y=>{y||this.loggerService.logWarning(s,"incorrect Signature, validation failed for id_token")}))}validateIdTokenAtHash(c,e,s,l){this.loggerService.logDebug(l,"at_hash from the server:"+e);let i="SHA-256";return s.includes("384")?i="SHA-384":s.includes("512")&&(i="SHA-512"),this.jwtWindowCryptoService.generateAtHash(""+c,i).pipe(O(a=>(this.loggerService.logDebug(l,"at_hash client validation not decoded:"+a),a===e?h(!0):this.jwtWindowCryptoService.generateAtHash(""+decodeURIComponent(c),i).pipe(M(r=>(this.loggerService.logDebug(l,"-gen access--"+a),r===e))))))}millisToMinutesAndSeconds(c){let e=Math.floor(c/6e4),s=(c%6e4/1e3).toFixed(0);return e+":"+(+s<10?"0":"")+s}calculateNowWithOffset(c){return new Date(new Date().toUTCString()).valueOf()+c*1e3}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),b7={isAuthenticated:!1,allConfigsAuthenticated:[]},Z=(()=>{class t{constructor(){this.storagePersistenceService=o(U),this.loggerService=o(b),this.publicEventsService=o(A2),this.tokenValidationService=o(d3),this.authenticatedInternal$=new B(b7)}get authenticated$(){return this.authenticatedInternal$.asObservable().pipe(y0())}setAuthenticatedAndFireEvent(c){let e=this.composeAuthenticatedResult(c);this.authenticatedInternal$.next(e)}setUnauthenticatedAndFireEvent(c,e){this.storagePersistenceService.resetAuthStateInStorage(c);let s=this.composeUnAuthenticatedResult(e);this.authenticatedInternal$.next(s)}updateAndPublishAuthState(c){this.publicEventsService.fireEvent(V.NewAuthenticationResult,c)}setAuthorizationData(c,e,s,l){this.loggerService.logDebug(s,`storing the accessToken '${c}'`),this.storagePersistenceService.write("authzData",c,s),this.persistAccessTokenExpirationTime(e,s),this.setAuthenticatedAndFireEvent(l)}getAccessToken(c){if(!c||!this.isAuthenticated(c))return"";let e=this.storagePersistenceService.getAccessToken(c);return this.decodeURIComponentSafely(e)}getIdToken(c){if(!c||!this.isAuthenticated(c))return"";let e=this.storagePersistenceService.getIdToken(c);return this.decodeURIComponentSafely(e)}getRefreshToken(c){if(!c||!this.isAuthenticated(c))return"";let e=this.storagePersistenceService.getRefreshToken(c);return this.decodeURIComponentSafely(e)}getAuthenticationResult(c){return!c||!this.isAuthenticated(c)?null:this.storagePersistenceService.getAuthenticationResult(c)}areAuthStorageTokensValid(c){return!c||!this.isAuthenticated(c)?!1:this.hasIdTokenExpiredAndRenewCheckIsEnabled(c)?(this.loggerService.logDebug(c,"persisted idToken is expired"),!1):this.hasAccessTokenExpiredIfExpiryExists(c)?(this.loggerService.logDebug(c,"persisted accessToken is expired"),!1):(this.loggerService.logDebug(c,"persisted idToken and accessToken are valid"),!0)}hasIdTokenExpiredAndRenewCheckIsEnabled(c){let{renewTimeBeforeTokenExpiresInSeconds:e,triggerRefreshWhenIdTokenExpired:s,disableIdTokenValidation:l}=c;if(!s||l)return!1;let i=this.storagePersistenceService.getIdToken(c),a=this.tokenValidationService.hasIdTokenExpired(i,c,e);return a&&this.publicEventsService.fireEvent(V.IdTokenExpired,a),a}hasAccessTokenExpiredIfExpiryExists(c){let{renewTimeBeforeTokenExpiresInSeconds:e}=c,s=this.storagePersistenceService.read("access_token_expires_at",c),i=!this.tokenValidationService.validateAccessTokenNotExpired(s,c,e);return i&&this.publicEventsService.fireEvent(V.TokenExpired,i),i}isAuthenticated(c){if(!c)return C(()=>new Error("Please provide a configuration before setting up the module")),!1;let e=!!this.storagePersistenceService.getAccessToken(c),s=!!this.storagePersistenceService.getIdToken(c);return e&&s}decodeURIComponentSafely(c){return c?decodeURIComponent(c):""}persistAccessTokenExpirationTime(c,e){if(c?.expires_in){let s=new Date(new Date().toUTCString()).valueOf()+c.expires_in*1e3;this.storagePersistenceService.write("access_token_expires_at",s,e)}}composeAuthenticatedResult(c){if(c.length===1){let{configId:e}=c[0];return{isAuthenticated:!0,allConfigsAuthenticated:[{configId:e??"",isAuthenticated:!0}]}}return this.checkAllConfigsIfTheyAreAuthenticated(c)}composeUnAuthenticatedResult(c){if(c.length===1){let{configId:e}=c[0];return{isAuthenticated:!1,allConfigsAuthenticated:[{configId:e??"",isAuthenticated:!1}]}}return this.checkAllConfigsIfTheyAreAuthenticated(c)}checkAllConfigsIfTheyAreAuthenticated(c){let e=c.map(l=>({configId:l.configId??"",isAuthenticated:this.isAuthenticated(l)})),s=e.every(l=>!!l.isAuthenticated);return{allConfigsAuthenticated:e,isAuthenticated:s}}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),k4="redirect",X6=(()=>{class t{constructor(){this.storageService=o(U),this.router=o(k2)}checkSavedRedirectRouteAndNavigate(c){if(!c)return;let e=this.getStoredRedirectRoute(c);e!=null&&(this.deleteStoredRedirectRoute(c),this.router.navigateByUrl(e))}saveRedirectRoute(c,e){c&&this.storageService.write(k4,e,c)}getStoredRedirectRoute(c){return this.storageService.read(k4,c)}deleteStoredRedirectRoute(c){this.storageService.remove(k4,c)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),g2=(()=>{class t{isCurrentFlowCodeFlow(c){return this.currentFlowIs("code",c)}isCurrentFlowAnyImplicitFlow(c){return this.isCurrentFlowImplicitFlowWithAccessToken(c)||this.isCurrentFlowImplicitFlowWithoutAccessToken(c)}isCurrentFlowCodeFlowWithRefreshTokens(c){if(!c)return!1;let{useRefreshToken:e}=c;return this.isCurrentFlowCodeFlow(c)&&!!e}isCurrentFlowImplicitFlowWithAccessToken(c){return this.currentFlowIs("id_token token",c)}currentFlowIs(c,e){let{responseType:s}=e;return Array.isArray(c)?c.some(l=>s===l):s===c}isCurrentFlowImplicitFlowWithoutAccessToken(c){return this.currentFlowIs("id_token",c)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),y7=(()=>{class t{constructor(){this.loggerService=o(b),this.cryptoService=o(D4)}createRandom(c,e){if(c<=0)return"";c>0&&c<7&&(this.loggerService.logWarning(e,`RandomService called with ${c} but 7 chars is the minimum, returning 10 chars`),c=10);let s=c-6,l=new Uint8Array(Math.floor(s/2)),i=this.cryptoService.getCrypto();return i&&i.getRandomValues(l),Array.from(l,this.toHex).join("")+this.randomString(7)}toHex(c){return("0"+c.toString(16)).substr(-2)}randomString(c){let e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=new Uint32Array(c),i=this.cryptoService.getCrypto();if(i){i.getRandomValues(l);for(let a=0;a<c;a++)e+=s[l[a]%s.length]}return e}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),G=(()=>{class t{constructor(){this.loggerService=o(b),this.storagePersistenceService=o(U),this.randomService=o(y7)}createNonce(c){let e=this.randomService.createRandom(40,c);return this.loggerService.logDebug(c,"Nonce created. nonce:"+e),this.setNonce(e,c),e}setNonce(c,e){this.storagePersistenceService.write("authNonce",c,e)}getAuthStateControl(c){return c?this.storagePersistenceService.read("authStateControl",c):""}setAuthStateControl(c,e){return e?this.storagePersistenceService.write("authStateControl",c,e):!1}getExistingOrCreateAuthStateControl(c){let e=this.storagePersistenceService.read("authStateControl",c);return e||(e=this.randomService.createRandom(40,c),this.storagePersistenceService.write("authStateControl",e,c)),e}setSessionState(c,e){this.storagePersistenceService.write("session_state",c,e)}resetStorageFlowData(c){this.storagePersistenceService.resetStorageFlowData(c)}getCodeVerifier(c){return this.storagePersistenceService.read("codeVerifier",c)}createCodeVerifier(c){let e=this.randomService.createRandom(67,c);return this.storagePersistenceService.write("codeVerifier",e,c),e}isCodeFlowInProgress(c){return!!this.storagePersistenceService.read("storageCodeFlowInProgress",c)}setCodeFlowInProgress(c){this.storagePersistenceService.write("storageCodeFlowInProgress",!0,c)}resetCodeFlowInProgress(c){this.storagePersistenceService.write("storageCodeFlowInProgress",!1,c)}isSilentRenewRunning(c){let{configId:e,silentRenewTimeoutInSeconds:s}=c,l=this.getSilentRenewRunningStorageEntry(c);if(!l||l.state==="not-running")return!1;let i=(s??0)*1e3,a=Date.parse(l.dateOfLaunchedProcessUtc),r=Date.parse(new Date().toISOString());return Math.abs(r-a)>i?(this.loggerService.logDebug(c,"silent renew process is probably stuck, state will be reset.",e),this.resetSilentRenewRunning(c),!1):l.state==="running"}setSilentRenewRunning(c){let e={state:"running",dateOfLaunchedProcessUtc:new Date().toISOString()};this.storagePersistenceService.write("storageSilentRenewRunning",JSON.stringify(e),c)}resetSilentRenewRunning(c){c&&this.storagePersistenceService.write("storageSilentRenewRunning","",c)}getSilentRenewRunningStorageEntry(c){let e=this.storagePersistenceService.read("storageSilentRenewRunning",c);return e?JSON.parse(e):{dateOfLaunchedProcessUtc:"",state:"not-running"}}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),R4=class{encodeKey(n){return encodeURIComponent(n)}encodeValue(n){return encodeURIComponent(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}},N7=["code","state","token","id_token"],k7="auth0.com",n2=(()=>{class t{constructor(){this.loggerService=o(b),this.flowsDataService=o(G),this.flowHelper=o(g2),this.storagePersistenceService=o(U),this.jwtWindowCryptoService=o(Y6)}getUrlParameter(c,e){if(!c||!e)return"";e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");let l=new RegExp("[\\?&#]"+e+"=([^&#]*)").exec(c);return l===null?"":decodeURIComponent(l[1])}getUrlWithoutQueryParameters(c){let e=new URL(c.toString()),s=[];for(let l of e.searchParams.keys())s.push(l);return s.forEach(l=>{e.searchParams.delete(l)}),e}queryParametersExist(c,e){let s=!0;return c.forEach((l,i)=>{e.has(i)||(s=!1)}),s}isCallbackFromSts(c,e){if(e&&e.checkRedirectUrlWhenCheckingIfIsCallback){let s=new URL(c),l=this.getRedirectUrl(e);if(!l)return this.loggerService.logError(e,"UrlService.isCallbackFromSts: could not get redirectUrl from config, was: ",l),!1;let i=new URL(l),a=this.getUrlWithoutQueryParameters(i).toString(),r=this.getUrlWithoutQueryParameters(s).toString(),f=this.queryParametersExist(i.searchParams,s.searchParams);if(a!==r||!f)return!1}return N7.some(s=>!!this.getUrlParameter(c,s))}getRefreshSessionSilentRenewUrl(c,e){return this.flowHelper.isCurrentFlowCodeFlow(c)?this.createUrlCodeFlowWithSilentRenew(c,e):h(this.createUrlImplicitFlowWithSilentRenew(c,e))}getAuthorizeParUrl(c,e){let s=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!s)return this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),null;let l=s.authorizationEndpoint;if(!l)return this.loggerService.logError(e,`Can not create an authorize URL when authorizationEndpoint is '${l}'`),null;let{clientId:i}=e;if(!i)return this.loggerService.logError(e,"getAuthorizeParUrl could not add clientId because it was: ",i),null;let a=l.split("?"),r=a[0],f=a[1],u=this.createHttpParams(f);return u=u.set("request_uri",c),u=u.append("client_id",i),`${r}?${u}`}getAuthorizeUrl(c,e){return c?this.flowHelper.isCurrentFlowCodeFlow(c)?this.createUrlCodeFlowAuthorize(c,e):h(this.createUrlImplicitFlowAuthorize(c,e)||""):h(null)}getEndSessionEndpoint(c){let s=this.storagePersistenceService.read("authWellKnownEndPoints",c)?.endSessionEndpoint;if(!s)return{url:"",existingParams:""};let l=s.split("?"),i=l[0],a=l[1]??"";return{url:i,existingParams:a}}getEndSessionUrl(c,e){if(!c)return null;let s=this.storagePersistenceService.getIdToken(c),{customParamsEndSessionRequest:l}=c,i=L(L({},l),e);return this.createEndSessionUrl(s,c,i)}createRevocationEndpointBodyAccessToken(c,e){let s=this.getClientId(e);if(!s)return null;let l=this.createHttpParams();return l=l.set("client_id",s),l=l.set("token",c),l=l.set("token_type_hint","access_token"),l.toString()}createRevocationEndpointBodyRefreshToken(c,e){let s=this.getClientId(e);if(!s)return null;let l=this.createHttpParams();return l=l.set("client_id",s),l=l.set("token",c),l=l.set("token_type_hint","refresh_token"),l.toString()}getRevocationEndpointUrl(c){let s=this.storagePersistenceService.read("authWellKnownEndPoints",c)?.revocationEndpoint;return s?s.split("?")[0]:null}createBodyForCodeFlowCodeRequest(c,e,s){let l=this.getClientId(e);if(!l)return null;let i=this.createHttpParams();if(i=i.set("grant_type","authorization_code"),i=i.set("client_id",l),!e.disablePkce){let f=this.flowsDataService.getCodeVerifier(e);if(!f)return this.loggerService.logError(e,"CodeVerifier is not set ",f),null;i=i.set("code_verifier",f)}i=i.set("code",c),s&&(i=this.appendCustomParams(L({},s),i));let a=this.getSilentRenewUrl(e);if(this.flowsDataService.isSilentRenewRunning(e)&&a)return i=i.set("redirect_uri",a),i.toString();let r=this.getRedirectUrl(e);return r?(i=i.set("redirect_uri",r),i.toString()):null}createBodyForCodeFlowRefreshTokensRequest(c,e,s){let l=this.getClientId(e);if(!l)return null;let i=this.createHttpParams();return i=i.set("grant_type","refresh_token"),i=i.set("client_id",l),i=i.set("refresh_token",c),s&&(i=this.appendCustomParams(L({},s),i)),i.toString()}createBodyForParCodeFlowRequest(c,e){let s=this.getRedirectUrl(c,e);if(!s)return h(null);let l=this.flowsDataService.getExistingOrCreateAuthStateControl(c),i=this.flowsDataService.createNonce(c);this.loggerService.logDebug(c,"Authorize created. adding myautostate: "+l);let a=this.flowsDataService.createCodeVerifier(c);return this.jwtWindowCryptoService.generateCodeChallenge(a).pipe(M(r=>{let{clientId:f,responseType:u,scope:d,hdParam:p,customParamsAuthRequest:S}=c,g=this.createHttpParams("");return g=g.set("client_id",f??""),g=g.append("redirect_uri",s),g=g.append("response_type",u??""),g=g.append("scope",d??""),g=g.append("nonce",i),g=g.append("state",l),g=g.append("code_challenge",r),g=g.append("code_challenge_method","S256"),p&&(g=g.append("hd",p)),S&&(g=this.appendCustomParams(L({},S),g)),e?.customParams&&(g=this.appendCustomParams(L({},e.customParams),g)),g.toString()}))}getPostLogoutRedirectUrl(c){let{postLogoutRedirectUri:e}=c;return e||(this.loggerService.logError(c,"could not get postLogoutRedirectUri, was: ",e),null)}createEndSessionUrl(c,e,s){if(this.isAuth0Endpoint(e))return this.composeAuth0Endpoint(e);let{url:l,existingParams:i}=this.getEndSessionEndpoint(e);if(!l)return null;let a=this.createHttpParams(i);c&&(a=a.set("id_token_hint",c));let r=this.getPostLogoutRedirectUrl(e);return r&&(a=a.append("post_logout_redirect_uri",r)),s&&(a=this.appendCustomParams(L({},s),a)),`${l}?${a}`}createAuthorizeUrl(c,e,s,l,i,a,r){let u=this.storagePersistenceService.read("authWellKnownEndPoints",i)?.authorizationEndpoint;if(!u)return this.loggerService.logError(i,`Can not create an authorize URL when authorizationEndpoint is '${u}'`),"";let{clientId:d,responseType:p,scope:S,hdParam:g,customParamsAuthRequest:T}=i;if(!d)return this.loggerService.logError(i,"createAuthorizeUrl could not add clientId because it was: ",d),"";if(!p)return this.loggerService.logError(i,"createAuthorizeUrl could not add responseType because it was: ",p),"";if(!S)return this.loggerService.logError(i,"createAuthorizeUrl could not add scope because it was: ",S),"";let y=u.split("?"),P=y[0],F=y[1],x=this.createHttpParams(F);x=x.set("client_id",d),x=x.append("redirect_uri",e),x=x.append("response_type",p),x=x.append("scope",S),x=x.append("nonce",s),x=x.append("state",l),this.flowHelper.isCurrentFlowCodeFlow(i)&&(x=x.append("code_challenge",c),x=x.append("code_challenge_method","S256"));let a2=L(L({},T),r);return Object.keys(a2).length>0&&(x=this.appendCustomParams(L({},a2),x)),a&&(x=this.overWriteParam(x,"prompt",a)),g&&(x=x.append("hd",g)),`${P}?${x}`}createUrlImplicitFlowWithSilentRenew(c,e){let s=this.flowsDataService.getExistingOrCreateAuthStateControl(c),l=this.flowsDataService.createNonce(c),i=this.getSilentRenewUrl(c);return i?(this.loggerService.logDebug(c,"RefreshSession created. adding myautostate: ",s),this.storagePersistenceService.read("authWellKnownEndPoints",c)?this.createAuthorizeUrl("",i,l,s,c,"none",e):(this.loggerService.logError(c,"authWellKnownEndpoints is undefined"),null)):null}createUrlCodeFlowWithSilentRenew(c,e){let s=this.flowsDataService.getExistingOrCreateAuthStateControl(c),l=this.flowsDataService.createNonce(c);this.loggerService.logDebug(c,"RefreshSession created. adding myautostate: "+s);let i=this.flowsDataService.createCodeVerifier(c);return this.jwtWindowCryptoService.generateCodeChallenge(i).pipe(M(a=>{let r=this.getSilentRenewUrl(c);return r?this.storagePersistenceService.read("authWellKnownEndPoints",c)?this.createAuthorizeUrl(a,r,l,s,c,"none",e):(this.loggerService.logWarning(c,"authWellKnownEndpoints is undefined"),""):""}))}createUrlImplicitFlowAuthorize(c,e){let s=this.flowsDataService.getExistingOrCreateAuthStateControl(c),l=this.flowsDataService.createNonce(c);this.loggerService.logDebug(c,"Authorize created. adding myautostate: "+s);let i=this.getRedirectUrl(c,e);if(!i)return null;if(this.storagePersistenceService.read("authWellKnownEndPoints",c)){let{customParams:r}=e||{};return this.createAuthorizeUrl("",i,l,s,c,"",r)}return this.loggerService.logError(c,"authWellKnownEndpoints is undefined"),null}createUrlCodeFlowAuthorize(c,e){let s=this.flowsDataService.getExistingOrCreateAuthStateControl(c),l=this.flowsDataService.createNonce(c);this.loggerService.logDebug(c,"Authorize created. adding myautostate: "+s);let i=this.getRedirectUrl(c,e);return i?this.getCodeChallenge(c).pipe(M(a=>{if(this.storagePersistenceService.read("authWellKnownEndPoints",c)){let{customParams:f}=e||{};return this.createAuthorizeUrl(a,i,l,s,c,"",f)}return this.loggerService.logError(c,"authWellKnownEndpoints is undefined"),""})):h(null)}getCodeChallenge(c){if(c.disablePkce)return h("");let e=this.flowsDataService.createCodeVerifier(c);return this.jwtWindowCryptoService.generateCodeChallenge(e)}getRedirectUrl(c,e){let{redirectUrl:s}=c;return e?.redirectUrl&&(s=e.redirectUrl),s||(this.loggerService.logError(c,"could not get redirectUrl, was: ",s),null)}getSilentRenewUrl(c){let{silentRenewUrl:e}=c;return e||(this.loggerService.logError(c,"could not get silentRenewUrl, was: ",e),null)}getClientId(c){let{clientId:e}=c;return e||(this.loggerService.logError(c,"could not get clientId, was: ",e),null)}appendCustomParams(c,e){for(let[s,l]of Object.entries(L({},c)))e=e.append(s,l.toString());return e}overWriteParam(c,e,s){return c.set(e,s)}createHttpParams(c){return c=c??"",new _1({fromString:c,encoder:new R4})}isAuth0Endpoint(c){let{authority:e,useCustomAuth0Domain:s}=c;return e?e.endsWith(k7)||!!s:!1}composeAuth0Endpoint(c){let{authority:e,clientId:s}=c,l=this.getPostLogoutRedirectUrl(c);return`${e}/v2/logout?client_id=${s}&returnTo=${l}`}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),A7=(()=>{class t{constructor(){this.http=o(c6)}get(c,e){return this.http.get(c,e)}post(c,e,s){return this.http.post(c,e,s)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),R7="ngsw-bypass",R2=(()=>{class t{constructor(){this.httpClient=o(A7)}get(c,e,s){let l=this.prepareHeaders(s),i=this.prepareParams(e);return this.httpClient.get(c,{headers:l,params:i})}post(c,e,s,l){let i=l||this.prepareHeaders(),a=this.prepareParams(s);return this.httpClient.post(c??"",e,{headers:i,params:a})}prepareHeaders(c){let e=new W2;return e=e.set("Accept","application/json"),c&&(e=e.set("Authorization","Bearer "+decodeURIComponent(c))),e}prepareParams(c){let e=new _1,{ngswBypass:s}=c;return s&&(e=e.set(R7,"")),e}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Q6=t=>!!t&&t instanceof Z0&&(t.error instanceof ProgressEvent&&t.error.type==="error"||t.status===0&&!!t.error),I7=(()=>{class t{constructor(){this.urlService=o(n2),this.loggerService=o(b),this.tokenValidationService=o(d3),this.flowsDataService=o(G),this.storagePersistenceService=o(U),this.dataService=o(R2)}codeFlowCallback(c,e){let s=this.urlService.getUrlParameter(c,"code"),l=this.urlService.getUrlParameter(c,"state"),i=this.urlService.getUrlParameter(c,"session_state");return l?s?(this.loggerService.logDebug(e,"running validation for callback",c),h({code:s,refreshToken:"",state:l,sessionState:i,authResult:null,isRenewProcess:!1,jwtKeys:null,validationResult:null,existingIdToken:null})):(this.loggerService.logDebug(e,"no code in url"),C(()=>new Error("no code in url"))):(this.loggerService.logDebug(e,"no state in url"),C(()=>new Error("no state in url")))}codeFlowCodeRequest(c,e){let s=this.flowsDataService.getAuthStateControl(e);if(!this.tokenValidationService.validateStateFromHashCallback(c.state,s,e))return C(()=>new Error("codeFlowCodeRequest incorrect state"));let a=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.tokenEndpoint;if(!a)return C(()=>new Error("Token Endpoint not defined"));let r=new W2;r=r.set("Content-Type","application/x-www-form-urlencoded");let f=this.urlService.createBodyForCodeFlowCodeRequest(c.code,e,e?.customParamsCodeRequest);return this.dataService.post(a,f,e,r).pipe(k(u=>{if(u){let d=W(L({},u),{state:c.state,session_state:c.sessionState});c.authResult=d}return h(c)}),F1(u=>this.handleRefreshRetry(u,e)),I(u=>{let{authority:d}=e,p=`OidcService code request ${d}`;return this.loggerService.logError(e,p,u),C(()=>new Error(p))}))}handleRefreshRetry(c,e){return c.pipe(O(s=>{if(Q6(s)){let{authority:l,refreshTokenRetryInSeconds:i}=e,a=`OidcService code request ${l} - no internet connection`;return this.loggerService.logWarning(e,a,s),E1((i??0)*1e3)}return C(()=>s)}))}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),E=function(t){return t.NotSet="NotSet",t.StatesDoNotMatch="StatesDoNotMatch",t.SignatureFailed="SignatureFailed",t.IncorrectNonce="IncorrectNonce",t.RequiredPropertyMissing="RequiredPropertyMissing",t.MaxOffsetExpired="MaxOffsetExpired",t.IssDoesNotMatchIssuer="IssDoesNotMatchIssuer",t.NoAuthWellKnownEndPoints="NoAuthWellKnownEndPoints",t.IncorrectAud="IncorrectAud",t.IncorrectIdTokenClaimsAfterRefresh="IncorrectIdTokenClaimsAfterRefresh",t.IncorrectAzp="IncorrectAzp",t.TokenExpired="TokenExpired",t.IncorrectAtHash="IncorrectAtHash",t.Ok="Ok",t.LoginRequired="LoginRequired",t.SecureTokenServerError="SecureTokenServerError",t}(E||{}),D7={userData:null,allUserData:[]},Q2=(()=>{class t{constructor(){this.userDataInternal$=new B(D7),this.loggerService=o(b),this.tokenHelperService=o(u3),this.flowHelper=o(g2),this.oidcDataService=o(R2),this.storagePersistenceService=o(U),this.eventService=o(A2)}get userData$(){return this.userDataInternal$.asObservable()}getAndPersistUserDataInStore(c,e,s=!1,l,i){l=l||this.storagePersistenceService.getIdToken(c),i=i||this.tokenHelperService.getPayloadFromToken(l,!1,c);let a=this.getUserDataFromStore(c),r=!!a,f=this.flowHelper.isCurrentFlowImplicitFlowWithAccessToken(c),u=this.flowHelper.isCurrentFlowCodeFlow(c),d=this.storagePersistenceService.getAccessToken(c);if(!(f||u))return this.loggerService.logDebug(c,`authCallback idToken flow with accessToken ${d}`),this.setUserDataToStore(i,c,e),h(i);let{renewUserInfoAfterTokenRenew:p}=c;return!s||p||!r?this.getUserDataOidcFlowAndSave(i.sub,c,e).pipe(k(S=>(this.loggerService.logDebug(c,"Received user data: ",S),S?(this.loggerService.logDebug(c,"accessToken: ",d),h(S)):C(()=>new Error("Received no user data, request failed"))))):h(a)}getUserDataFromStore(c){return c?this.storagePersistenceService.read("userData",c)||null:C(()=>new Error("Please provide a configuration before setting up the module"))}publishUserDataIfExists(c,e){let s=this.getUserDataFromStore(c);s&&this.fireUserDataEvent(c,e,s)}setUserDataToStore(c,e,s){this.storagePersistenceService.write("userData",c,e),this.fireUserDataEvent(e,s,c)}resetUserDataInStore(c,e){this.storagePersistenceService.remove("userData",c),this.fireUserDataEvent(c,e,null)}getUserDataOidcFlowAndSave(c,e,s){return this.getIdentityUserData(e).pipe(M(l=>this.validateUserDataSubIdToken(e,c,l?.sub)?(this.setUserDataToStore(l,e,s),l):(this.loggerService.logWarning(e,"User data sub does not match sub in id_token, resetting"),this.resetUserDataInStore(e,s),null)))}getIdentityUserData(c){let e=this.storagePersistenceService.getAccessToken(c),s=this.storagePersistenceService.read("authWellKnownEndPoints",c);if(!s)return this.loggerService.logWarning(c,"init check session: authWellKnownEndpoints is undefined"),C(()=>new Error("authWellKnownEndpoints is undefined"));let l=s.userInfoEndpoint;return l?this.oidcDataService.get(l,c,e).pipe(O2(2)):(this.loggerService.logError(c,"init check session: authWellKnownEndpoints.userinfo_endpoint is undefined; set auto_userinfo = false in config"),C(()=>new Error("authWellKnownEndpoints.userinfo_endpoint is undefined")))}validateUserDataSubIdToken(c,e,s){return!e||!s?!1:e.toString()!==s.toString()?(this.loggerService.logDebug(c,"validateUserDataSubIdToken failed",e,s),!1):!0}fireUserDataEvent(c,e,s){let l=this.composeSingleOrMultipleUserDataObject(c,e,s);this.userDataInternal$.next(l);let{configId:i}=c;this.eventService.fireEvent(V.UserDataChanged,{configId:i,userData:s})}composeSingleOrMultipleUserDataObject(c,e,s){if(!(e.length>1)){let{configId:a}=c;return this.composeSingleUserDataResult(a??"",s)}return{userData:null,allUserData:e.map(a=>{let r=c.configId??"",f=a.configId??"";if(this.currentConfigIsToUpdate(r,a))return{configId:f,userData:s};let u=this.storagePersistenceService.read("userData",a)||null;return{configId:f,userData:u}})}}composeSingleUserDataResult(c,e){return{userData:e,allUserData:[{configId:c,userData:e}]}}currentConfigIsToUpdate(c,e){return e.configId===c}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),M2=(()=>{class t{constructor(){this.loggerService=o(b),this.userService=o(Q2),this.flowsDataService=o(G),this.authStateService=o(Z)}resetAuthorizationData(c,e){c&&(this.userService.resetUserDataInStore(c,e),this.flowsDataService.resetStorageFlowData(c),this.authStateService.setUnauthenticatedAndFireEvent(c,e),this.loggerService.logDebug(c,"Local Login information cleaned up and event fired"))}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),T7=(()=>{class t{constructor(){this.loggerService=o(b),this.storagePersistenceService=o(U),this.dataService=o(R2)}getSigningKeys(c){let s=this.storagePersistenceService.read("authWellKnownEndPoints",c)?.jwksUri;if(!s){let l=`getSigningKeys: authWellKnownEndpoints.jwksUri is: '${s}'`;return this.loggerService.logWarning(c,l),C(()=>new Error(l))}return this.loggerService.logDebug(c,"Getting signinkeys from ",s),this.dataService.get(s,c).pipe(O2(2),I(l=>this.handleErrorGetSigningKeys(l,c)))}handleErrorGetSigningKeys(c,e){let s="";if(c instanceof J0){let l=c.body||{},i=JSON.stringify(l),{status:a,statusText:r}=c;s=`${a||""} - ${r||""} ${i||""}`}else{let{message:l}=c;s=l||`${c}`}return this.loggerService.logError(e,s),C(()=>new Error(s))}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$6="jwtKeys",P7=(()=>{class t{constructor(){this.loggerService=o(b),this.authStateService=o(Z),this.flowsDataService=o(G),this.signInKeyDataService=o(T7),this.storagePersistenceService=o(U),this.resetAuthDataService=o(M2),this.document=o($)}callbackHistoryAndResetJwtKeys(c,e,s){let l=L({},c.authResult);if(!this.responseHasIdToken(c)){let i=this.storagePersistenceService.getIdToken(e);l=W(L({},l),{id_token:i})}if(this.storagePersistenceService.write("authnResult",l,e),e.allowUnsafeReuseRefreshToken&&c.authResult?.refresh_token&&this.storagePersistenceService.write("reusable_refresh_token",c.authResult.refresh_token,e),this.historyCleanUpTurnedOn(e)&&!c.isRenewProcess?this.resetBrowserHistory():this.loggerService.logDebug(e,"history clean up inactive"),c.authResult?.error){let i=`AuthCallback AuthResult came with error: ${c.authResult.error}`;return this.loggerService.logDebug(e,i),this.resetAuthDataService.resetAuthorizationData(e,s),this.flowsDataService.setNonce("",e),this.handleResultErrorFromCallback(c.authResult,c.isRenewProcess),C(()=>new Error(i))}return this.loggerService.logDebug(e,`AuthResult '${JSON.stringify(c.authResult,null,2)}'.
      AuthCallback created, begin token validation`),this.signInKeyDataService.getSigningKeys(e).pipe(R(i=>this.storeSigningKeys(i,e)),I(i=>{let a=this.readSigningKeys(e);return a?(this.loggerService.logWarning(e,"Failed to retrieve signing keys, fallback to stored keys"),h(a)):C(()=>new Error(i))}),k(i=>{if(i)return c.jwtKeys=i,h(c);let a="Failed to retrieve signing key";return this.loggerService.logWarning(e,a),C(()=>new Error(a))}),I(i=>{let a=`Failed to retrieve signing key with error: ${i}`;return this.loggerService.logWarning(e,a),C(()=>new Error(a))}))}responseHasIdToken(c){return!!c?.authResult?.id_token}handleResultErrorFromCallback(c,e){let s=E.SecureTokenServerError;c&&typeof c=="object"&&"error"in c&&c.error==="login_required"&&(s=E.LoginRequired),this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:s,isRenewProcess:e})}historyCleanUpTurnedOn(c){let{historyCleanupOff:e}=c;return!e}resetBrowserHistory(){this.document.defaultView?.history.replaceState({},this.document.title,this.document.defaultView.location.origin+this.document.defaultView.location.pathname)}storeSigningKeys(c,e){this.storagePersistenceService.write($6,c,e)}readSigningKeys(c){return this.storagePersistenceService.read($6,c)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),E7=(()=>{class t{constructor(){this.loggerService=o(b),this.resetAuthDataService=o(M2),this.flowsDataService=o(G),this.document=o($)}implicitFlowCallback(c,e,s){let l=this.flowsDataService.isSilentRenewRunning(c);this.loggerService.logDebug(c,"BEGIN callback, no auth data"),l||this.resetAuthDataService.resetAuthorizationData(c,e),s=s||this.document.location.hash.substring(1);let a={code:"",refreshToken:"",state:"",sessionState:null,authResult:s.split("&").reduce((r,f)=>{let u=f.split("=");return r[u.shift()]=u.join("="),r},{}),isRenewProcess:l,jwtKeys:null,validationResult:null,existingIdToken:null};return h(a)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),F7=(()=>{class t{constructor(){this.loggerService=o(b),this.authStateService=o(Z),this.flowsDataService=o(G)}refreshSessionWithRefreshTokens(c){let e=this.flowsDataService.getExistingOrCreateAuthStateControl(c);this.loggerService.logDebug(c,"RefreshSession created. Adding myautostate: "+e);let s=this.authStateService.getRefreshToken(c),l=this.authStateService.getIdToken(c);if(s){let i={code:"",refreshToken:s,state:e,sessionState:null,authResult:null,isRenewProcess:!0,jwtKeys:null,validationResult:null,existingIdToken:l};return this.loggerService.logDebug(c,"found refresh code, obtaining new credentials with refresh code"),this.flowsDataService.setNonce(d3.refreshTokenNoncePlaceholder,c),h(i)}else{let i="no refresh token found, please login";return this.loggerService.logError(c,i),C(()=>new Error(i))}}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),U7=(()=>{class t{constructor(){this.urlService=o(n2),this.loggerService=o(b),this.dataService=o(R2),this.storagePersistenceService=o(U)}refreshTokensRequestTokens(c,e,s){let l=new W2;l=l.set("Content-Type","application/x-www-form-urlencoded");let a=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.tokenEndpoint;if(!a)return C(()=>new Error("Token Endpoint not defined"));let r=this.urlService.createBodyForCodeFlowRefreshTokensRequest(c.refreshToken,e,s);return this.dataService.post(a,r,e,l).pipe(k(f=>(this.loggerService.logDebug(e,`token refresh response: ${f}`),f&&(f.state=c.state),c.authResult=f,h(c))),F1(f=>this.handleRefreshRetry(f,e)),I(f=>{let{authority:u}=e,d=`OidcService code request ${u}`;return this.loggerService.logError(e,d,f),C(()=>new Error(d))}))}handleRefreshRetry(c,e){return c.pipe(O(s=>{if(Q6(s)){let{authority:l,refreshTokenRetryInSeconds:i}=e,a=`OidcService code request ${l} - no internet connection`;return this.loggerService.logWarning(e,a,s),E1((i??0)*1e3)}return C(()=>s)}))}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),O7=(()=>{class t{isStringEqualOrNonOrderedArrayEqual(c,e){return this.isNullOrUndefined(c)||this.isNullOrUndefined(e)||this.oneValueIsStringAndTheOtherIsArray(c,e)?!1:this.bothValuesAreStrings(c,e)?c===e:this.arraysHaveEqualContent(c,e)}areEqual(c,e){if(!c||!e)return!1;if(this.bothValuesAreArrays(c,e))return this.arraysStrictEqual(c,e);if(this.bothValuesAreStrings(c,e))return c===e;if(this.bothValuesAreObjects(c,e))return JSON.stringify(c).toLowerCase()===JSON.stringify(e).toLowerCase();if(this.oneValueIsStringAndTheOtherIsArray(c,e)){if(Array.isArray(c)&&this.valueIsString(e))return c[0]===e;if(Array.isArray(e)&&this.valueIsString(c))return e[0]===c}return c===e}oneValueIsStringAndTheOtherIsArray(c,e){return Array.isArray(c)&&this.valueIsString(e)||Array.isArray(e)&&this.valueIsString(c)}bothValuesAreObjects(c,e){return this.valueIsObject(c)&&this.valueIsObject(e)}bothValuesAreStrings(c,e){return this.valueIsString(c)&&this.valueIsString(e)}bothValuesAreArrays(c,e){return Array.isArray(c)&&Array.isArray(e)}valueIsString(c){return typeof c=="string"||c instanceof String}valueIsObject(c){return typeof c=="object"}arraysStrictEqual(c,e){if(c.length!==e.length)return!1;for(let s=c.length;s--;)if(c[s]!==e[s])return!1;return!0}arraysHaveEqualContent(c,e){return c.length!==e.length?!1:c.some(s=>e.includes(s))}isNullOrUndefined(c){return c==null}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),f3=class{constructor(n="",c="",e=!1,s={at_hash:""},l=E.NotSet){this.accessToken=n,this.idToken=c,this.authResponseIsValid=e,this.decodedIdToken=s,this.state=l}},H7=(()=>{class t{constructor(){this.storagePersistenceService=o(U),this.tokenValidationService=o(d3),this.tokenHelperService=o(u3),this.loggerService=o(b),this.equalityService=o(O7),this.flowHelper=o(g2)}getValidatedStateResult(c,e){let s=!!c.authResult?.error;return!!!c||s?h(new f3("","",!1,{})):this.validateState(c,e)}validateState(c,e){let s=new f3,l=this.storagePersistenceService.read("authStateControl",e);if(!this.tokenValidationService.validateStateFromHashCallback(c.authResult?.state,l,e))return this.loggerService.logWarning(e,"authCallback incorrect state"),s.state=E.StatesDoNotMatch,this.handleUnsuccessfulValidation(e),h(s);let i=this.flowHelper.isCurrentFlowImplicitFlowWithAccessToken(e),a=this.flowHelper.isCurrentFlowCodeFlow(e);if((i||a)&&(s.accessToken=c.authResult?.access_token??""),e.disableIdTokenValidation)return s.state=E.Ok,s.authResponseIsValid=!0,h(s);let f=c.isRenewProcess&&!!c.refreshToken,u=!!c.authResult?.id_token;if(f&&!u)return s.state=E.Ok,s.authResponseIsValid=!0,h(s);if(u){let{clientId:d,issValidationOff:p,maxIdTokenIatOffsetAllowedInSeconds:S,disableIatOffsetValidation:g,ignoreNonceAfterRefresh:T,renewTimeBeforeTokenExpiresInSeconds:y}=e;return s.idToken=c.authResult?.id_token??"",s.decodedIdToken=this.tokenHelperService.getPayloadFromToken(s.idToken,!1,e),this.tokenValidationService.validateSignatureIdToken(s.idToken,c.jwtKeys,e).pipe(O(P=>{if(!P)return this.loggerService.logDebug(e,"authCallback Signature validation failed id_token"),s.state=E.SignatureFailed,this.handleUnsuccessfulValidation(e),h(s);let F=this.storagePersistenceService.read("authNonce",e);if(!this.tokenValidationService.validateIdTokenNonce(s.decodedIdToken,F,!!T,e))return this.loggerService.logWarning(e,"authCallback incorrect nonce, did you call the checkAuth() method multiple times?"),s.state=E.IncorrectNonce,this.handleUnsuccessfulValidation(e),h(s);if(!this.tokenValidationService.validateRequiredIdToken(s.decodedIdToken,e))return this.loggerService.logDebug(e,"authCallback Validation, one of the REQUIRED properties missing from id_token"),s.state=E.RequiredPropertyMissing,this.handleUnsuccessfulValidation(e),h(s);if(!f&&!this.tokenValidationService.validateIdTokenIatMaxOffset(s.decodedIdToken,S??120,!!g,e))return this.loggerService.logWarning(e,"authCallback Validation, iat rejected id_token was issued too far away from the current time"),s.state=E.MaxOffsetExpired,this.handleUnsuccessfulValidation(e),h(s);let x=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(x){if(p)this.loggerService.logDebug(e,"iss validation is turned off, this is not recommended!");else if(!p&&!this.tokenValidationService.validateIdTokenIss(s.decodedIdToken,x.issuer,e))return this.loggerService.logWarning(e,"authCallback incorrect iss does not match authWellKnownEndpoints issuer"),s.state=E.IssDoesNotMatchIssuer,this.handleUnsuccessfulValidation(e),h(s)}else return this.loggerService.logWarning(e,"authWellKnownEndpoints is undefined"),s.state=E.NoAuthWellKnownEndPoints,this.handleUnsuccessfulValidation(e),h(s);return this.tokenValidationService.validateIdTokenAud(s.decodedIdToken,d,e)?this.tokenValidationService.validateIdTokenAzpExistsIfMoreThanOneAud(s.decodedIdToken)?this.tokenValidationService.validateIdTokenAzpValid(s.decodedIdToken,d)?this.isIdTokenAfterRefreshTokenRequestValid(c,s.decodedIdToken,e)?!f&&!this.tokenValidationService.validateIdTokenExpNotExpired(s.decodedIdToken,e,y)?(this.loggerService.logWarning(e,"authCallback id token expired"),s.state=E.TokenExpired,this.handleUnsuccessfulValidation(e),h(s)):this.validateDefault(i,a,s,e,c):(this.loggerService.logWarning(e,"authCallback pre, post id_token claims do not match in refresh"),s.state=E.IncorrectIdTokenClaimsAfterRefresh,this.handleUnsuccessfulValidation(e),h(s)):(this.loggerService.logWarning(e,"authCallback incorrect azp"),s.state=E.IncorrectAzp,this.handleUnsuccessfulValidation(e),h(s)):(this.loggerService.logWarning(e,"authCallback missing azp"),s.state=E.IncorrectAzp,this.handleUnsuccessfulValidation(e),h(s)):(this.loggerService.logWarning(e,"authCallback incorrect aud"),s.state=E.IncorrectAud,this.handleUnsuccessfulValidation(e),h(s))}))}else this.loggerService.logDebug(e,"No id_token found, skipping id_token validation");return this.validateDefault(i,a,s,e,c)}validateDefault(c,e,s,l,i){if(!c&&!e)return s.authResponseIsValid=!0,s.state=E.Ok,this.handleSuccessfulValidation(l),this.handleUnsuccessfulValidation(l),h(s);if(i.authResult?.id_token){let a=this.tokenHelperService.getHeaderFromToken(s.idToken,!1,l);if(e&&!s.decodedIdToken.at_hash)this.loggerService.logDebug(l,"Code Flow active, and no at_hash in the id_token, skipping check!");else return this.tokenValidationService.validateIdTokenAtHash(s.accessToken,s.decodedIdToken.at_hash,a.alg,l).pipe(M(r=>!r||!s.accessToken?(this.loggerService.logWarning(l,"authCallback incorrect at_hash"),s.state=E.IncorrectAtHash,this.handleUnsuccessfulValidation(l),s):(s.authResponseIsValid=!0,s.state=E.Ok,this.handleSuccessfulValidation(l),s)))}return s.authResponseIsValid=!0,s.state=E.Ok,this.handleSuccessfulValidation(l),h(s)}isIdTokenAfterRefreshTokenRequestValid(c,e,s){let{useRefreshToken:l,disableRefreshIdTokenAuthTimeValidation:i}=s;if(!l||!c.existingIdToken)return!0;let a=this.tokenHelperService.getPayloadFromToken(c.existingIdToken,!1,s);return a.iss!==e.iss?(this.loggerService.logDebug(s,`iss do not match: ${a.iss} ${e.iss}`),!1):a.azp!==e.azp?(this.loggerService.logDebug(s,`azp do not match: ${a.azp} ${e.azp}`),!1):a.sub!==e.sub?(this.loggerService.logDebug(s,`sub do not match: ${a.sub} ${e.sub}`),!1):this.equalityService.isStringEqualOrNonOrderedArrayEqual(a?.aud,e?.aud)?i?!0:a.auth_time!==e.auth_time?(this.loggerService.logDebug(s,`auth_time do not match: ${a.auth_time} ${e.auth_time}`),!1):!0:(this.loggerService.logDebug(s,`aud in new id_token is not valid: '${a?.aud}' '${e.aud}'`),!1)}handleSuccessfulValidation(c){let{autoCleanStateAfterAuthentication:e}=c;this.storagePersistenceService.write("authNonce",null,c),e&&this.storagePersistenceService.write("authStateControl","",c),this.loggerService.logDebug(c,"authCallback token(s) validated, continue")}handleUnsuccessfulValidation(c){let{autoCleanStateAfterAuthentication:e}=c;this.storagePersistenceService.write("authNonce",null,c),e&&this.storagePersistenceService.write("authStateControl","",c),this.loggerService.logDebug(c,"authCallback token(s) invalid")}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),W7=(()=>{class t{constructor(){this.loggerService=o(b),this.stateValidationService=o(H7),this.authStateService=o(Z),this.resetAuthDataService=o(M2),this.document=o($)}callbackStateValidation(c,e,s){return this.stateValidationService.getValidatedStateResult(c,e).pipe(M(l=>{if(c.validationResult=l,l.authResponseIsValid)return this.authStateService.setAuthorizationData(l.accessToken,c.authResult,e,s),c;{let i=`authorizedCallback, token(s) validation failed, resetting. Hash: ${this.document.location.hash}`;throw this.loggerService.logWarning(e,i),this.resetAuthDataService.resetAuthorizationData(e,s),this.publishUnauthorizedState(c.validationResult,c.isRenewProcess),new Error(i)}}))}publishUnauthorizedState(c,e){this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:c.state,isRenewProcess:e})}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),j7=(()=>{class t{constructor(){this.loggerService=o(b),this.authStateService=o(Z),this.flowsDataService=o(G),this.userService=o(Q2),this.resetAuthDataService=o(M2)}callbackUser(c,e,s){let{isRenewProcess:l,validationResult:i,authResult:a,refreshToken:r}=c,{autoUserInfo:f,renewUserInfoAfterTokenRenew:u}=e;return f?this.userService.getAndPersistUserDataInStore(e,s,l,i?.idToken,i?.decodedIdToken).pipe(k(d=>{if(d)return r||this.flowsDataService.setSessionState(a?.session_state,e),this.publishAuthState(i,l),h(c);{this.resetAuthDataService.resetAuthorizationData(e,s),this.publishUnauthenticatedState(i,l);let p=`Called for userData but they were ${d}`;return this.loggerService.logWarning(e,p),C(()=>new Error(p))}}),I(d=>{let p=`Failed to retrieve user info with error:  ${d}`;return this.loggerService.logWarning(e,p),C(()=>new Error(p))})):((!l||u)&&i?.decodedIdToken&&this.userService.setUserDataToStore(i.decodedIdToken,e,s),!l&&!r&&this.flowsDataService.setSessionState(a?.session_state,e),this.publishAuthState(i,l),h(c))}publishAuthState(c,e){c&&this.authStateService.updateAndPublishAuthState({isAuthenticated:!0,validationResult:c.state,isRenewProcess:e})}publishUnauthenticatedState(c,e){c&&this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:c.state,isRenewProcess:e})}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),h3=(()=>{class t{constructor(){this.codeFlowCallbackHandlerService=o(I7),this.implicitFlowCallbackHandlerService=o(E7),this.historyJwtKeysCallbackHandlerService=o(P7),this.userHandlerService=o(j7),this.stateValidationCallbackHandlerService=o(W7),this.refreshSessionCallbackHandlerService=o(F7),this.refreshTokenCallbackHandlerService=o(U7)}processCodeFlowCallback(c,e,s){return this.codeFlowCallbackHandlerService.codeFlowCallback(c,e).pipe(N(l=>this.codeFlowCallbackHandlerService.codeFlowCodeRequest(l,e)),N(l=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(l,e,s)),N(l=>this.stateValidationCallbackHandlerService.callbackStateValidation(l,e,s)),N(l=>this.userHandlerService.callbackUser(l,e,s)))}processSilentRenewCodeFlowCallback(c,e,s){return this.codeFlowCallbackHandlerService.codeFlowCodeRequest(c,e).pipe(N(l=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(l,e,s)),N(l=>this.stateValidationCallbackHandlerService.callbackStateValidation(l,e,s)),N(l=>this.userHandlerService.callbackUser(l,e,s)))}processImplicitFlowCallback(c,e,s){return this.implicitFlowCallbackHandlerService.implicitFlowCallback(c,e,s).pipe(N(l=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(l,c,e)),N(l=>this.stateValidationCallbackHandlerService.callbackStateValidation(l,c,e)),N(l=>this.userHandlerService.callbackUser(l,c,e)))}processRefreshToken(c,e,s){return this.refreshSessionCallbackHandlerService.refreshSessionWithRefreshTokens(c).pipe(N(l=>this.refreshTokenCallbackHandlerService.refreshTokensRequestTokens(l,c,s)),N(l=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(l,c,e)),N(l=>this.stateValidationCallbackHandlerService.callbackStateValidation(l,c,e)),N(l=>this.userHandlerService.callbackUser(l,c,e)))}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),N1=(()=>{class t{constructor(){this.zone=o(j1),this.document=o($),this.runTokenValidationRunning=null}isTokenValidationRunning(){return!!this.runTokenValidationRunning}stopPeriodicTokenCheck(){this.runTokenValidationRunning&&(this.runTokenValidationRunning.unsubscribe(),this.runTokenValidationRunning=null)}startPeriodicTokenCheck(c){let e=c*1e3;return new n1(s=>{let l;return this.zone.runOutsideAngular(()=>{l=this.document?.defaultView?.setInterval(()=>this.zone.run(()=>s.next()),e)}),()=>{clearInterval(l)}})}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),B7=(()=>{class t{constructor(){this.flowsService=o(h3),this.router=o(k2),this.flowsDataService=o(G),this.intervalService=o(N1)}authenticatedCallbackWithCode(c,e,s){let l=this.flowsDataService.isSilentRenewRunning(e),{triggerAuthorizationResultEvent:i}=e,a=e.postLoginRoute||"/",r=e.unauthorizedRoute||"/";return this.flowsService.processCodeFlowCallback(c,e,s).pipe(R(f=>{this.flowsDataService.resetCodeFlowInProgress(e),!i&&!f.isRenewProcess&&this.router.navigateByUrl(a)}),I(f=>(this.flowsDataService.resetSilentRenewRunning(e),this.flowsDataService.resetCodeFlowInProgress(e),this.intervalService.stopPeriodicTokenCheck(),!i&&!l&&this.router.navigateByUrl(r),C(()=>new Error(f)))))}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),J6=(()=>{class t{constructor(){this.flowsService=o(h3),this.router=o(k2),this.flowsDataService=o(G),this.intervalService=o(N1)}authenticatedImplicitFlowCallback(c,e,s){let l=this.flowsDataService.isSilentRenewRunning(c),i=!!c.triggerAuthorizationResultEvent,a=c.postLoginRoute??"",r=c.unauthorizedRoute??"";return this.flowsService.processImplicitFlowCallback(c,e,s).pipe(R(f=>{!i&&!f.isRenewProcess&&this.router.navigateByUrl(a)}),I(f=>(this.flowsDataService.resetSilentRenewRunning(c),this.intervalService.stopPeriodicTokenCheck(),!i&&!l&&this.router.navigateByUrl(r),C(()=>new Error(f)))))}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Z6=(()=>{class t{constructor(){this.urlService=o(n2),this.flowHelper=o(g2),this.implicitFlowCallbackService=o(J6),this.codeFlowCallbackService=o(B7),this.stsCallbackInternal$=new c2}get stsCallback$(){return this.stsCallbackInternal$.asObservable()}isCallback(c,e){return c?this.urlService.isCallbackFromSts(c,e):!1}handleCallbackAndFireEvents(c,e,s){let l=new n1;if(this.flowHelper.isCurrentFlowCodeFlow(e))l=this.codeFlowCallbackService.authenticatedCallbackWithCode(c,e,s);else if(this.flowHelper.isCurrentFlowAnyImplicitFlow(e))if(c?.includes("#")){let i=c.substring(c.indexOf("#")+1);l=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(e,s,i)}else l=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(e,s);return l.pipe(R(()=>this.stsCallbackInternal$.next()))}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$7=(()=>{class t{constructor(){this.platformId=o(E0)}isBrowser(){return Q0(this.platformId)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),q7="/.well-known/openid-configuration",_7=(()=>{class t{constructor(){this.loggerService=o(b),this.http=o(R2)}getWellKnownEndPointsForConfig(c){let{authWellknownEndpointUrl:e,authWellknownEndpoints:s={}}=c;if(!e){let l="no authWellknownEndpoint given!";return this.loggerService.logError(c,l),C(()=>new Error(l))}return this.getWellKnownDocument(e,c).pipe(M(l=>({issuer:l.issuer,jwksUri:l.jwks_uri,authorizationEndpoint:l.authorization_endpoint,tokenEndpoint:l.token_endpoint,userInfoEndpoint:l.userinfo_endpoint,endSessionEndpoint:l.end_session_endpoint,checkSessionIframe:l.check_session_iframe,revocationEndpoint:l.revocation_endpoint,introspectionEndpoint:l.introspection_endpoint,parEndpoint:l.pushed_authorization_request_endpoint})),M(l=>L(L({},l),s)))}getWellKnownDocument(c,e){let s=c,l=e.authWellknownUrlSuffix||q7;return c.includes(l)||(s=`${c}${l}`),this.http.get(s,e).pipe(O2(2))}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),J2=(()=>{class t{constructor(){this.dataService=o(_7),this.publicEventsService=o(A2),this.storagePersistenceService=o(U)}storeWellKnownEndpoints(c,e){this.storagePersistenceService.write("authWellKnownEndPoints",e,c)}queryAndStoreAuthWellKnownEndPoints(c){return c?this.dataService.getWellKnownEndPointsForConfig(c).pipe(R(e=>this.storeWellKnownEndpoints(c,e)),I(e=>(this.publicEventsService.fireEvent(V.ConfigLoadingFailed,null),C(()=>new Error(e))))):C(()=>new Error("Please provide a configuration before setting up the module"))}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),V7={authority:"https://please_set",authWellknownEndpointUrl:"",authWellknownEndpoints:void 0,redirectUrl:"https://please_set",checkRedirectUrlWhenCheckingIfIsCallback:!0,clientId:"please_set",responseType:"code",scope:"openid email profile",hdParam:"",postLogoutRedirectUri:"https://please_set",startCheckSession:!1,silentRenew:!1,silentRenewUrl:"https://please_set",silentRenewTimeoutInSeconds:20,renewTimeBeforeTokenExpiresInSeconds:0,useRefreshToken:!1,usePushedAuthorisationRequests:!1,ignoreNonceAfterRefresh:!1,postLoginRoute:"/",forbiddenRoute:"/forbidden",unauthorizedRoute:"/unauthorized",autoUserInfo:!0,autoCleanStateAfterAuthentication:!0,triggerAuthorizationResultEvent:!1,logLevel:y1.Warn,issValidationOff:!1,historyCleanupOff:!1,maxIdTokenIatOffsetAllowedInSeconds:120,disableIatOffsetValidation:!1,customParamsAuthRequest:{},customParamsRefreshTokenRequest:{},customParamsEndSessionRequest:{},customParamsCodeRequest:{},disableRefreshIdTokenAuthTimeValidation:!1,triggerRefreshWhenIdTokenExpired:!0,tokenRefreshInSeconds:4,refreshTokenRetryInSeconds:3,ngswBypass:!1},Z2={result:!0,messages:[],level:"none"},G7=t=>t.authority?Z2:{result:!1,messages:["The authority URL MUST be provided in the configuration! "],level:"error"},K7=t=>t.clientId?Z2:{result:!1,messages:["The clientId is required and missing from your config!"],level:"error"},Y7=t=>{if(!t)return"";let{authority:n,clientId:c,scope:e}=t;return`${n}${c}${e}`},X7=t=>new Set(t).size!==t.length,Q7=t=>{let n=t.map(s=>Y7(s));return n.some(s=>s==="")?{result:!1,messages:["Please make sure you add an object with a 'config' property: ....({ config }) instead of ...(config)"],level:"error"}:X7(n)?{result:!1,messages:["You added multiple configs with the same authority, clientId and scope"],level:"warning"}:Z2},J7=t=>t.redirectUrl?Z2:{result:!1,messages:["The redirectUrl is required and missing from your config"],level:"error"},Z7=t=>{let n=t.silentRenew,c=t.useRefreshToken,e=t.silentRenewUrl;return n&&!c&&!e?{result:!1,messages:["Please provide a silent renew URL if using renew and not refresh tokens"],level:"error"}:Z2},ce=t=>{let n=t.useRefreshToken,c=t.silentRenew,s=(t.scope||"").split(" ").includes("offline_access");return n&&c&&!s?{result:!1,messages:["When using silent renew and refresh tokens please set the `offline_access` scope"],level:"warning"}:Z2},ee=[G7,ce,J7,K7,Z7],te=[Q7],se=(()=>{class t{constructor(){this.loggerService=o(b)}validateConfigs(c){return this.validateConfigsInternal(c??[],te)}validateConfig(c){return this.validateConfigInternal(c,ee)}validateConfigsInternal(c,e){if(c.length===0)return!1;let s=e.map(i=>i(c)),l=0;return c.forEach(i=>{let a=this.processValidationResultsAndGetErrorCount(s,i);l+=a}),l===0}validateConfigInternal(c,e){let s=e.map(i=>i(c));return this.processValidationResultsAndGetErrorCount(s,c)===0}processValidationResultsAndGetErrorCount(c,e){let s=c.filter(a=>a.messages.length>0),l=this.getAllMessagesOfType("error",s),i=this.getAllMessagesOfType("warning",s);return l.forEach(a=>this.loggerService.logError(e,a)),i.forEach(a=>this.loggerService.logWarning(e,a)),l.length}getAllMessagesOfType(c,e){return e.filter(l=>l.level===c).map(l=>l.messages).reduce((l,i)=>l.concat(i),[])}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),m3=(()=>{class t{constructor(){this.loggerService=o(b),this.publicEventsService=o(A2),this.storagePersistenceService=o(U),this.platformProvider=o($7),this.authWellKnownService=o(J2),this.loader=o(o3),this.configValidationService=o(se),this.configsInternal={}}hasManyConfigs(){return Object.keys(this.configsInternal).length>1}getAllConfigurations(){return Object.values(this.configsInternal)}getOpenIDConfiguration(c){return this.configsAlreadySaved()?h(this.getConfig(c)):this.getOpenIDConfigurations(c).pipe(M(e=>e.currentConfig))}getOpenIDConfigurations(c){return this.loadConfigs().pipe(N(e=>this.prepareAndSaveConfigs(e)),M(e=>({allConfigs:e,currentConfig:this.getConfig(c)})))}hasAtLeastOneConfig(){return Object.keys(this.configsInternal).length>0}saveConfig(c){let{configId:e}=c;this.configsInternal[e]=c}loadConfigs(){return this.loader.loadConfigs()}configsAlreadySaved(){return this.hasAtLeastOneConfig()}getConfig(c){if(c){let s=this.configsInternal[c];return!s&&Y0()&&console.warn(`[angular-auth-oidc-client] No configuration found for config id '${c}'.`),s||null}let[,e]=Object.entries(this.configsInternal)[0]||[[null,null]];return e||null}prepareAndSaveConfigs(c){if(!this.configValidationService.validateConfigs(c))return h([]);this.createUniqueIds(c);let e=c.map(l=>this.handleConfig(l));return E2(e).pipe(M(l=>l.filter(i=>!!i)),M(l=>l))}createUniqueIds(c){c.forEach((e,s)=>{e.configId||(e.configId=`${s}-${e.clientId}`)})}handleConfig(c){if(!this.configValidationService.validateConfig(c))return this.loggerService.logError(c,"Validation of config rejected with errors. Config is NOT set."),h(null);c.authWellknownEndpointUrl||(c.authWellknownEndpointUrl=c.authority);let e=this.prepareConfig(c);this.saveConfig(e);let s=this.enhanceConfigWithWellKnownEndpoint(e);return this.publicEventsService.fireEvent(V.ConfigLoaded,s),h(e)}enhanceConfigWithWellKnownEndpoint(c){let e=this.storagePersistenceService.read("authWellKnownEndPoints",c);if(e)return c.authWellknownEndpoints=e,c;let s=c.authWellknownEndpoints;return s&&(this.authWellKnownService.storeWellKnownEndpoints(c,s),c.authWellknownEndpoints=s),c}prepareConfig(c){let e=L(L({},V7),c);return this.setSpecialCases(e),e}setSpecialCases(c){this.platformProvider.isBrowser()||(c.startCheckSession=!1,c.silentRenew=!1,c.useRefreshToken=!1,c.usePushedAuthorisationRequests=!1)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),c8=(()=>{class t{constructor(){this.document=o($),this.loggerService=o(b)}getExistingIFrame(c){let e=this.getIFrameFromParentWindow(c);if(this.isIFrameElement(e))return e;let s=this.getIFrameFromWindow(c);return this.isIFrameElement(s)?s:null}addIFrameToWindowBody(c,e){let s=this.document.createElement("iframe");return s.id=c,s.title=c,this.loggerService.logDebug(e,s),s.style.display="none",this.document.body.appendChild(s),s}getIFrameFromParentWindow(c){try{let e=this.document.defaultView?.parent.document.getElementById(c);return this.isIFrameElement(e)?e:null}catch{return null}}getIFrameFromWindow(c){let e=this.document.getElementById(c);return this.isIFrameElement(e)?e:null}isIFrameElement(c){return!!c&&c instanceof HTMLIFrameElement}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),q6="myiFrameForSilentRenew",T4=(()=>{class t{constructor(){this.refreshSessionWithIFrameCompletedInternal$=new c2,this.loggerService=o(b),this.iFrameService=o(c8),this.flowsService=o(h3),this.resetAuthDataService=o(M2),this.flowsDataService=o(G),this.authStateService=o(Z),this.flowHelper=o(g2),this.implicitFlowCallbackService=o(J6),this.intervalService=o(N1)}get refreshSessionWithIFrameCompleted$(){return this.refreshSessionWithIFrameCompletedInternal$.asObservable()}getOrCreateIframe(c){let e=this.getExistingIframe();return e||this.iFrameService.addIFrameToWindowBody(q6,c)}isSilentRenewConfigured(c){let{useRefreshToken:e,silentRenew:s}=c;return!e&&!!s}codeFlowCallbackSilentRenewIframe(c,e,s){let l=new _1({fromString:c[1]}),i=l.get("error");if(i)return this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:E.LoginRequired,isRenewProcess:!0}),this.resetAuthDataService.resetAuthorizationData(e,s),this.flowsDataService.setNonce("",e),this.intervalService.stopPeriodicTokenCheck(),C(()=>new Error(i));let a=l.get("code")??"",r=l.get("state")??"",f=l.get("session_state"),u={code:a,refreshToken:"",state:r,sessionState:f,authResult:null,isRenewProcess:!0,jwtKeys:null,validationResult:null,existingIdToken:null};return this.flowsService.processSilentRenewCodeFlowCallback(u,e,s).pipe(I(d=>(this.intervalService.stopPeriodicTokenCheck(),this.resetAuthDataService.resetAuthorizationData(e,s),C(()=>new Error(d)))))}silentRenewEventHandler(c,e,s){if(this.loggerService.logDebug(e,"silentRenewEventHandler"),!c.detail)return;let l;if(this.flowHelper.isCurrentFlowCodeFlow(e)){let a=c.detail.toString().split("?");l=this.codeFlowCallbackSilentRenewIframe(a,e,s)}else l=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(e,s,c.detail);l.subscribe({next:a=>{this.refreshSessionWithIFrameCompletedInternal$.next(a),this.flowsDataService.resetSilentRenewRunning(e)},error:a=>{this.loggerService.logError(e,"Error: "+a),this.refreshSessionWithIFrameCompletedInternal$.next(null),this.flowsDataService.resetSilentRenewRunning(e)}})}getExistingIframe(){return this.iFrameService.getExistingIFrame(q6)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),e8=(()=>{class t{constructor(){this.renderer=o(U0).createRenderer(null,null),this.loggerService=o(b),this.urlService=o(n2),this.silentRenewService=o(T4),this.document=o($)}refreshSessionWithIframe(c,e,s){return this.loggerService.logDebug(c,"BEGIN refresh session Authorize Iframe renew"),this.urlService.getRefreshSessionSilentRenewUrl(c,s).pipe(k(l=>this.sendAuthorizeRequestUsingSilentRenew(l,c,e)))}sendAuthorizeRequestUsingSilentRenew(c,e,s){let l=this.silentRenewService.getOrCreateIframe(e);return this.initSilentRenewRequest(e,s),this.loggerService.logDebug(e,`sendAuthorizeRequestUsingSilentRenew for URL: ${c}`),new n1(i=>{let a=()=>{l.removeEventListener("load",a),this.loggerService.logDebug(e,"removed event listener from IFrame"),i.next(!0),i.complete()};l.addEventListener("load",a),l.contentWindow?.location.replace(c??"")})}initSilentRenewRequest(c,e){let s=Math.random(),l=this.renderer.listen("window","oidc-silent-renew-init",a=>{a.detail!==s&&(l(),i())}),i=this.renderer.listen("window","oidc-silent-renew-message",a=>this.silentRenewService.silentRenewEventHandler(a,c,e));this.document.defaultView?.dispatchEvent(new CustomEvent("oidc-silent-renew-init",{detail:s}))}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),t8=(()=>{class t{constructor(){this.loggerService=o(b),this.resetAuthDataService=o(M2),this.flowsService=o(h3),this.intervalService=o(N1)}refreshSessionWithRefreshTokens(c,e,s){this.loggerService.logDebug(c,"BEGIN refresh session Authorize");let l=!1;return this.flowsService.processRefreshToken(c,e,s).pipe(I(i=>(this.resetAuthDataService.resetAuthorizationData(c,e),l=!0,C(()=>new Error(i)))),U2(()=>l&&this.intervalService.stopPeriodicTokenCheck()))}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ne=(()=>{class t{constructor(){this.resetAuthDataService=o(M2),this.flowHelper=o(g2),this.flowsDataService=o(G),this.loggerService=o(b),this.userService=o(Q2),this.authStateService=o(Z),this.refreshSessionIframeService=o(e8),this.refreshSessionRefreshTokenService=o(t8),this.intervalService=o(N1),this.storagePersistenceService=o(U),this.publicEventsService=o(A2),this.configurationService=o(m3)}startTokenValidationPeriodically(c,e){let s=this.getConfigsWithSilentRenewEnabled(c);if(s.length<=0||this.intervalService.isTokenValidationRunning())return;let l=this.getSmallestRefreshTimeFromConfigs(s),i=this.intervalService.startPeriodicTokenCheck(l).pipe(k(()=>{let a={};return s.forEach(r=>{let f=r.configId,u=this.getRefreshEvent(r,c);a[f]=u}),E2(a)}));this.intervalService.runTokenValidationRunning=i.pipe(I(a=>C(()=>new Error(a)))).subscribe({next:a=>{for(let[r,f]of Object.entries(a))this.configurationService.getOpenIDConfiguration(r).subscribe(u=>{this.loggerService.logDebug(u,"silent renew, periodic check finished!"),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(u)&&this.flowsDataService.resetSilentRenewRunning(u)})},error:a=>{this.loggerService.logError(e,"silent renew failed!",a)}})}getRefreshEvent(c,e){if(!this.shouldStartPeriodicallyCheckForConfig(c))return h(null);let l=this.createRefreshEventForConfig(c,e);return this.publicEventsService.fireEvent(V.SilentRenewStarted),l.pipe(I(i=>(this.loggerService.logError(c,"silent renew failed!",i),this.publicEventsService.fireEvent(V.SilentRenewFailed,i),this.flowsDataService.resetSilentRenewRunning(c),C(()=>new Error(i)))))}getSmallestRefreshTimeFromConfigs(c){return c.reduce((s,l)=>(s.tokenRefreshInSeconds??0)<(l.tokenRefreshInSeconds??0)?s:l).tokenRefreshInSeconds??0}getConfigsWithSilentRenewEnabled(c){return c.filter(e=>e.silentRenew)}createRefreshEventForConfig(c,e){return this.loggerService.logDebug(c,"starting silent renew..."),this.configurationService.getOpenIDConfiguration(c.configId).pipe(k(s=>{if(!s?.silentRenew)return this.resetAuthDataService.resetAuthorizationData(s,e),h(null);if(this.flowsDataService.setSilentRenewRunning(s),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(s)){let i=this.storagePersistenceService.read("storageCustomParamsRefresh",s)||{},{customParamsRefreshTokenRequest:a}=s,r=L(L({},a),i);return this.refreshSessionRefreshTokenService.refreshSessionWithRefreshTokens(s,e,r)}let l=this.storagePersistenceService.read("storageCustomParamsAuthRequest",s);return this.refreshSessionIframeService.refreshSessionWithIframe(s,e,l)}))}shouldStartPeriodicallyCheckForConfig(c){let e=this.authStateService.getIdToken(c),s=this.flowsDataService.isSilentRenewRunning(c),l=this.flowsDataService.isCodeFlowInProgress(c),i=this.userService.getUserDataFromStore(c);if(this.loggerService.logDebug(c,`Checking: silentRenewRunning: ${s}, isCodeFlowInProgress: ${l} - has idToken: ${!!e} - has userData: ${!!i}`),!(!!i&&!s&&!!e&&!l))return!1;let r=this.authStateService.hasIdTokenExpiredAndRenewCheckIsEnabled(c),f=this.authStateService.hasAccessTokenExpiredIfExpiryExists(c);return r||f}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),le=3,s8=(()=>{class t{constructor(){this.flowHelper=o(g2),this.flowsDataService=o(G),this.loggerService=o(b),this.silentRenewService=o(T4),this.authStateService=o(Z),this.authWellKnownService=o(J2),this.refreshSessionIframeService=o(e8),this.storagePersistenceService=o(U),this.refreshSessionRefreshTokenService=o(t8),this.userService=o(Q2)}userForceRefreshSession(c,e,s){return c?(this.persistCustomParams(s,c),this.forceRefreshSession(c,e,s).pipe(R(()=>this.flowsDataService.resetSilentRenewRunning(c)))):C(()=>new Error("Please provide a configuration before setting up the module"))}forceRefreshSession(c,e,s){let{customParamsRefreshTokenRequest:l,configId:i}=c,a=L(L({},l),s);if(this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(c))return this.startRefreshSession(c,e,a).pipe(M(()=>{let u=this.authStateService.areAuthStorageTokensValid(c);return u?{idToken:this.authStateService.getIdToken(c),accessToken:this.authStateService.getAccessToken(c),userData:this.userService.getUserDataFromStore(c),isAuthenticated:u,configId:i}:{isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:i}}));let{silentRenewTimeoutInSeconds:r}=c,f=(r??0)*1e3;return E2([this.startRefreshSession(c,e,s),this.silentRenewService.refreshSessionWithIFrameCompleted$.pipe(e2(1))]).pipe(w0(f),F1(u=>u.pipe(O((d,p)=>{let g=p+1;return!(d instanceof x0)||g>le?C(()=>new Error(d)):(this.loggerService.logDebug(c,`forceRefreshSession timeout. Attempt #${g}`),this.flowsDataService.resetSilentRenewRunning(c),E1(g*1e3))}))),M(([u,d])=>{let p=this.authStateService.areAuthStorageTokensValid(c);return p?{idToken:d?.authResult?.id_token??"",accessToken:d?.authResult?.access_token??"",userData:this.userService.getUserDataFromStore(c),isAuthenticated:p,configId:i}:{isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:i}}))}persistCustomParams(c,e){let{useRefreshToken:s}=e;c&&(s?this.storagePersistenceService.write("storageCustomParamsRefresh",c,e):this.storagePersistenceService.write("storageCustomParamsAuthRequest",c,e))}startRefreshSession(c,e,s){let l=this.flowsDataService.isSilentRenewRunning(c);return this.loggerService.logDebug(c,`Checking: silentRenewRunning: ${l}`),!l?this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(c).pipe(k(()=>(this.flowsDataService.setSilentRenewRunning(c),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(c)?this.refreshSessionRefreshTokenService.refreshSessionWithRefreshTokens(c,e,s):this.refreshSessionIframeService.refreshSessionWithIframe(c,e,s)))):h(null)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_6="myiFrameForCheckSession",P4=(()=>{class t{constructor(){this.loggerService=o(b),this.storagePersistenceService=o(U),this.iFrameService=o(c8),this.eventService=o(A2),this.zone=o(j1),this.document=o($),this.checkSessionReceived=!1,this.scheduledHeartBeatRunning=null,this.lastIFrameRefresh=0,this.outstandingMessages=0,this.heartBeatInterval=3e3,this.iframeRefreshInterval=6e4,this.checkSessionChangedInternal$=new B(!1)}get checkSessionChanged$(){return this.checkSessionChangedInternal$.asObservable()}ngOnDestroy(){this.stop();let c=this.document.defaultView;c&&this.iframeMessageEventListener&&c.removeEventListener("message",this.iframeMessageEventListener,!1)}isCheckSessionConfigured(c){let{startCheckSession:e}=c;return!!e}start(c){if(this.scheduledHeartBeatRunning)return;let{clientId:e}=c;this.pollServerSession(e,c)}stop(){this.scheduledHeartBeatRunning&&(this.clearScheduledHeartBeat(),this.checkSessionReceived=!1)}serverStateChanged(c){let{startCheckSession:e}=c;return!!e&&this.checkSessionReceived}getExistingIframe(){return this.iFrameService.getExistingIFrame(_6)}init(c){if(this.lastIFrameRefresh+this.iframeRefreshInterval>Date.now())return h();let e=this.storagePersistenceService.read("authWellKnownEndPoints",c);if(!e)return this.loggerService.logWarning(c,"CheckSession - init check session: authWellKnownEndpoints is undefined. Returning."),h();let s=this.getOrCreateIframe(c);this.bindMessageEventToIframe(c);let l=e.checkSessionIframe,i=s.contentWindow;return l?(i?i.location.replace(l):this.loggerService.logWarning(c,"CheckSession - init check session: IFrame contentWindow does not exist"),new n1(a=>{s.onload=()=>{this.lastIFrameRefresh=Date.now(),a.next(),a.complete()}})):(this.loggerService.logWarning(c,"CheckSession - init check session: checkSessionIframe is not configured to run"),h())}pollServerSession(c,e){this.outstandingMessages=0;let s=()=>{this.init(e).pipe(e2(1)).subscribe(()=>{let l=this.getExistingIframe();if(l&&c){this.loggerService.logDebug(e,`CheckSession - clientId : '${c}' - existingIframe: '${l}'`);let i=this.storagePersistenceService.read("session_state",e),a=this.storagePersistenceService.read("authWellKnownEndPoints",e),r=l.contentWindow;if(i&&a?.checkSessionIframe&&r){let f=new URL(a.checkSessionIframe)?.origin;this.outstandingMessages++,r.postMessage(c+" "+i,f)}else this.loggerService.logDebug(e,`CheckSession - session_state is '${i}' - AuthWellKnownEndPoints is '${JSON.stringify(a,null,2)}'`),this.checkSessionChangedInternal$.next(!0)}else this.loggerService.logWarning(e,`CheckSession - OidcSecurityCheckSession pollServerSession checkSession IFrame does not exist:
               clientId : '${c}' - existingIframe: '${l}'`);this.outstandingMessages>3&&this.loggerService.logError(e,`CheckSession - OidcSecurityCheckSession not receiving check session response messages.
                            Outstanding messages: '${this.outstandingMessages}'. Server unreachable?`),this.zone.runOutsideAngular(()=>{this.scheduledHeartBeatRunning=this.document?.defaultView?.setTimeout(()=>this.zone.run(s),this.heartBeatInterval)??null})})};s()}clearScheduledHeartBeat(){this.scheduledHeartBeatRunning!==null&&(clearTimeout(this.scheduledHeartBeatRunning),this.scheduledHeartBeatRunning=null)}messageHandler(c,e){let s=this.getExistingIframe(),i=!!this.storagePersistenceService.read("authWellKnownEndPoints",c)?.checkSessionIframe?.startsWith(e.origin);this.outstandingMessages=0,s&&i&&e.source===s.contentWindow&&(e.data==="error"?this.loggerService.logWarning(c,"CheckSession - error from check session messageHandler"):e.data==="changed"?(this.loggerService.logDebug(c,`CheckSession - ${e} from check session messageHandler`),this.checkSessionReceived=!0,this.eventService.fireEvent(V.CheckSessionReceived,e.data),this.checkSessionChangedInternal$.next(!0)):(this.eventService.fireEvent(V.CheckSessionReceived,e.data),this.loggerService.logDebug(c,`CheckSession - ${e.data} from check session messageHandler`)))}bindMessageEventToIframe(c){this.iframeMessageEventListener=this.messageHandler.bind(this,c);let e=this.document.defaultView;e&&e.addEventListener("message",this.iframeMessageEventListener,!1)}getOrCreateIframe(c){return this.getExistingIframe()||this.iFrameService.addIFrameToWindowBody(_6,c)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),p3=(()=>{class t{constructor(){this.loggerService=o(b),this.storagePersistenceService=o(U),this.document=o($),this.STORAGE_IDENTIFIER="popupauth",this.popUp=null,this.handle=-1,this.resultInternal$=new c2}get result$(){return this.resultInternal$.asObservable()}get windowInternal(){return this.document.defaultView}isCurrentlyInPopup(c){if(this.canAccessSessionStorage()){let e=this.storagePersistenceService.read(this.STORAGE_IDENTIFIER,c),s=this.windowInternal;return s?!!s.opener&&s.opener!==s&&!!e:!1}return!1}openPopUp(c,e,s){let l=this.getOptions(e);this.storagePersistenceService.write(this.STORAGE_IDENTIFIER,"true",s);let i=this.windowInternal;if(!i)return;if(!c){this.loggerService.logError(s,"Could not open popup, url is empty");return}if(this.popUp=i.open(c,"_blank",l),!this.popUp){this.storagePersistenceService.remove(this.STORAGE_IDENTIFIER,s),this.loggerService.logError(s,"Could not open popup");return}this.loggerService.logDebug(s,"Opened popup with url "+c);let a=r=>{if(!r?.data||typeof r.data!="string"){if(s.disableCleaningPopupOnInvalidMessage)return;this.cleanUp(a,s);return}this.loggerService.logDebug(s,"Received message from popup with url "+r.data),this.resultInternal$.next({userClosed:!1,receivedUrl:r.data}),this.cleanUp(a,s)};i.addEventListener("message",a,!1),this.handle=i.setInterval(()=>{this.popUp?.closed&&(this.resultInternal$.next({userClosed:!0,receivedUrl:""}),this.cleanUp(a,s))},200)}sendMessageToMainWindow(c,e){let s=this.windowInternal;if(s&&s.opener){let l=s.location.href;this.sendMessage(c,l,e)}}cleanUp(c,e){let s=this.windowInternal;s&&(s.removeEventListener("message",c,!1),s.clearInterval(this.handle),this.popUp&&(this.storagePersistenceService.remove(this.STORAGE_IDENTIFIER,e),this.popUp.close(),this.popUp=null))}sendMessage(c,e,s){let l=this.windowInternal;if(l){if(!c){this.loggerService.logDebug(s,`Can not send message to parent, no url: '${c}'`);return}l.opener.postMessage(c,e)}}getOptions(c){let e={width:500,height:500,left:50,top:50},s=L(L({},e),c||{}),l=this.windowInternal;if(!l)return"";let i=s.width||e.width,a=s.height||e.height,r=l.screenLeft+(l.outerWidth-i)/2,f=l.screenTop+(l.outerHeight-a)/2;return s.left=r,s.top=f,Object.entries(s).map(([u,d])=>`${encodeURIComponent(u)}=${encodeURIComponent(d)}`).join(",")}canAccessSessionStorage(){return typeof navigator<"u"&&navigator.cookieEnabled&&typeof Storage<"u"}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ie=(()=>{class t{constructor(){this.document=o($)}getStateParamFromCurrentUrl(c){let e=c||this.getCurrentUrl();if(!e)return null;let s=new URL(e);return new URLSearchParams(s.search).get("state")}getCurrentUrl(){return this.document?.defaultView?.location.toString()??null}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),E4=(()=>{class t{constructor(){this.checkSessionService=o(P4),this.currentUrlService=o(ie),this.silentRenewService=o(T4),this.userService=o(Q2),this.loggerService=o(b),this.authStateService=o(Z),this.callbackService=o(Z6),this.refreshSessionService=o(s8),this.periodicallyTokenCheckService=o(ne),this.popupService=o(p3),this.autoLoginService=o(X6),this.storagePersistenceService=o(U),this.publicEventsService=o(A2)}getConfig(c,e){let s=this.currentUrlService.getStateParamFromCurrentUrl(e);return s?this.getConfigurationWithUrlState([c],s):c}checkAuth(c,e,s){if(!c)return C(()=>new Error("Please provide a configuration before setting up the module"));this.publicEventsService.fireEvent(V.CheckingAuth);let l=this.currentUrlService.getStateParamFromCurrentUrl(s);return this.getConfig(c,s)?this.checkAuthWithConfig(c,e,s):C(()=>new Error(`could not find matching config for state ${l}`))}checkAuthMultiple(c,e){let s=this.currentUrlService.getStateParamFromCurrentUrl(e);if(s){let a=this.getConfigurationWithUrlState(c,s);return a?this.composeMultipleLoginResults(c,a,e):C(()=>new Error(`could not find matching config for state ${s}`))}let l=c,i=l.map(a=>this.checkAuthWithConfig(a,l,e));return E2(i)}checkAuthIncludingServer(c,e){return c?this.checkAuthWithConfig(c,e).pipe(k(s=>{let{isAuthenticated:l}=s;return l?h(s):this.refreshSessionService.forceRefreshSession(c,e).pipe(R(i=>{i?.isAuthenticated&&this.startCheckSessionAndValidation(c,e)}))})):C(()=>new Error("Please provide a configuration before setting up the module"))}checkAuthWithConfig(c,e,s){if(!c){let u="Please provide at least one configuration before setting up the module";return this.loggerService.logError(c,u),h({isAuthenticated:!1,errorMessage:u,userData:null,idToken:"",accessToken:"",configId:""})}let l=s||this.currentUrlService.getCurrentUrl();if(!l){let u="No URL found!";return this.loggerService.logError(c,u),h({isAuthenticated:!1,errorMessage:u,userData:null,idToken:"",accessToken:"",configId:""})}let{configId:i,authority:a}=c;if(this.loggerService.logDebug(c,`Working with config '${i}' using '${a}'`),this.popupService.isCurrentlyInPopup(c))return this.popupService.sendMessageToMainWindow(l,c),h({isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:""});let r=this.callbackService.isCallback(l,c);return this.loggerService.logDebug(c,`currentUrl to check auth with: '${l}'`),(r?this.callbackService.handleCallbackAndFireEvents(l,c,e):h({})).pipe(M(()=>{let u=this.authStateService.areAuthStorageTokensValid(c);return this.loggerService.logDebug(c,`checkAuth completed. Firing events now. isAuthenticated: ${u}`),u&&(this.startCheckSessionAndValidation(c,e),r||(this.authStateService.setAuthenticatedAndFireEvent(e),this.userService.publishUserDataIfExists(c,e))),this.publicEventsService.fireEvent(V.CheckingAuthFinished),{isAuthenticated:u,userData:this.userService.getUserDataFromStore(c),accessToken:this.authStateService.getAccessToken(c),idToken:this.authStateService.getIdToken(c),configId:i}}),R(({isAuthenticated:u})=>{u&&this.autoLoginService.checkSavedRedirectRouteAndNavigate(c)}),I(({message:u})=>(this.loggerService.logError(c,u),this.publicEventsService.fireEvent(V.CheckingAuthFinishedWithError,u),h({isAuthenticated:!1,errorMessage:u,userData:null,idToken:"",accessToken:"",configId:i}))))}startCheckSessionAndValidation(c,e){this.checkSessionService.isCheckSessionConfigured(c)&&this.checkSessionService.start(c),this.periodicallyTokenCheckService.startTokenValidationPeriodically(e,c),this.silentRenewService.isSilentRenewConfigured(c)&&this.silentRenewService.getOrCreateIframe(c)}getConfigurationWithUrlState(c,e){if(!e)return null;for(let s of c)if(this.storagePersistenceService.read("authStateControl",s)===e)return s;return null}composeMultipleLoginResults(c,e,s){let l=c.filter(r=>r.configId!==e.configId),i=this.checkAuthWithConfig(e,c,s),a=l.map(r=>{let{redirectUrl:f}=r;return this.checkAuthWithConfig(r,c,f)});return E2([i,...a])}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),F4=(()=>{class t{constructor(){this.document=o($)}redirectTo(c){this.document.location.href=c}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),U4=(()=>{class t{constructor(){this.loggerService=o(b),this.flowHelper=o(g2)}hasConfigValidResponseType(c){return this.flowHelper.isCurrentFlowAnyImplicitFlow(c)||this.flowHelper.isCurrentFlowCodeFlow(c)?!0:(this.loggerService.logWarning(c,"module configured incorrectly, invalid response_type. Check the responseType in the config"),!1)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ae=(()=>{class t{constructor(){this.loggerService=o(b),this.urlService=o(n2),this.dataService=o(R2),this.storagePersistenceService=o(U)}postParRequest(c,e){let s=new W2;s=s.set("Content-Type","application/x-www-form-urlencoded");let l=this.storagePersistenceService.read("authWellKnownEndPoints",c);if(!l)return C(()=>new Error("Could not read PAR endpoint because authWellKnownEndPoints are not given"));let i=l.parEndpoint;return i?this.urlService.createBodyForParCodeFlowRequest(c,e).pipe(k(a=>this.dataService.post(i,a,c,s).pipe(O2(2),M(r=>(this.loggerService.logDebug(c,"par response: ",r),{expiresIn:r.expires_in,requestUri:r.request_uri})),I(r=>{let f="There was an error on ParService postParRequest";return this.loggerService.logError(c,f,r),C(()=>new Error(f))})))):C(()=>new Error("Could not read PAR endpoint from authWellKnownEndpoints"))}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),re=(()=>{class t{constructor(){this.loggerService=o(b),this.responseTypeValidationService=o(U4),this.urlService=o(n2),this.redirectService=o(F4),this.authWellKnownService=o(J2),this.popupService=o(p3),this.checkAuthService=o(E4),this.parService=o(ae)}loginPar(c,e){if(!this.responseTypeValidationService.hasConfigValidResponseType(c)){this.loggerService.logError(c,"Invalid response type!");return}this.loggerService.logDebug(c,"BEGIN Authorize OIDC Flow, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(c).pipe(k(()=>this.parService.postParRequest(c,e))).subscribe(s=>{this.loggerService.logDebug(c,"par response: ",s);let l=this.urlService.getAuthorizeParUrl(s.requestUri,c);if(this.loggerService.logDebug(c,"par request url: ",l),!l){this.loggerService.logError(c,`Could not create URL with param ${s.requestUri}: '${l}'`);return}e?.urlHandler?e.urlHandler(l):this.redirectService.redirectTo(l)})}loginWithPopUpPar(c,e,s,l){let{configId:i}=c;if(!this.responseTypeValidationService.hasConfigValidResponseType(c)){let a="Invalid response type!";return this.loggerService.logError(c,a),C(()=>new Error(a))}return this.loggerService.logDebug(c,"BEGIN Authorize OIDC Flow with popup, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(c).pipe(k(()=>this.parService.postParRequest(c,s)),k(a=>{this.loggerService.logDebug(c,`par response: ${a}`);let r=this.urlService.getAuthorizeParUrl(a.requestUri,c);if(this.loggerService.logDebug(c,"par request url: ",r),!r){let f=`Could not create URL with param ${a.requestUri}: 'url'`;return this.loggerService.logError(c,f),C(()=>new Error(f))}return this.popupService.openPopUp(r,l,c),this.popupService.result$.pipe(e2(1),k(f=>{let{userClosed:u,receivedUrl:d}=f;return u?h({isAuthenticated:!1,errorMessage:"User closed popup",userData:null,idToken:"",accessToken:"",configId:i}):this.checkAuthService.checkAuth(c,e,d)}))}))}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),oe=(()=>{class t{constructor(){this.loggerService=o(b),this.responseTypeValidationService=o(U4),this.urlService=o(n2),this.authWellKnownService=o(J2),this.popupService=o(p3),this.checkAuthService=o(E4)}loginWithPopUpStandard(c,e,s,l){let{configId:i}=c;if(!this.responseTypeValidationService.hasConfigValidResponseType(c)){let a="Invalid response type!";return this.loggerService.logError(c,a),C(()=>new Error(a))}return this.loggerService.logDebug(c,"BEGIN Authorize OIDC Flow with popup, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(c).pipe(k(()=>this.urlService.getAuthorizeUrl(c,s)),R(a=>this.popupService.openPopUp(a,l,c)),k(()=>this.popupService.result$.pipe(e2(1),k(a=>{let{userClosed:r,receivedUrl:f}=a;return r?h({isAuthenticated:!1,errorMessage:"User closed popup",userData:null,idToken:"",accessToken:"",configId:i}):this.checkAuthService.checkAuth(c,e,f)}))))}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),fe=(()=>{class t{constructor(){this.loggerService=o(b),this.responseTypeValidationService=o(U4),this.urlService=o(n2),this.redirectService=o(F4),this.authWellKnownService=o(J2),this.flowsDataService=o(G)}loginStandard(c,e){if(!this.responseTypeValidationService.hasConfigValidResponseType(c)){this.loggerService.logError(c,"Invalid response type!");return}this.loggerService.logDebug(c,"BEGIN Authorize OIDC Flow, no auth data"),this.flowsDataService.setCodeFlowInProgress(c),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(c).subscribe(()=>{let{urlHandler:s}=e||{};this.flowsDataService.resetSilentRenewRunning(c),this.urlService.getAuthorizeUrl(c,e).subscribe(l=>{if(!l){this.loggerService.logError(c,"Could not create URL",l);return}s?s(l):this.redirectService.redirectTo(l)})})}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),n8=(()=>{class t{constructor(){this.parLoginService=o(re),this.popUpLoginService=o(oe),this.standardLoginService=o(fe),this.storagePersistenceService=o(U),this.popupService=o(p3)}login(c,e){if(!c)throw new Error("Please provide a configuration before setting up the module");let{usePushedAuthorisationRequests:s}=c;return e?.customParams&&this.storagePersistenceService.write("storageCustomParamsAuthRequest",e.customParams,c),s?this.parLoginService.loginPar(c,e):this.standardLoginService.loginStandard(c,e)}loginWithPopUp(c,e,s,l){if(!c)throw new Error("Please provide a configuration before setting up the module");if(this.popupService.isCurrentlyInPopup(c))return h({errorMessage:"There is already a popup open."});let{usePushedAuthorisationRequests:a}=c;return s?.customParams&&this.storagePersistenceService.write("storageCustomParamsAuthRequest",s.customParams,c),a?this.parLoginService.loginWithPopUpPar(c,e,s,l):this.popUpLoginService.loginWithPopUpStandard(c,e,s,l)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ue(t){let n=L({},t);for(let c in t)(t[c]===void 0||t[c]===null)&&delete n[c];return n}var de=(()=>{class t{constructor(){this.loggerService=o(b),this.dataService=o(R2),this.storagePersistenceService=o(U),this.urlService=o(n2),this.checkSessionService=o(P4),this.resetAuthDataService=o(M2),this.redirectService=o(F4)}logoff(c,e,s){if(!c)return C(()=>new Error("Please provide a configuration before setting up the module"));this.loggerService.logDebug(c,"logoff, remove auth",s);let{urlHandler:l,customParams:i}=s||{},a=this.urlService.getEndSessionUrl(c,i);return a?this.checkSessionService.serverStateChanged(c)?(this.loggerService.logDebug(c,"Server State changed. Logoff was only locally. Returning."),h(null)):l?(this.loggerService.logDebug(c,`Custom UrlHandler found. Using this to handle logoff with url '${a}'`),l(a),this.resetAuthDataService.resetAuthorizationData(c,e),h(null)):this.logoffInternal(s,a,c,e):(this.loggerService.logDebug(c,"No endsessionUrl present. Logoff was only locally. Returning."),h(null))}logoffLocal(c,e){this.resetAuthDataService.resetAuthorizationData(c,e),this.checkSessionService.stop()}logoffLocalMultiple(c){c.forEach(e=>this.logoffLocal(e,c))}logoffAndRevokeTokens(c,e,s){if(!c)return C(()=>new Error("Please provide a configuration before setting up the module"));let{revocationEndpoint:l}=this.storagePersistenceService.read("authWellKnownEndPoints",c)||{};return l?this.storagePersistenceService.getRefreshToken(c)?this.revokeRefreshToken(c).pipe(k(i=>this.revokeAccessToken(c)),I(i=>{let a="revoke token failed";return this.loggerService.logError(c,a,i),C(()=>new Error(a))}),N(()=>this.logoff(c,e,s))):this.revokeAccessToken(c).pipe(I(i=>{let a="revoke accessToken failed";return this.loggerService.logError(c,a,i),C(()=>new Error(a))}),N(()=>this.logoff(c,e,s))):(this.loggerService.logDebug(c,"revocation endpoint not supported"),this.logoff(c,e,s))}revokeAccessToken(c,e){if(!c)return C(()=>new Error("Please provide a configuration before setting up the module"));let s=e||this.storagePersistenceService.getAccessToken(c),l=this.urlService.createRevocationEndpointBodyAccessToken(s,c);return this.sendRevokeRequest(c,l)}revokeRefreshToken(c,e){if(!c)return C(()=>new Error("Please provide a configuration before setting up the module"));let s=e||this.storagePersistenceService.getRefreshToken(c),l=this.urlService.createRevocationEndpointBodyRefreshToken(s,c);return this.sendRevokeRequest(c,l)}logoffInternal(c,e,s,l){let{logoffMethod:i,customParams:a}=c||{};if(!i||i==="GET")return this.redirectService.redirectTo(e),this.resetAuthDataService.resetAuthorizationData(s,l),h(null);let{state:r,logout_hint:f,ui_locales:u}=a||{},{clientId:d}=s,p=this.storagePersistenceService.getIdToken(s),S=this.urlService.getPostLogoutRedirectUrl(s),g=this.getHeaders(),{url:T}=this.urlService.getEndSessionEndpoint(s),P=ue({id_token_hint:p,client_id:d,post_logout_redirect_uri:S,state:r,logout_hint:f,ui_locales:u});return this.resetAuthDataService.resetAuthorizationData(s,l),this.dataService.post(T,P,s,g)}sendRevokeRequest(c,e){let s=this.urlService.getRevocationEndpointUrl(c),l=this.getHeaders();return this.dataService.post(s,e,c,l).pipe(O2(2),k(i=>(this.loggerService.logDebug(c,"revocation endpoint post response: ",i),h(i))),I(i=>{let a="Revocation request failed";return this.loggerService.logError(c,a,i),C(()=>new Error(a))}))}getHeaders(){let c=new W2;return c=c.set("Content-Type","application/x-www-form-urlencoded"),c}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),he=(()=>{class t{constructor(){this.checkSessionService=o(P4),this.checkAuthService=o(E4),this.userService=o(Q2),this.tokenHelperService=o(u3),this.configurationService=o(m3),this.authStateService=o(Z),this.flowsDataService=o(G),this.callbackService=o(Z6),this.logoffRevocationService=o(de),this.loginService=o(n8),this.refreshSessionService=o(s8),this.urlService=o(n2),this.authWellKnownService=o(J2),this.userData=r3(this.userData$,{requireSync:!0}),this.authenticated=r3(this.isAuthenticated$,{requireSync:!0})}get userData$(){return this.userService.userData$}get isAuthenticated$(){return this.authStateService.authenticated$}get checkSessionChanged$(){return this.checkSessionService.checkSessionChanged$}get stsCallback$(){return this.callbackService.stsCallback$}preloadAuthWellKnownDocument(c){return this.configurationService.getOpenIDConfiguration(c).pipe(N(e=>this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e)))}getConfigurations(){return this.configurationService.getAllConfigurations()}getConfiguration(c){return this.configurationService.getOpenIDConfiguration(c)}getUserData(c){return this.configurationService.getOpenIDConfiguration(c).pipe(M(e=>this.userService.getUserDataFromStore(e)))}checkAuth(c,e){return this.configurationService.getOpenIDConfigurations(e).pipe(N(({allConfigs:s,currentConfig:l})=>this.checkAuthService.checkAuth(l,s,c)))}checkAuthMultiple(c){return this.configurationService.getOpenIDConfigurations().pipe(N(({allConfigs:e})=>this.checkAuthService.checkAuthMultiple(e,c)))}isAuthenticated(c){return this.configurationService.getOpenIDConfiguration(c).pipe(M(e=>this.authStateService.isAuthenticated(e)))}checkAuthIncludingServer(c){return this.configurationService.getOpenIDConfigurations(c).pipe(N(({allConfigs:e,currentConfig:s})=>this.checkAuthService.checkAuthIncludingServer(s,e)))}getAccessToken(c){return this.configurationService.getOpenIDConfiguration(c).pipe(M(e=>this.authStateService.getAccessToken(e)))}getIdToken(c){return this.configurationService.getOpenIDConfiguration(c).pipe(M(e=>this.authStateService.getIdToken(e)))}getRefreshToken(c){return this.configurationService.getOpenIDConfiguration(c).pipe(M(e=>this.authStateService.getRefreshToken(e)))}getAuthenticationResult(c){return this.configurationService.getOpenIDConfiguration(c).pipe(M(e=>this.authStateService.getAuthenticationResult(e)))}getPayloadFromIdToken(c=!1,e){return this.configurationService.getOpenIDConfiguration(e).pipe(M(s=>{let l=this.authStateService.getIdToken(s);return this.tokenHelperService.getPayloadFromToken(l,c,s)}))}getPayloadFromAccessToken(c=!1,e){return this.configurationService.getOpenIDConfiguration(e).pipe(M(s=>{let l=this.authStateService.getAccessToken(s);return this.tokenHelperService.getPayloadFromToken(l,c,s)}))}setState(c,e){return this.configurationService.getOpenIDConfiguration(e).pipe(M(s=>this.flowsDataService.setAuthStateControl(c,s)))}getState(c){return this.configurationService.getOpenIDConfiguration(c).pipe(M(e=>this.flowsDataService.getAuthStateControl(e)))}authorize(c,e){this.configurationService.getOpenIDConfiguration(c).subscribe(s=>this.loginService.login(s,e))}authorizeWithPopUp(c,e,s){return this.configurationService.getOpenIDConfigurations(s).pipe(N(({allConfigs:l,currentConfig:i})=>this.loginService.loginWithPopUp(i,l,c,e)))}forceRefreshSession(c,e){return this.configurationService.getOpenIDConfigurations(e).pipe(N(({allConfigs:s,currentConfig:l})=>this.refreshSessionService.userForceRefreshSession(l,s,c)))}logoffAndRevokeTokens(c,e){return this.configurationService.getOpenIDConfigurations(c).pipe(N(({allConfigs:s,currentConfig:l})=>this.logoffRevocationService.logoffAndRevokeTokens(l,s,e)))}logoff(c,e){return this.configurationService.getOpenIDConfigurations(c).pipe(N(({allConfigs:s,currentConfig:l})=>this.logoffRevocationService.logoff(l,s,e)))}logoffLocal(c){this.configurationService.getOpenIDConfigurations(c).subscribe(({allConfigs:e,currentConfig:s})=>this.logoffRevocationService.logoffLocal(s,e))}logoffLocalMultiple(){this.configurationService.getOpenIDConfigurations().subscribe(({allConfigs:c})=>this.logoffRevocationService.logoffLocalMultiple(c))}revokeAccessToken(c,e){return this.configurationService.getOpenIDConfiguration(e).pipe(N(s=>this.logoffRevocationService.revokeAccessToken(s,c)))}revokeRefreshToken(c,e){return this.configurationService.getOpenIDConfiguration(e).pipe(N(s=>this.logoffRevocationService.revokeRefreshToken(s,c)))}getEndSessionUrl(c,e){return this.configurationService.getOpenIDConfiguration(e).pipe(M(s=>this.urlService.getEndSessionUrl(s,c)))}getAuthorizeUrl(c,e){return this.configurationService.getOpenIDConfiguration(e).pipe(N(s=>this.urlService.getAuthorizeUrl(s,c?{customParams:c}:void 0)))}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),me=(()=>{class t{read(c){return sessionStorage.getItem(c)}write(c,e){sessionStorage.setItem(c,e)}remove(c){sessionStorage.removeItem(c)}clear(){sessionStorage.clear()}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function $s(t,...n){let c=pe(t);for(let e of n)c.push(...e.\u0275providers);return O1(c)}function pe(t){return[{provide:j6,useValue:t},t?.loader||{provide:o3,useFactory:p7,deps:[j6]},{provide:G6,useClass:me},{provide:V6,useClass:z7}]}function qs(){return{\u0275providers:[{provide:W3,useFactory:t=>()=>t.checkAuthMultiple(),multi:!0,deps:[he]}]}}function _s(t,n,c){let e=o(m3),s=o(Z),l=o(n8),i=o(X6),a=o(k2),r=t?.data?{customParams:t.data}:void 0,f=a.getCurrentNavigation()?.extractedUrl.toString().substring(1)??"";return ze(f,e,s,i,l,r,c)}function ze(t,n,c,e,s,l,i){return n.getOpenIDConfiguration(i).pipe(M(a=>{let r=c.areAuthStorageTokensValid(a);return r&&e.checkSavedRedirectRouteAndNavigate(a),r||(e.saveRedirectRoute(a,t),l?s.login(a,l):s.login(a)),r}))}function l8(t){return t.reduce((n,c)=>n.concat(Array.isArray(c)?l8(c):c),[])}var Le=(()=>{class t{getConfigIdForClosestMatchingRoute(c,e){for(let s of e){let{secureRoutes:l}=s;for(let i of l??[])if(c.startsWith(i))return{matchingRoute:i,matchingConfig:s}}return{matchingRoute:null,matchingConfig:null}}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Vs(){return(t,n)=>ge(t,n,{configurationService:o(m3),authStateService:o(Z),closestMatchingRouteService:o(Le),loggerService:o(b)})}function ge(t,n,c){if(!c.configurationService.hasAtLeastOneConfig())return n(t);let e=c.configurationService.getAllConfigurations(),s=e.map(f=>f.secureRoutes||[]);if(l8(s).length===0)return c.loggerService.logDebug(e[0],"No routes to check configured"),n(t);let{matchingConfig:i,matchingRoute:a}=c.closestMatchingRouteService.getConfigIdForClosestMatchingRoute(t.url,e);if(!i)return c.loggerService.logDebug(e[0],`Did not find any configured route for route ${t.url}`),n(t);c.loggerService.logDebug(i,`'${t.url}' matches configured route '${a}'`);let r=c.authStateService.getAccessToken(i);return r?(c.loggerService.logDebug(i,`'${t.url}' matches configured route '${a}', adding token`),t=t.clone({headers:t.headers.set("Authorization","Bearer "+r)}),n(t)):(c.loggerService.logDebug(i,`Wanted to add token to ${t.url} but found no token: '${r}'`),n(t))}var Gs=(()=>{class t{read(c){return localStorage.getItem(c)}write(c,e){localStorage.setItem(c,e)}remove(c){localStorage.removeItem(c)}clear(){localStorage.clear()}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Me(t,n,c){return(n=ve(n))in t?Object.defineProperty(t,n,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[n]=c,t}function i8(t,n){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),c.push.apply(c,e)}return c}function m(t){for(var n=1;n<arguments.length;n++){var c=arguments[n]!=null?arguments[n]:{};n%2?i8(Object(c),!0).forEach(function(e){Me(t,e,c[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):i8(Object(c)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))})}return t}function Ce(t,n){if(typeof t!="object"||!t)return t;var c=t[Symbol.toPrimitive];if(c!==void 0){var e=c.call(t,n||"default");if(typeof e!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function ve(t){var n=Ce(t,"string");return typeof n=="symbol"?n:n+""}var a8=()=>{},i0={},T8={},P8=null,E8={mark:a8,measure:a8};try{typeof window<"u"&&(i0=window),typeof document<"u"&&(T8=document),typeof MutationObserver<"u"&&(P8=MutationObserver),typeof performance<"u"&&(E8=performance)}catch{}var{userAgent:r8=""}=i0.navigator||{},v2=i0,D=T8,o8=P8,z3=E8,Xs=!!v2.document,p2=!!D.documentElement&&!!D.head&&typeof D.addEventListener=="function"&&typeof D.createElement=="function",F8=~r8.indexOf("MSIE")||~r8.indexOf("Trident/"),Se=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,xe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,U8={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},we={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},O8=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],q="classic",S3="duotone",be="sharp",ye="sharp-duotone",H8=[q,S3,be,ye],Ne={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},ke={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},Ae=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),Re={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},Ie=["fak","fa-kit","fakd","fa-kit-duotone"],f8={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},De=["kit"],Te={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},Pe=["fak","fakd"],Ee={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},u8={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},L3={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Fe=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Ue=["fak","fa-kit","fakd","fa-kit-duotone"],Oe={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},He={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},We={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},$4={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},je=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],q4=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...Fe,...je],Be=["solid","regular","light","thin","duotone","brands"],W8=[1,2,3,4,5,6,7,8,9,10],$e=W8.concat([11,12,13,14,15,16,17,18,19,20]),qe=[...Object.keys(We),...Be,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",L3.GROUP,L3.SWAP_OPACITY,L3.PRIMARY,L3.SECONDARY].concat(W8.map(t=>"".concat(t,"x"))).concat($e.map(t=>"w-".concat(t))),_e={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},h2="___FONT_AWESOME___",_4=16,j8="fa",B8="svg-inline--fa",D2="data-fa-i2svg",V4="data-fa-pseudo-element",Ve="data-fa-pseudo-element-pending",a0="data-prefix",r0="data-icon",d8="fontawesome-i2svg",Ge="async",Ke=["HTML","HEAD","STYLE","SCRIPT"],$8=(()=>{try{return!0}catch{return!1}})();function T1(t){return new Proxy(t,{get(n,c){return c in n?n[c]:n[q]}})}var q8=m({},U8);q8[q]=m(m(m(m({},{"fa-duotone":"duotone"}),U8[q]),f8.kit),f8["kit-duotone"]);var Ye=T1(q8),G4=m({},Re);G4[q]=m(m(m(m({},{duotone:"fad"}),G4[q]),u8.kit),u8["kit-duotone"]);var h8=T1(G4),K4=m({},$4);K4[q]=m(m({},K4[q]),Ee.kit);var o0=T1(K4),Y4=m({},He);Y4[q]=m(m({},Y4[q]),Te.kit);var Qs=T1(Y4),Xe=Se,_8="fa-layers-text",Qe=xe,Je=m({},Ne),Js=T1(Je),Ze=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],O4=we,c9=[...De,...qe],A1=v2.FontAwesomeConfig||{};function e9(t){var n=D.querySelector("script["+t+"]");if(n)return n.getAttribute(t)}function t9(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}D&&typeof D.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(n=>{let[c,e]=n,s=t9(e9(c));s!=null&&(A1[e]=s)});var V8={styleDefault:"solid",familyDefault:q,cssPrefix:j8,replacementClass:B8,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};A1.familyPrefix&&(A1.cssPrefix=A1.familyPrefix);var t1=m(m({},V8),A1);t1.autoReplaceSvg||(t1.observeMutations=!1);var v={};Object.keys(V8).forEach(t=>{Object.defineProperty(v,t,{enumerable:!0,set:function(n){t1[t]=n,R1.forEach(c=>c(v))},get:function(){return t1[t]}})});Object.defineProperty(v,"familyPrefix",{enumerable:!0,set:function(t){t1.cssPrefix=t,R1.forEach(n=>n(v))},get:function(){return t1.cssPrefix}});v2.FontAwesomeConfig=v;var R1=[];function s9(t){return R1.push(t),()=>{R1.splice(R1.indexOf(t),1)}}var C2=_4,l2={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function n9(t){if(!t||!p2)return;let n=D.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=t;let c=D.head.childNodes,e=null;for(let s=c.length-1;s>-1;s--){let l=c[s],i=(l.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(i)>-1&&(e=l)}return D.head.insertBefore(n,e),t}var l9="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function I1(){let t=12,n="";for(;t-- >0;)n+=l9[Math.random()*62|0];return n}function s1(t){let n=[];for(let c=(t||[]).length>>>0;c--;)n[c]=t[c];return n}function f0(t){return t.classList?s1(t.classList):(t.getAttribute("class")||"").split(" ").filter(n=>n)}function G8(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i9(t){return Object.keys(t||{}).reduce((n,c)=>n+"".concat(c,'="').concat(G8(t[c]),'" '),"").trim()}function x3(t){return Object.keys(t||{}).reduce((n,c)=>n+"".concat(c,": ").concat(t[c].trim(),";"),"")}function u0(t){return t.size!==l2.size||t.x!==l2.x||t.y!==l2.y||t.rotate!==l2.rotate||t.flipX||t.flipY}function a9(t){let{transform:n,containerWidth:c,iconWidth:e}=t,s={transform:"translate(".concat(c/2," 256)")},l="translate(".concat(n.x*32,", ").concat(n.y*32,") "),i="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),a="rotate(".concat(n.rotate," 0 0)"),r={transform:"".concat(l," ").concat(i," ").concat(a)},f={transform:"translate(".concat(e/2*-1," -256)")};return{outer:s,inner:r,path:f}}function r9(t){let{transform:n,width:c=_4,height:e=_4,startCentered:s=!1}=t,l="";return s&&F8?l+="translate(".concat(n.x/C2-c/2,"em, ").concat(n.y/C2-e/2,"em) "):s?l+="translate(calc(-50% + ".concat(n.x/C2,"em), calc(-50% + ").concat(n.y/C2,"em)) "):l+="translate(".concat(n.x/C2,"em, ").concat(n.y/C2,"em) "),l+="scale(".concat(n.size/C2*(n.flipX?-1:1),", ").concat(n.size/C2*(n.flipY?-1:1),") "),l+="rotate(".concat(n.rotate,"deg) "),l}var o9=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function K8(){let t=j8,n=B8,c=v.cssPrefix,e=v.replacementClass,s=o9;if(c!==t||e!==n){let l=new RegExp("\\.".concat(t,"\\-"),"g"),i=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(n),"g");s=s.replace(l,".".concat(c,"-")).replace(i,"--".concat(c,"-")).replace(a,".".concat(e))}return s}var m8=!1;function H4(){v.autoAddCss&&!m8&&(n9(K8()),m8=!0)}var f9={mixout(){return{dom:{css:K8,insertCss:H4}}},hooks(){return{beforeDOMElementCreation(){H4()},beforeI2svg(){H4()}}}},m2=v2||{};m2[h2]||(m2[h2]={});m2[h2].styles||(m2[h2].styles={});m2[h2].hooks||(m2[h2].hooks={});m2[h2].shims||(m2[h2].shims=[]);var i2=m2[h2],Y8=[],X8=function(){D.removeEventListener("DOMContentLoaded",X8),C3=1,Y8.map(t=>t())},C3=!1;p2&&(C3=(D.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(D.readyState),C3||D.addEventListener("DOMContentLoaded",X8));function u9(t){p2&&(C3?setTimeout(t,0):Y8.push(t))}function P1(t){let{tag:n,attributes:c={},children:e=[]}=t;return typeof t=="string"?G8(t):"<".concat(n," ").concat(i9(c),">").concat(e.map(P1).join(""),"</").concat(n,">")}function p8(t,n,c){if(t&&t[n]&&t[n][c])return{prefix:n,iconName:c,icon:t[n][c]}}var d9=function(n,c){return function(e,s,l,i){return n.call(c,e,s,l,i)}},W4=function(n,c,e,s){var l=Object.keys(n),i=l.length,a=s!==void 0?d9(c,s):c,r,f,u;for(e===void 0?(r=1,u=n[l[0]]):(r=0,u=e);r<i;r++)f=l[r],u=a(u,n[f],f,n);return u};function h9(t){let n=[],c=0,e=t.length;for(;c<e;){let s=t.charCodeAt(c++);if(s>=55296&&s<=56319&&c<e){let l=t.charCodeAt(c++);(l&64512)==56320?n.push(((s&1023)<<10)+(l&1023)+65536):(n.push(s),c--)}else n.push(s)}return n}function X4(t){let n=h9(t);return n.length===1?n[0].toString(16):null}function m9(t,n){let c=t.length,e=t.charCodeAt(n),s;return e>=55296&&e<=56319&&c>n+1&&(s=t.charCodeAt(n+1),s>=56320&&s<=57343)?(e-55296)*1024+s-56320+65536:e}function z8(t){return Object.keys(t).reduce((n,c)=>{let e=t[c];return!!e.icon?n[e.iconName]=e.icon:n[c]=e,n},{})}function Q4(t,n){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:e=!1}=c,s=z8(n);typeof i2.hooks.addPack=="function"&&!e?i2.hooks.addPack(t,z8(n)):i2.styles[t]=m(m({},i2.styles[t]||{}),s),t==="fas"&&Q4("fa",n)}var{styles:D1,shims:p9}=i2,Q8=Object.keys(o0),z9=Q8.reduce((t,n)=>(t[n]=Object.keys(o0[n]),t),{}),d0=null,J8={},Z8={},c5={},e5={},t5={};function L9(t){return~c9.indexOf(t)}function g9(t,n){let c=n.split("-"),e=c[0],s=c.slice(1).join("-");return e===t&&s!==""&&!L9(s)?s:null}var s5=()=>{let t=e=>W4(D1,(s,l,i)=>(s[i]=W4(l,e,{}),s),{});J8=t((e,s,l)=>(s[3]&&(e[s[3]]=l),s[2]&&s[2].filter(a=>typeof a=="number").forEach(a=>{e[a.toString(16)]=l}),e)),Z8=t((e,s,l)=>(e[l]=l,s[2]&&s[2].filter(a=>typeof a=="string").forEach(a=>{e[a]=l}),e)),t5=t((e,s,l)=>{let i=s[2];return e[l]=l,i.forEach(a=>{e[a]=l}),e});let n="far"in D1||v.autoFetchSvg,c=W4(p9,(e,s)=>{let l=s[0],i=s[1],a=s[2];return i==="far"&&!n&&(i="fas"),typeof l=="string"&&(e.names[l]={prefix:i,iconName:a}),typeof l=="number"&&(e.unicodes[l.toString(16)]={prefix:i,iconName:a}),e},{names:{},unicodes:{}});c5=c.names,e5=c.unicodes,d0=w3(v.styleDefault,{family:v.familyDefault})};s9(t=>{d0=w3(t.styleDefault,{family:v.familyDefault})});s5();function h0(t,n){return(J8[t]||{})[n]}function M9(t,n){return(Z8[t]||{})[n]}function I2(t,n){return(t5[t]||{})[n]}function n5(t){return c5[t]||{prefix:null,iconName:null}}function C9(t){let n=e5[t],c=h0("fas",t);return n||(c?{prefix:"fas",iconName:c}:null)||{prefix:null,iconName:null}}function S2(){return d0}var l5=()=>({prefix:null,iconName:null,rest:[]});function v9(t){let n=q,c=Q8.reduce((e,s)=>(e[s]="".concat(v.cssPrefix,"-").concat(s),e),{});return H8.forEach(e=>{(t.includes(c[e])||t.some(s=>z9[e].includes(s)))&&(n=e)}),n}function w3(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:c=q}=n,e=Ye[c][t];if(c===S3&&!t)return"fad";let s=h8[c][t]||h8[c][e],l=t in i2.styles?t:null;return s||l||null}function S9(t){let n=[],c=null;return t.forEach(e=>{let s=g9(v.cssPrefix,e);s?c=s:e&&n.push(e)}),{iconName:c,rest:n}}function L8(t){return t.sort().filter((n,c,e)=>e.indexOf(n)===c)}function b3(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:c=!1}=n,e=null,s=q4.concat(Ue),l=L8(t.filter(d=>s.includes(d))),i=L8(t.filter(d=>!q4.includes(d))),a=l.filter(d=>(e=d,!O8.includes(d))),[r=null]=a,f=v9(l),u=m(m({},S9(i)),{},{prefix:w3(r,{family:f})});return m(m(m({},u),y9({values:t,family:f,styles:D1,config:v,canonical:u,givenPrefix:e})),x9(c,e,u))}function x9(t,n,c){let{prefix:e,iconName:s}=c;if(t||!e||!s)return{prefix:e,iconName:s};let l=n==="fa"?n5(s):{},i=I2(e,s);return s=l.iconName||i||s,e=l.prefix||e,e==="far"&&!D1.far&&D1.fas&&!v.autoFetchSvg&&(e="fas"),{prefix:e,iconName:s}}var w9=H8.filter(t=>t!==q||t!==S3),b9=Object.keys($4).filter(t=>t!==q).map(t=>Object.keys($4[t])).flat();function y9(t){let{values:n,family:c,canonical:e,givenPrefix:s="",styles:l={},config:i={}}=t,a=c===S3,r=n.includes("fa-duotone")||n.includes("fad"),f=i.familyDefault==="duotone",u=e.prefix==="fad"||e.prefix==="fa-duotone";if(!a&&(r||f||u)&&(e.prefix="fad"),(n.includes("fa-brands")||n.includes("fab"))&&(e.prefix="fab"),!e.prefix&&w9.includes(c)&&(Object.keys(l).find(p=>b9.includes(p))||i.autoFetchSvg)){let p=Ae.get(c).defaultShortPrefixId;e.prefix=p,e.iconName=I2(e.prefix,e.iconName)||e.iconName}return(e.prefix==="fa"||s==="fa")&&(e.prefix=S2()||"fas"),e}var J4=class{constructor(){this.definitions={}}add(){for(var n=arguments.length,c=new Array(n),e=0;e<n;e++)c[e]=arguments[e];let s=c.reduce(this._pullDefinitions,{});Object.keys(s).forEach(l=>{this.definitions[l]=m(m({},this.definitions[l]||{}),s[l]),Q4(l,s[l]);let i=o0[q][l];i&&Q4(i,s[l]),s5()})}reset(){this.definitions={}}_pullDefinitions(n,c){let e=c.prefix&&c.iconName&&c.icon?{0:c}:c;return Object.keys(e).map(s=>{let{prefix:l,iconName:i,icon:a}=e[s],r=a[2];n[l]||(n[l]={}),r.length>0&&r.forEach(f=>{typeof f=="string"&&(n[l][f]=a)}),n[l][i]=a}),n}},g8=[],c1={},e1={},N9=Object.keys(e1);function k9(t,n){let{mixoutsTo:c}=n;return g8=t,c1={},Object.keys(e1).forEach(e=>{N9.indexOf(e)===-1&&delete e1[e]}),g8.forEach(e=>{let s=e.mixout?e.mixout():{};if(Object.keys(s).forEach(l=>{typeof s[l]=="function"&&(c[l]=s[l]),typeof s[l]=="object"&&Object.keys(s[l]).forEach(i=>{c[l]||(c[l]={}),c[l][i]=s[l][i]})}),e.hooks){let l=e.hooks();Object.keys(l).forEach(i=>{c1[i]||(c1[i]=[]),c1[i].push(l[i])})}e.provides&&e.provides(e1)}),c}function Z4(t,n){for(var c=arguments.length,e=new Array(c>2?c-2:0),s=2;s<c;s++)e[s-2]=arguments[s];return(c1[t]||[]).forEach(i=>{n=i.apply(null,[n,...e])}),n}function T2(t){for(var n=arguments.length,c=new Array(n>1?n-1:0),e=1;e<n;e++)c[e-1]=arguments[e];(c1[t]||[]).forEach(l=>{l.apply(null,c)})}function x2(){let t=arguments[0],n=Array.prototype.slice.call(arguments,1);return e1[t]?e1[t].apply(null,n):void 0}function c0(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:n}=t,c=t.prefix||S2();if(n)return n=I2(c,n)||n,p8(i5.definitions,c,n)||p8(i2.styles,c,n)}var i5=new J4,A9=()=>{v.autoReplaceSvg=!1,v.observeMutations=!1,T2("noAuto")},R9={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return p2?(T2("beforeI2svg",t),x2("pseudoElements2svg",t),x2("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:n}=t;v.autoReplaceSvg===!1&&(v.autoReplaceSvg=!0),v.observeMutations=!0,u9(()=>{D9({autoReplaceSvgRoot:n}),T2("watch",t)})}},I9={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:I2(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){let n=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],c=w3(t[0]);return{prefix:c,iconName:I2(c,n)||n}}if(typeof t=="string"&&(t.indexOf("".concat(v.cssPrefix,"-"))>-1||t.match(Xe))){let n=b3(t.split(" "),{skipLookups:!0});return{prefix:n.prefix||S2(),iconName:I2(n.prefix,n.iconName)||n.iconName}}if(typeof t=="string"){let n=S2();return{prefix:n,iconName:I2(n,t)||t}}}},Q={noAuto:A9,config:v,dom:R9,parse:I9,library:i5,findIconDefinition:c0,toHtml:P1},D9=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:n=D}=t;(Object.keys(i2.styles).length>0||v.autoFetchSvg)&&p2&&v.autoReplaceSvg&&Q.dom.i2svg({node:n})};function y3(t,n){return Object.defineProperty(t,"abstract",{get:n}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(c=>P1(c))}}),Object.defineProperty(t,"node",{get:function(){if(!p2)return;let c=D.createElement("div");return c.innerHTML=t.html,c.children}}),t}function T9(t){let{children:n,main:c,mask:e,attributes:s,styles:l,transform:i}=t;if(u0(i)&&c.found&&!e.found){let{width:a,height:r}=c,f={x:a/r/2,y:.5};s.style=x3(m(m({},l),{},{"transform-origin":"".concat(f.x+i.x/16,"em ").concat(f.y+i.y/16,"em")}))}return[{tag:"svg",attributes:s,children:n}]}function P9(t){let{prefix:n,iconName:c,children:e,attributes:s,symbol:l}=t,i=l===!0?"".concat(n,"-").concat(v.cssPrefix,"-").concat(c):l;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:m(m({},s),{},{id:i}),children:e}]}]}function m0(t){let{icons:{main:n,mask:c},prefix:e,iconName:s,transform:l,symbol:i,title:a,maskId:r,titleId:f,extra:u,watchable:d=!1}=t,{width:p,height:S}=c.found?c:n,g=Pe.includes(e),T=[v.replacementClass,s?"".concat(v.cssPrefix,"-").concat(s):""].filter(P2=>u.classes.indexOf(P2)===-1).filter(P2=>P2!==""||!!P2).concat(u.classes).join(" "),y={children:[],attributes:m(m({},u.attributes),{},{"data-prefix":e,"data-icon":s,class:T,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(S)})},P=g&&!~u.classes.indexOf("fa-fw")?{width:"".concat(p/S*16*.0625,"em")}:{};d&&(y.attributes[D2]=""),a&&(y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(f||I1())},children:[a]}),delete y.attributes.title);let F=m(m({},y),{},{prefix:e,iconName:s,main:n,mask:c,maskId:r,transform:l,symbol:i,styles:m(m({},P),u.styles)}),{children:x,attributes:a2}=c.found&&n.found?x2("generateAbstractMask",F)||{children:[],attributes:{}}:x2("generateAbstractIcon",F)||{children:[],attributes:{}};return F.children=x,F.attributes=a2,i?P9(F):T9(F)}function M8(t){let{content:n,width:c,height:e,transform:s,title:l,extra:i,watchable:a=!1}=t,r=m(m(m({},i.attributes),l?{title:l}:{}),{},{class:i.classes.join(" ")});a&&(r[D2]="");let f=m({},i.styles);u0(s)&&(f.transform=r9({transform:s,startCentered:!0,width:c,height:e}),f["-webkit-transform"]=f.transform);let u=x3(f);u.length>0&&(r.style=u);let d=[];return d.push({tag:"span",attributes:r,children:[n]}),l&&d.push({tag:"span",attributes:{class:"sr-only"},children:[l]}),d}function E9(t){let{content:n,title:c,extra:e}=t,s=m(m(m({},e.attributes),c?{title:c}:{}),{},{class:e.classes.join(" ")}),l=x3(e.styles);l.length>0&&(s.style=l);let i=[];return i.push({tag:"span",attributes:s,children:[n]}),c&&i.push({tag:"span",attributes:{class:"sr-only"},children:[c]}),i}var{styles:j4}=i2;function e0(t){let n=t[0],c=t[1],[e]=t.slice(4),s=null;return Array.isArray(e)?s={tag:"g",attributes:{class:"".concat(v.cssPrefix,"-").concat(O4.GROUP)},children:[{tag:"path",attributes:{class:"".concat(v.cssPrefix,"-").concat(O4.SECONDARY),fill:"currentColor",d:e[0]}},{tag:"path",attributes:{class:"".concat(v.cssPrefix,"-").concat(O4.PRIMARY),fill:"currentColor",d:e[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:e}},{found:!0,width:n,height:c,icon:s}}var F9={found:!1,width:512,height:512};function U9(t,n){!$8&&!v.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(n,'" is missing.'))}function t0(t,n){let c=n;return n==="fa"&&v.styleDefault!==null&&(n=S2()),new Promise((e,s)=>{if(c==="fa"){let l=n5(t)||{};t=l.iconName||t,n=l.prefix||n}if(t&&n&&j4[n]&&j4[n][t]){let l=j4[n][t];return e(e0(l))}U9(t,n),e(m(m({},F9),{},{icon:v.showMissingIcons&&t?x2("missingIconAbstract")||{}:{}}))})}var C8=()=>{},s0=v.measurePerformance&&z3&&z3.mark&&z3.measure?z3:{mark:C8,measure:C8},k1='FA "6.7.2"',O9=t=>(s0.mark("".concat(k1," ").concat(t," begins")),()=>a5(t)),a5=t=>{s0.mark("".concat(k1," ").concat(t," ends")),s0.measure("".concat(k1," ").concat(t),"".concat(k1," ").concat(t," begins"),"".concat(k1," ").concat(t," ends"))},p0={begin:O9,end:a5},g3=()=>{};function v8(t){return typeof(t.getAttribute?t.getAttribute(D2):null)=="string"}function H9(t){let n=t.getAttribute?t.getAttribute(a0):null,c=t.getAttribute?t.getAttribute(r0):null;return n&&c}function W9(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(v.replacementClass)}function j9(){return v.autoReplaceSvg===!0?M3.replace:M3[v.autoReplaceSvg]||M3.replace}function B9(t){return D.createElementNS("http://www.w3.org/2000/svg",t)}function $9(t){return D.createElement(t)}function r5(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:c=t.tag==="svg"?B9:$9}=n;if(typeof t=="string")return D.createTextNode(t);let e=c(t.tag);return Object.keys(t.attributes||[]).forEach(function(l){e.setAttribute(l,t.attributes[l])}),(t.children||[]).forEach(function(l){e.appendChild(r5(l,{ceFn:c}))}),e}function q9(t){let n=" ".concat(t.outerHTML," ");return n="".concat(n,"Font Awesome fontawesome.com "),n}var M3={replace:function(t){let n=t[0];if(n.parentNode)if(t[1].forEach(c=>{n.parentNode.insertBefore(r5(c),n)}),n.getAttribute(D2)===null&&v.keepOriginalSource){let c=D.createComment(q9(n));n.parentNode.replaceChild(c,n)}else n.remove()},nest:function(t){let n=t[0],c=t[1];if(~f0(n).indexOf(v.replacementClass))return M3.replace(t);let e=new RegExp("".concat(v.cssPrefix,"-.*"));if(delete c[0].attributes.id,c[0].attributes.class){let l=c[0].attributes.class.split(" ").reduce((i,a)=>(a===v.replacementClass||a.match(e)?i.toSvg.push(a):i.toNode.push(a),i),{toNode:[],toSvg:[]});c[0].attributes.class=l.toSvg.join(" "),l.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",l.toNode.join(" "))}let s=c.map(l=>P1(l)).join(`
`);n.setAttribute(D2,""),n.innerHTML=s}};function S8(t){t()}function o5(t,n){let c=typeof n=="function"?n:g3;if(t.length===0)c();else{let e=S8;v.mutateApproach===Ge&&(e=v2.requestAnimationFrame||S8),e(()=>{let s=j9(),l=p0.begin("mutate");t.map(s),l(),c()})}}var z0=!1;function f5(){z0=!0}function n0(){z0=!1}var v3=null;function x8(t){if(!o8||!v.observeMutations)return;let{treeCallback:n=g3,nodeCallback:c=g3,pseudoElementsCallback:e=g3,observeMutationsRoot:s=D}=t;v3=new o8(l=>{if(z0)return;let i=S2();s1(l).forEach(a=>{if(a.type==="childList"&&a.addedNodes.length>0&&!v8(a.addedNodes[0])&&(v.searchPseudoElements&&e(a.target),n(a.target)),a.type==="attributes"&&a.target.parentNode&&v.searchPseudoElements&&e(a.target.parentNode),a.type==="attributes"&&v8(a.target)&&~Ze.indexOf(a.attributeName))if(a.attributeName==="class"&&H9(a.target)){let{prefix:r,iconName:f}=b3(f0(a.target));a.target.setAttribute(a0,r||i),f&&a.target.setAttribute(r0,f)}else W9(a.target)&&c(a.target)})}),p2&&v3.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function _9(){v3&&v3.disconnect()}function V9(t){let n=t.getAttribute("style"),c=[];return n&&(c=n.split(";").reduce((e,s)=>{let l=s.split(":"),i=l[0],a=l.slice(1);return i&&a.length>0&&(e[i]=a.join(":").trim()),e},{})),c}function G9(t){let n=t.getAttribute("data-prefix"),c=t.getAttribute("data-icon"),e=t.innerText!==void 0?t.innerText.trim():"",s=b3(f0(t));return s.prefix||(s.prefix=S2()),n&&c&&(s.prefix=n,s.iconName=c),s.iconName&&s.prefix||(s.prefix&&e.length>0&&(s.iconName=M9(s.prefix,t.innerText)||h0(s.prefix,X4(t.innerText))),!s.iconName&&v.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function K9(t){let n=s1(t.attributes).reduce((s,l)=>(s.name!=="class"&&s.name!=="style"&&(s[l.name]=l.value),s),{}),c=t.getAttribute("title"),e=t.getAttribute("data-fa-title-id");return v.autoA11y&&(c?n["aria-labelledby"]="".concat(v.replacementClass,"-title-").concat(e||I1()):(n["aria-hidden"]="true",n.focusable="false")),n}function Y9(){return{iconName:null,title:null,titleId:null,prefix:null,transform:l2,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function w8(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:c,prefix:e,rest:s}=G9(t),l=K9(t),i=Z4("parseNodeAttributes",{},t),a=n.styleParser?V9(t):[];return m({iconName:c,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:e,transform:l2,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:a,attributes:l}},i)}var{styles:X9}=i2;function u5(t){let n=v.autoReplaceSvg==="nest"?w8(t,{styleParser:!1}):w8(t);return~n.extra.classes.indexOf(_8)?x2("generateLayersText",t,n):x2("generateSvgReplacementMutation",t,n)}function Q9(){return[...Ie,...q4]}function b8(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!p2)return Promise.resolve();let c=D.documentElement.classList,e=u=>c.add("".concat(d8,"-").concat(u)),s=u=>c.remove("".concat(d8,"-").concat(u)),l=v.autoFetchSvg?Q9():O8.concat(Object.keys(X9));l.includes("fa")||l.push("fa");let i=[".".concat(_8,":not([").concat(D2,"])")].concat(l.map(u=>".".concat(u,":not([").concat(D2,"])"))).join(", ");if(i.length===0)return Promise.resolve();let a=[];try{a=s1(t.querySelectorAll(i))}catch{}if(a.length>0)e("pending"),s("complete");else return Promise.resolve();let r=p0.begin("onTree"),f=a.reduce((u,d)=>{try{let p=u5(d);p&&u.push(p)}catch(p){$8||p.name==="MissingIcon"&&console.error(p)}return u},[]);return new Promise((u,d)=>{Promise.all(f).then(p=>{o5(p,()=>{e("active"),e("complete"),s("pending"),typeof n=="function"&&n(),r(),u()})}).catch(p=>{r(),d(p)})})}function J9(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;u5(t).then(c=>{c&&o5([c],n)})}function Z9(t){return function(n){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=(n||{}).icon?n:c0(n||{}),{mask:s}=c;return s&&(s=(s||{}).icon?s:c0(s||{})),t(e,m(m({},c),{},{mask:s}))}}var ct=function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:c=l2,symbol:e=!1,mask:s=null,maskId:l=null,title:i=null,titleId:a=null,classes:r=[],attributes:f={},styles:u={}}=n;if(!t)return;let{prefix:d,iconName:p,icon:S}=t;return y3(m({type:"icon"},t),()=>(T2("beforeDOMElementCreation",{iconDefinition:t,params:n}),v.autoA11y&&(i?f["aria-labelledby"]="".concat(v.replacementClass,"-title-").concat(a||I1()):(f["aria-hidden"]="true",f.focusable="false")),m0({icons:{main:e0(S),mask:s?e0(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:p,transform:m(m({},l2),c),symbol:e,title:i,maskId:l,titleId:a,extra:{attributes:f,styles:u,classes:r}})))},et={mixout(){return{icon:Z9(ct)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=b8,t.nodeCallback=J9,t}}},provides(t){t.i2svg=function(n){let{node:c=D,callback:e=()=>{}}=n;return b8(c,e)},t.generateSvgReplacementMutation=function(n,c){let{iconName:e,title:s,titleId:l,prefix:i,transform:a,symbol:r,mask:f,maskId:u,extra:d}=c;return new Promise((p,S)=>{Promise.all([t0(e,i),f.iconName?t0(f.iconName,f.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(g=>{let[T,y]=g;p([n,m0({icons:{main:T,mask:y},prefix:i,iconName:e,transform:a,symbol:r,maskId:u,title:s,titleId:l,extra:d,watchable:!0})])}).catch(S)})},t.generateAbstractIcon=function(n){let{children:c,attributes:e,main:s,transform:l,styles:i}=n,a=x3(i);a.length>0&&(e.style=a);let r;return u0(l)&&(r=x2("generateAbstractTransformGrouping",{main:s,transform:l,containerWidth:s.width,iconWidth:s.width})),c.push(r||s.icon),{children:c,attributes:e}}}},tt={mixout(){return{layer(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:c=[]}=n;return y3({type:"layer"},()=>{T2("beforeDOMElementCreation",{assembler:t,params:n});let e=[];return t(s=>{Array.isArray(s)?s.map(l=>{e=e.concat(l.abstract)}):e=e.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(v.cssPrefix,"-layers"),...c].join(" ")},children:e}]})}}}},st={mixout(){return{counter(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:c=null,classes:e=[],attributes:s={},styles:l={}}=n;return y3({type:"counter",content:t},()=>(T2("beforeDOMElementCreation",{content:t,params:n}),E9({content:t.toString(),title:c,extra:{attributes:s,styles:l,classes:["".concat(v.cssPrefix,"-layers-counter"),...e]}})))}}}},nt={mixout(){return{text(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:c=l2,title:e=null,classes:s=[],attributes:l={},styles:i={}}=n;return y3({type:"text",content:t},()=>(T2("beforeDOMElementCreation",{content:t,params:n}),M8({content:t,transform:m(m({},l2),c),title:e,extra:{attributes:l,styles:i,classes:["".concat(v.cssPrefix,"-layers-text"),...s]}})))}}},provides(t){t.generateLayersText=function(n,c){let{title:e,transform:s,extra:l}=c,i=null,a=null;if(F8){let r=parseInt(getComputedStyle(n).fontSize,10),f=n.getBoundingClientRect();i=f.width/r,a=f.height/r}return v.autoA11y&&!e&&(l.attributes["aria-hidden"]="true"),Promise.resolve([n,M8({content:n.innerHTML,width:i,height:a,transform:s,title:e,extra:l,watchable:!0})])}}},lt=new RegExp('"',"ug"),y8=[1105920,1112319],N8=m(m(m(m({},{FontAwesome:{normal:"fas",400:"fas"}}),ke),_e),Oe),l0=Object.keys(N8).reduce((t,n)=>(t[n.toLowerCase()]=N8[n],t),{}),it=Object.keys(l0).reduce((t,n)=>{let c=l0[n];return t[n]=c[900]||[...Object.entries(c)][0][1],t},{});function at(t){let n=t.replace(lt,""),c=m9(n,0),e=c>=y8[0]&&c<=y8[1],s=n.length===2?n[0]===n[1]:!1;return{value:X4(s?n[0]:n),isSecondary:e||s}}function rt(t,n){let c=t.replace(/^['"]|['"]$/g,"").toLowerCase(),e=parseInt(n),s=isNaN(e)?"normal":e;return(l0[c]||{})[s]||it[c]}function k8(t,n){let c="".concat(Ve).concat(n.replace(":","-"));return new Promise((e,s)=>{if(t.getAttribute(c)!==null)return e();let i=s1(t.children).filter(p=>p.getAttribute(V4)===n)[0],a=v2.getComputedStyle(t,n),r=a.getPropertyValue("font-family"),f=r.match(Qe),u=a.getPropertyValue("font-weight"),d=a.getPropertyValue("content");if(i&&!f)return t.removeChild(i),e();if(f&&d!=="none"&&d!==""){let p=a.getPropertyValue("content"),S=rt(r,u),{value:g,isSecondary:T}=at(p),y=f[0].startsWith("FontAwesome"),P=h0(S,g),F=P;if(y){let x=C9(g);x.iconName&&x.prefix&&(P=x.iconName,S=x.prefix)}if(P&&!T&&(!i||i.getAttribute(a0)!==S||i.getAttribute(r0)!==F)){t.setAttribute(c,F),i&&t.removeChild(i);let x=Y9(),{extra:a2}=x;a2.attributes[V4]=n,t0(P,S).then(P2=>{let g5=m0(m(m({},x),{},{icons:{main:P2,mask:l5()},prefix:S,iconName:F,extra:a2,watchable:!0})),N3=D.createElementNS("http://www.w3.org/2000/svg","svg");n==="::before"?t.insertBefore(N3,t.firstChild):t.appendChild(N3),N3.outerHTML=g5.map(M5=>P1(M5)).join(`
`),t.removeAttribute(c),e()}).catch(s)}else e()}else e()})}function ot(t){return Promise.all([k8(t,"::before"),k8(t,"::after")])}function ft(t){return t.parentNode!==document.head&&!~Ke.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(V4)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function A8(t){if(p2)return new Promise((n,c)=>{let e=s1(t.querySelectorAll("*")).filter(ft).map(ot),s=p0.begin("searchPseudoElements");f5(),Promise.all(e).then(()=>{s(),n0(),n()}).catch(()=>{s(),n0(),c()})})}var ut={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=A8,t}}},provides(t){t.pseudoElements2svg=function(n){let{node:c=D}=n;v.searchPseudoElements&&A8(c)}}},R8=!1,dt={mixout(){return{dom:{unwatch(){f5(),R8=!0}}}},hooks(){return{bootstrap(){x8(Z4("mutationObserverCallbacks",{}))},noAuto(){_9()},watch(t){let{observeMutationsRoot:n}=t;R8?n0():x8(Z4("mutationObserverCallbacks",{observeMutationsRoot:n}))}}}},I8=t=>{let n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((c,e)=>{let s=e.toLowerCase().split("-"),l=s[0],i=s.slice(1).join("-");if(l&&i==="h")return c.flipX=!0,c;if(l&&i==="v")return c.flipY=!0,c;if(i=parseFloat(i),isNaN(i))return c;switch(l){case"grow":c.size=c.size+i;break;case"shrink":c.size=c.size-i;break;case"left":c.x=c.x-i;break;case"right":c.x=c.x+i;break;case"up":c.y=c.y-i;break;case"down":c.y=c.y+i;break;case"rotate":c.rotate=c.rotate+i;break}return c},n)},ht={mixout(){return{parse:{transform:t=>I8(t)}}},hooks(){return{parseNodeAttributes(t,n){let c=n.getAttribute("data-fa-transform");return c&&(t.transform=I8(c)),t}}},provides(t){t.generateAbstractTransformGrouping=function(n){let{main:c,transform:e,containerWidth:s,iconWidth:l}=n,i={transform:"translate(".concat(s/2," 256)")},a="translate(".concat(e.x*32,", ").concat(e.y*32,") "),r="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),f="rotate(".concat(e.rotate," 0 0)"),u={transform:"".concat(a," ").concat(r," ").concat(f)},d={transform:"translate(".concat(l/2*-1," -256)")},p={outer:i,inner:u,path:d};return{tag:"g",attributes:m({},p.outer),children:[{tag:"g",attributes:m({},p.inner),children:[{tag:c.icon.tag,children:c.icon.children,attributes:m(m({},c.icon.attributes),p.path)}]}]}}}},B4={x:0,y:0,width:"100%",height:"100%"};function D8(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||n)&&(t.attributes.fill="black"),t}function mt(t){return t.tag==="g"?t.children:[t]}var pt={hooks(){return{parseNodeAttributes(t,n){let c=n.getAttribute("data-fa-mask"),e=c?b3(c.split(" ").map(s=>s.trim())):l5();return e.prefix||(e.prefix=S2()),t.mask=e,t.maskId=n.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(n){let{children:c,attributes:e,main:s,mask:l,maskId:i,transform:a}=n,{width:r,icon:f}=s,{width:u,icon:d}=l,p=a9({transform:a,containerWidth:u,iconWidth:r}),S={tag:"rect",attributes:m(m({},B4),{},{fill:"white"})},g=f.children?{children:f.children.map(D8)}:{},T={tag:"g",attributes:m({},p.inner),children:[D8(m({tag:f.tag,attributes:m(m({},f.attributes),p.path)},g))]},y={tag:"g",attributes:m({},p.outer),children:[T]},P="mask-".concat(i||I1()),F="clip-".concat(i||I1()),x={tag:"mask",attributes:m(m({},B4),{},{id:P,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[S,y]},a2={tag:"defs",children:[{tag:"clipPath",attributes:{id:F},children:mt(d)},x]};return c.push(a2,{tag:"rect",attributes:m({fill:"currentColor","clip-path":"url(#".concat(F,")"),mask:"url(#".concat(P,")")},B4)}),{children:c,attributes:e}}}},zt={provides(t){let n=!1;v2.matchMedia&&(n=v2.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){let c=[],e={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};c.push({tag:"path",attributes:m(m({},e),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let l=m(m({},s),{},{attributeName:"opacity"}),i={tag:"circle",attributes:m(m({},e),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||i.children.push({tag:"animate",attributes:m(m({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:m(m({},l),{},{values:"1;0;1;1;0;1;"})}),c.push(i),c.push({tag:"path",attributes:m(m({},e),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:m(m({},l),{},{values:"1;0;0;0;0;1;"})}]}),n||c.push({tag:"path",attributes:m(m({},e),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:m(m({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:c}}}},Lt={hooks(){return{parseNodeAttributes(t,n){let c=n.getAttribute("data-fa-symbol"),e=c===null?!1:c===""?!0:c;return t.symbol=e,t}}}},gt=[f9,et,tt,st,nt,ut,dt,ht,pt,zt,Lt];k9(gt,{mixoutsTo:Q});var Zs=Q.noAuto,d5=Q.config,cn=Q.library,h5=Q.dom,m5=Q.parse,en=Q.findIconDefinition,tn=Q.toHtml,p5=Q.icon,sn=Q.layer,Mt=Q.text,Ct=Q.counter;var vt=["*"],St=t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)},xt=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},L5=t=>t!=null&&(t===90||t===180||t===270||t==="90"||t==="180"||t==="270"),wt=t=>{let n=L5(t.rotate),c={[`fa-${t.animation}`]:t.animation!=null&&!t.animation.startsWith("spin"),"fa-spin":t.animation==="spin"||t.animation==="spin-reverse","fa-spin-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-spin-reverse":t.animation==="spin-reverse"||t.animation==="spin-pulse-reverse","fa-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both",[`fa-${t.size}`]:t.size!==null,[`fa-rotate-${t.rotate}`]:n,"fa-rotate-by":t.rotate!=null&&!n,[`fa-pull-${t.pull}`]:t.pull!==null,[`fa-stack-${t.stackItemSize}`]:t.stackItemSize!=null};return Object.keys(c).map(e=>c[e]?e:null).filter(e=>e)},L0=new WeakSet,z5="fa-auto-css";function bt(t,n){if(!n.autoAddCss||L0.has(t))return;if(t.getElementById(z5)!=null){n.autoAddCss=!1,L0.add(t);return}let c=t.createElement("style");c.setAttribute("type","text/css"),c.setAttribute("id",z5),c.innerHTML=h5.css();let e=t.head.childNodes,s=null;for(let l=e.length-1;l>-1;l--){let i=e[l],a=i.nodeName.toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(s=i)}t.head.insertBefore(c,s),n.autoAddCss=!1,L0.add(t)}var yt=t=>t.prefix!==void 0&&t.iconName!==void 0,Nt=(t,n)=>yt(t)?t:Array.isArray(t)&&t.length===2?{prefix:t[0],iconName:t[1]}:{prefix:n,iconName:t},kt=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this._autoAddCss=!0}set autoAddCss(c){d5.autoAddCss=c,this._autoAddCss=c}get autoAddCss(){return this._autoAddCss}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),At=(()=>{class t{constructor(){this.definitions={}}addIcons(...c){for(let e of c){e.prefix in this.definitions||(this.definitions[e.prefix]={}),this.definitions[e.prefix][e.iconName]=e;for(let s of e.icon[2])typeof s=="string"&&(this.definitions[e.prefix][s]=e)}}addIconPacks(...c){for(let e of c){let s=Object.keys(e).map(l=>e[l]);this.addIcons(...s)}}getIconDefinition(c,e){return c in this.definitions&&e in this.definitions[c]?this.definitions[c][e]:null}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Rt=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(c){if("size"in c)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275dir=$1({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[H2]})}}return t})(),It=(()=>{class t{constructor(c,e){this.renderer=c,this.elementRef=e}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(c){"size"in c&&(c.size.currentValue!=null&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${c.size.currentValue}`),c.size.previousValue!=null&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${c.size.previousValue}`))}static{this.\u0275fac=function(e){return new(e||t)(f2(H3),f2(U3))}}static{this.\u0275cmp=a1({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[H2],ngContentSelectors:vt,decls:1,vars:0,template:function(e,s){e&1&&(G0(),K0(0))},encapsulation:2})}}return t})(),gn=(()=>{class t{constructor(c,e,s,l,i){this.sanitizer=c,this.config=e,this.iconLibrary=s,this.stackItem=l,this.document=o($),i!=null&&l==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(c){if(this.icon==null&&this.config.fallbackIcon==null){xt();return}if(c){let e=this.findIconDefinition(this.icon??this.config.fallbackIcon);if(e!=null){let s=this.buildParams();bt(this.document,this.config);let l=p5(e,s);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(l.html.join(`
`))}}}render(){this.ngOnChanges({})}findIconDefinition(c){let e=Nt(c,this.config.defaultPrefix);if("icon"in e)return e;let s=this.iconLibrary.getIconDefinition(e.prefix,e.iconName);return s??(St(e),null)}buildParams(){let c={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:typeof this.fixedWidth=="boolean"?this.fixedWidth:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize:null},e=typeof this.transform=="string"?m5.transform(this.transform):this.transform,s={};return c.rotate!=null&&!L5(c.rotate)&&(s["--fa-rotate-angle"]=`${c.rotate}`),{title:this.title,transform:e,classes:wt(c),mask:this.mask!=null?this.findIconDefinition(this.mask):null,symbol:this.symbol,attributes:{role:this.a11yRole},styles:s}}static{this.\u0275fac=function(e){return new(e||t)(f2(t6),f2(kt),f2(At),f2(Rt,8),f2(It,8))}}static{this.\u0275cmp=a1({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(e,s){e&2&&(V0("innerHTML",s.renderedIconHTML,F0),j3("title",s.title))},inputs:{icon:"icon",title:"title",animation:"animation",mask:"mask",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[H2],decls:0,vars:0,template:function(e,s){},encapsulation:2})}}return t})();var Mn=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275mod=B1({type:t})}static{this.\u0275inj=U1({})}}return t})();var vn={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]};var Sn={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M352 256c0 22.2-1.2 43.6-3.3 64l-185.3 0c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64l185.3 0c2.2 20.4 3.3 41.8 3.3 64zm28.8-64l123.1 0c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64l-123.1 0c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32l-116.7 0c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0l-176.6 0c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 20.9 58.2 27 94.7zm-209 0L18.6 160C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192l123.1 0c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64L8.1 320C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6l176.6 0c-6.1 36.4-15.5 68.6-27 94.6c-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6C112.2 482.9 48.6 426.1 18.6 352l116.7 0zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6c25.5-34.2 45.2-87.7 55.3-151.6l116.7 0z"]};var xn={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]};var wn={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]};var bn={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]};var yn={prefix:"fas",iconName:"briefcase",icon:[512,512,[128188],"f0b1","M184 48l144 0c4.4 0 8 3.6 8 8l0 40L176 96l0-40c0-4.4 3.6-8 8-8zm-56 8l0 40L64 96C28.7 96 0 124.7 0 160l0 96 192 0 128 0 192 0 0-96c0-35.3-28.7-64-64-64l-64 0 0-40c0-30.9-25.1-56-56-56L184 0c-30.9 0-56 25.1-56 56zM512 288l-192 0 0 32c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32l0-32L0 288 0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-128z"]};export{Q5 as a,k2 as b,zs as c,gn as d,Mn as e,vn as f,Sn as g,xn as h,wn as i,bn as j,yn as k,G6 as l,he as m,$s as n,qs as o,_s as p,Vs as q,Gs as r};
